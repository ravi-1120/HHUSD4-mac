<apex:page standardController="Call2_vod__c" recordSetVar="Calls" extensions="VOD_GetRecordIds,VODRedirectController">
    <apex:composition template="{!$Page.RedirectLgtnVod}"/>

    <apex:includeScript value="{!VodUrl}/js/vendor/alertify.min.js" />
    <apex:stylesheet value="{!VodUrl}/css/vendor/alertify.core.css" />
    <apex:stylesheet value="{!VodUrl}/css/vendor/alertify.default.css" />

    <script>

    //preload alert OK and Cancel messages
    alertify.set({
      labels: {
        ok: "{!TranslatedOk}",
        cancel: "{!TranslatedCancel}"
      }
    });

    var ids = "{!selectedRecordIds}".split(",");
    if (ids) {
      if (ids.length == 1 && ids[0] !== "") {
        var queryParams = "&lgtvf=true&pdf=file&CID=" + ids[0];
        com.vod309.redirect.redirect("receipt",queryParams);
      } else if (ids.length > 1) {
          alertify.alert('You can only select one row', function (ok) {
              if (ok) {
                window.history.back();
              }
          });
        } else {
            alertify.alert('No row has been selected', function (ok) {
                if (ok) {
                  window.history.back();
                }
            });
        }
    } else {
        alertify.alert('Not configured properly', function (ok) {
            if (ok) {
              window.history.back();
            }
        });
    }

  </script>

</apex:page>