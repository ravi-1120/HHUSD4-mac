<apex:page standardController="Event_Attendee_vod__c" extensions="EMRedirectController">
	<apex:form >
        <apex:actionFunction action="{!redirectEdit}" name="redirectEdit"/>
        <apex:inputHidden value="{!Event_Attendee_vod__c.EM_Attendee_vod__c}"/>
        <apex:inputHidden value="{!Event_Attendee_vod__c.EM_Event_Speaker_vod__c}"/>
        <apex:inputHidden value="{!Event_Attendee_vod__c.EM_Event_Team_Member_vod__c}"/>
    </apex:form>
    <div id="editRedirectDiv"></div>
    <apex:includeLightning />
    <script>
        if (!{!isMedicalEvent} && {!$User.UIThemeDisplayed == 'Theme4d'}) {
            $Lightning.use("c:veevaEventAttendeeEditRedirectApp", function() {
                $Lightning.createComponent("c:emEventAttendeeEditRedirect", {
                    recordId: '{!objectId}',
                    objectApiName: '{!objectApiName}'
                }, "editRedirectDiv");
            });
        } else {
            redirectEdit();
        }
    </script>
</apex:page>