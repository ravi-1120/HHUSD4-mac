<apex:page standardController="Medical_Inquiry_vod__c" recordSetVar="MedicalInquiries" extensions="VOD_GetRecordIds,VODRedirectController">
    <apex:composition template="{!$Page.RedirectLgtnVod}"/>

    <apex:includeScript value="{!VodUrl}/js/vendor/alertify.min.js" />
    <apex:stylesheet value="{!VodUrl}/css/vendor/alertify.core.css" />
    <apex:stylesheet value="{!VodUrl}/css/vendor/alertify.default.css" />

    <script>

        //preload alert OK and Cancel messages
        alertify.set({
            labels: {
                ok: "{!TranslatedOk}",
                cancel: "{!TranslatedCancel}"
            }
        });
        
        var ids = '{!selectedRecordIds}'.split(",");
        if (ids) {
            if (ids.length == 1 && ids[0] !== "") {
                var myqueryparms = "&id=" + ids[0] + "&lgtvf=true";
                com.vod309.redirect.redirect("inquiryReceipt", myqueryparms);
            }
            else if (ids.length > 1) {
                alertify.alert('You can only select one row', function (ok) {
                    if (ok) {
                        window.history.back();
                    }
                });
            }
            else {
                alertify.alert("{!noRowMIMessage}", function (ok) {
                    if (ok) {
                        window.history.back();
                    }
                });
            }
        }
    </script>
</apex:page>