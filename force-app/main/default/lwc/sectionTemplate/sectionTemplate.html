<template>
    <div data-veeva-id={sectionRawHeading} class={sectionClass} data-variant={variant}>
        <h3 class="slds-section__title slds-theme_shade" if:true={displayHeader}>
            <button class="slds-button slds-section__title-action" onclick={toggleSection}>
                <span>
                    <lightning-icon icon-name={expanderIcon} size='x-small' if:true={expanderIcon}></lightning-icon>
                </span>
                <span class='slds-m-left--small veeva-overflow'>{sectionHeading}</span>
            </button>
        </h3>
        <div class="slds-section__content slds-p-horizontal--small">
            <slot name='content'>
                <template iterator:it={layoutRows}>
                    <c-veeva-row data-veeva-row-id={it.value.key} row-key={it.value.key} row={it.value} record={record} key={it.value.key} page-ctrl={ctrl.pageCtrl} record-update-flag={recordUpdateFlag}>
                    </c-veeva-row>
                </template>
            </slot>
        </div>
    </div>
</template>