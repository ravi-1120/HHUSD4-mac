<template>
    <c-veeva-popover size="medium">
        <div class="header" slot="header">
            <h2 class="slds-text-heading_medium slds-align_absolute-center">{title}</h2>
        </div>
        <div slot="content">
            <c-veeva-spinner if:true={loading}></c-veeva-spinner>
            <div if:false={loading} class="slds-p-around_small">
                <div class="filter-details slds-p-horizontal_medium">
                    <template if:true={showFilters} for:each={filters} for:item="filterGroup">
                        <div key={filterGroup.id}>
                            <div class="slds-text-heading_small">{filterGroup.label}</div>
                            <template for:each={filterGroup.options} for:item="option">
                                <lightning-input checked={option.checked} class="slds-m-top_xx-small" data-filter-group={filterGroup.id} disabled={option.disabled} key={option.value} label={option.label} onchange={handleSelection} type="checkbox" value={option.value}></lightning-input>
                            </template>
                        </div>
                    </template>
                </div>
            </div>
        </div>
        <div slot="footer">
            <div class="slds-button-group-row  slds-align_absolute-center">
                <lightning-button class="slds-button-group-item" if:false={loading} label={cancelLabel} title="cancel" onclick={cancel} variant="neutral"></lightning-button>
                <lightning-button class="slds-button-group-item" if:false={loading} label={applyLabel} title="apply" onclick={apply} variant="brand"></lightning-button>
            </div>
        </div>
    </c-veeva-popover>
</template>