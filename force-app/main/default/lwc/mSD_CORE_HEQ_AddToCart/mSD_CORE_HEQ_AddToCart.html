<template>
<div class="container" if:false={showSpinner}>
    <template if:true={resource}>
        <div class="slds-size_1-of-1 slds-var-p-around_large slds-grid slds-grid_align-end">
            <div class="slds-col slds-text-align_right">
                <template if:true={isAccountExeProfile}>
                    <lightning-button variant="brand" label={label.AddToCart} title="Add to Cart" data-id={id}
                        onclick={handleAddToCart} class="slds-var-m-right_x-small">
                    </lightning-button>
                </template>
            </div>
        </div>

        <div class="slds-grid slds-wrap slds-var-p-around_large">
            <!-- Thumbnail Section -->
            <div class="slds-col slds-size_4-of-12 thumbnail-wrapper1">
                <div class="thumbnail-container1">
                    <img src={imageUrl} class="thumbnail1" alt="Thumbnail" style="width: 200px; height: 250px;" />
                    <div if:true={showMinusButton} class="zoom-percentage">{zoomPercentage}%</div>
                </div>
                <!-- <div class="controls slds-m-top_small">
            <lightning-icon onclick={zoomIn} size="x-small" class="zoom-button" disabled={isPlusDisabled}
                icon-name="utility:zoomin" alternative-text="zoomin" title="zoomin"></lightning-icon>
            <lightning-icon onclick={zoomOut} size="x-small" class="zoom-button" disabled={isMinusDisabled}
                icon-name="utility:zoomout" title="zoomout"></lightning-icon>
        </div> -->
            </div>

            <!-- Details Section -->
            <div class="slds-col slds-size_8-of-12 slds-p-around_x-small">
                <div>
                    <span class="headertext">{label.Details}</span>
                    <div class="slds-var-p-around_medium">
                        <div class="slds-grid slds-wrap slds-var-m-bottom_x-small">
                            <span class="fileheading">{label.FileName}</span>
                            <span class="filecontent">{resource.Title}</span>
                        </div>
                        <div class="slds-grid slds-wrap slds-var-m-bottom_x-small" if:false={isVideoResource}>
                            <span class="fileheading">{label.FileSize}</span>
                            <span class="filecontent">{contentsize} MB</span>
                        </div>
                        <div class="slds-grid slds-wrap slds-var-m-bottom_x-small">
                            <span class="fileheading">{label.FileType}</span>
                            <span class="filecontent">{filetype}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <div if:false={resource} class="errormsg">
        {label.errormsg}
    </div>
</div>

<!-- Add to Cart Modal -->
 <template if:true={showModal}> 
    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container modCls">
            <header class="slds-modal__header slds-modal_large">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                    title={label.Close} onclick={closeModal}>
                <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
                <span class="slds-assistive-text">{label.Close}</span>
            </button>
                <h2 class="slds-text-heading_medium">{label.AddToCart}</h2>
            </header>
            <div class="slds-modal__content slds-p-around_medium">
                <div class="thumbnail-details-container slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-2 slds-p-around_medium">
                        <div class="thumbnail-container" style={containerStyle}>
                            <img src={imageUrl} alt="Resource Thumbnail" style={thumbnailStyle}/>
                        </div>
                    </div>
                    <div class="slds-col slds-size_1-of-2 slds-p-around_medium">
                        <div class="slds-form slds-form_stacked">
                            <div class="slds-form-element slds-m-bottom_medium">
                                <label class="slds-form-element__label">{label.FileName}</label>
                                <span class="filecontent">{resource.Title}</span>
                            </div>
                            <div class="slds-form-element slds-m-bottom_medium">
                                <label class="slds-form-element__label">{label.FileType}</label>
                                <span class="filecontent">{filetype}</span>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-form slds-form_stacked">
                    <div class="slds-form-element slds-m-bottom_medium">
                        <label class="slds-form-element__label" for="deliveryMethod">Delivery Method</label>
                        <div class="slds-form-element__control">
                            <lightning-combobox name="deliveryMethod" value={deliveryMethod}
                                placeholder="Select Delivery Method" options={deliveryMethodOptions}
                                onchange={handleChange}>
                            </lightning-combobox>
                        </div>
                    </div>
                    <div class="slds-form-element slds-m-bottom_medium">
                        <button class="slds-button slds-button_neutral" onclick={chooseCustomer}>Choose Customer</button>
                    </div>
                </div>
            </div>

            <footer class="slds-modal__footer">
                <lightning-button variant="neutral" label={label.cancel} style="padding-right: 5px;" onclick={closeModal}></lightning-button>
                <!-- <lightning-button variant="brand" label="OK" onclick={handleOk} disabled={isOkDisabled}>
                </lightning-button> -->
                <button class="custom-button brand" onclick={handleOk} disabled={isOkDisabled}>{label.OK}</button>
            </footer>
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>


</template>

<!-- Add To Cart Popup -->
<!-- <template if:true={showModal}>
<div class="custom-modal-backdrop"></div>
<div class="custom-modal-container">
    <div class="custom-modal-header">
<h2>{label.AddToCart}</h2>
<button class="custom-modal-close" title="Close" onclick={closeModal}>
    &#x2715;
</button>
</div>
    <div class="custom-modal-content">
        <div class="thumbnail-details-container">
            <div class="thumbnail-section">
                <div class="thumbnail-container" style={containerStyle}>
                    <img src={imageUrl} alt="Resource Thumbnail" style={thumbnailStyle}/>
                </div>
            </div>
            <div class="details-section">
                <div class="custom-form">
                    <div class="custom-form-element">
                        <label>{label.FileName}</label>
                        <span class="filecontent">{resource.Title}</span>
                    </div>
                    <div class="custom-form-element">
                        <label>{label.FileType}</label>
                        <span class="filecontent">{filetype}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="custom-form">
            <div class="custom-form-element">
                <label for="deliveryMethod">Delivery Method</label>
                <lightning-combobox name="deliveryMethod" value={deliveryMethod}
                    placeholder="Select Delivery Method" options={deliveryMethodOptions}
                    onchange={handleChange}>
                </lightning-combobox>
            </div>
            <div class="custom-form-element">
                <button class="custom-button" onclick={chooseCustomer}>Choose Customer</button>
            </div>
        </div>

    </div>
    <div class="custom-modal-footer">
        <button class="custom-button neutral" onclick={closeModal}>Cancel</button>
        <button class="custom-button brand" onclick={handleOk} disabled={isOkDisabled}>OK</button>
    </div>
</div>
</template> -->





<!-- Choose customer popup -->
<template if:true={showuser}>
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container customermodel modCls">
                <header class="slds-modal__header customerheader">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title={label.Close} onclick={closeCustomerModal}>
                        <lightning-icon icon-name="utility:close" alternative-text="close"
                            size="small"></lightning-icon>
                        <span class="slds-assistive-text">{label.Close}</span>
                    </button>
                </header>

                <div class="slds-modal__content slds-p-around_medium">
                <c-m-s-d_-c-o-r-e_-h-e-q_-customer is-register-user-only=true main-header="Select User" footerbtnname="Share" is-footerbutton=true onclosemodel={closeCustomerModel} onsharecustomerdata={getSelectedCustomer}></c-m-s-d_-c-o-r-e_-h-e-q_-customer>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>



<div if:true={showSpinner}>
    <c-m-s-d_-c-o-r-e_-h-e-q_-spinner></c-m-s-d_-c-o-r-e_-h-e-q_-spinner>
</div>
</template>