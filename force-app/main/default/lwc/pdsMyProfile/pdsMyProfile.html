<template>
    <div class="dr-form_container">
		<div class="dr-form_section">
			<a href="javascript:void(0);" onclick={navigateBackToDashboard} class="dr-form_back">
                <lightning-icon icon-name="utility:back" size="x-small" alternative-text="Back" title="Back">
                </lightning-icon>
                <p>Back</p>
            </a>
			<div class="dr-form">
                <h2 class="dr-form_heading">{labels.myprofile}</h2>
                <lightning-layout multiple-rows>
                    <lightning-layout-item size="12" small-device-size="12" medium-device-size="12" large-device-size="12">
                        <lightning-input
                            type="text" 
                            label={labels.emailaddress}
                            name={labels.emailaddress}
                            value={userEmail} 
                            disabled="true" 
                            aria-disabled="true">
                        </lightning-input>
                    </lightning-layout-item>
                </lightning-layout>

                <hr>

                <h2 class="dr-form_subheading">{labels.changepassword}</h2>
                <lightning-layout multiple-rows>
                    <lightning-layout-item size="12" small-device-size="12" medium-device-size="12" large-device-size="12">
                        <lightning-input
                            type="password" 
                            label={labels.newPassword}  
                            name="Password"
                            value={newpassword}
                            placeholder={labels.newPassword}
                            aria-disabled="true"
                            onchange={handleUserInput}>
                        </lightning-input>
                    </lightning-layout-item>
                    <lightning-layout-item size="12" small-device-size="12" medium-device-size="12" large-device-size="12">
                        <lightning-input
                            type="password" 
                            label={labels.confirmPassword}
                            name="Confirm Password"
                            value={confirmpassword}
                            placeholder={labels.confirmPassword} 
                            aria-disabled="true"
                            onchange={handleUserInput}>
                        </lightning-input>
                    </lightning-layout-item>
                    <template if:true={resetError}>
						<p class="val-error" role="alert">	
							{labels.resetErrorMsg}
						</p>
					</template>
                    <lightning-layout-item size="12" small-device-size="12" medium-device-size="12" large-device-size="12">
                        <div class="validation-check">
                            <h4 class="validation-header">{labels.pwdRequirements}</h4>
                            <ul>
                                <template for:each={valRules} for:item="valRule">
                                    <li key={valRule.label} class={valRule.className}>
                                        <lightning-icon size="x-small"
                                            class="iconMargin slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default"
                                            icon-name="utility:check"></lightning-icon>
                                        <span>{valRule.message}</span>
                                    </li>
                                </template>
                            </ul>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="12" small-device-size="12" medium-device-size="12" large-device-size="12">
                        <div class="dr-form_btnGroup">
                            <lightning-button role="button" class="lt-button" variant="base" label={labels.update}
                                title={labels.update} onclick={updatePassword} disabled={resetDisabled}>
                            </lightning-button>
                            <lightning-button role="button" class="lt-button cancel" variant="base" label={labels.cancel}
                                title={labels.cancel} onclick={navigateBackToDashboard}>
                            </lightning-button>
                        </div>
                    </lightning-layout-item>
                </lightning-layout>
			</div>
		</div>
	</div>
    <c-pds-toast-message auto-close-time="5000"></c-pds-toast-message>
</template>