<template>
    <c-veeva-modal id="eventActionDialog" if:true={display} size="small" composed=true onclose={closeModal}>
        <c-veeva-spinner if:true={isConfirming} slot="spinner" is-blocking=true></c-veeva-spinner>
        <div slot="header" if:true={confirmationMessage}>
            <div class="slds-text-heading--small slds-hyphenate">
                {confirmationMessage}
            </div>
        </div>
        <div slot="content" class="modal-content__container slds-p-around_medium">
            <div class="slds-p-bottom_xx-large">
                <ul class="error-alerts-container">
                    <template if:true={hasErrors} for:each={errors} for:item="error">
                        <li key={error.key} class="error-alert slds-theme_error">
                            <lightning-icon class="slds-p-left_xx-small slds-p-right_xx-small slds-current-color"
                                icon-name="utility:error" size="x-small"></lightning-icon>
                            <span>{error.message}</span>
                        </li>
                    </template>
                </ul>
                <ul class="warning-alerts-container">
                    <template if:true={hasWarnings} for:each={warnings} for:item="warning">
                        <li key={warning.key} class="warning-alert slds-theme_warning">
                            <lightning-icon class="slds-p-left_xx-small slds-p-right_xx-small slds-current-color"
                                icon-name="utility:warning" size="x-small"></lightning-icon>
                            <span>{warning.message}</span>
                        </li>
                    </template>
                </ul>
                <c-veeva-field-lookup if:true={showApproverLookup} class="approver-lookup" 
                  ctrl={approverCtrl}></c-veeva-field-lookup>
                <lightning-textarea if:true={showComments} class="comments-field" name="comment" label={commentsLabel}
                    value={model.comment} onchange={updateModel}></lightning-textarea>
            </div>
            <div if:true={isConfirming} class="disabled-overlay"></div>
        </div>
        <div slot="footer">
            <lightning-button variant="brand" label={buttonLabel} onclick={confirmation} disabled={disableButton}
                class="slds-m-left_x-small"></lightning-button>
        </div>
    </c-veeva-modal>
  </template>