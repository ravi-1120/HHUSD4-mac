(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();/**
* @vue/shared v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xo(e,t){const i=new Set(e.split(","));return t?n=>i.has(n.toLowerCase()):n=>i.has(n)}const ce={},Kt=[],He=()=>{},Yl=()=>!1,yn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Po=e=>e.startsWith("onUpdate:"),Te=Object.assign,$o=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Ql=Object.prototype.hasOwnProperty,J=(e,t)=>Ql.call(e,t),j=Array.isArray,Yt=e=>vn(e)==="[object Map]",Pr=e=>vn(e)==="[object Set]",K=e=>typeof e=="function",_e=e=>typeof e=="string",ii=e=>typeof e=="symbol",ue=e=>e!==null&&typeof e=="object",$r=e=>(ue(e)||K(e))&&K(e.then)&&K(e.catch),Hr=Object.prototype.toString,vn=e=>Hr.call(e),Xl=e=>vn(e).slice(8,-1),Br=e=>vn(e)==="[object Object]",Ho=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,qi=xo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bn=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Zl=/-(\w)/g,nt=bn(e=>e.replace(Zl,(t,i)=>i?i.toUpperCase():"")),Jl=/\B([A-Z])/g,Dt=bn(e=>e.replace(Jl,"-$1").toLowerCase()),wn=bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Gi=bn(e=>e?`on${wn(e)}`:""),Vt=(e,t)=>!Object.is(e,t),Wi=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},on=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},no=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Es;const Ur=()=>Es||(Es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xt(e){if(j(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],o=_e(n)?nc(n):xt(n);if(o)for(const s in o)t[s]=o[s]}return t}else if(_e(e)||ue(e))return e}const ec=/;(?![^(]*\))/g,tc=/:([^]+)/,ic=/\/\*[^]*?\*\//g;function nc(e){const t={};return e.replace(ic,"").split(ec).forEach(i=>{if(i){const n=i.split(tc);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function W(e){let t="";if(_e(e))t=e;else if(j(e))for(let i=0;i<e.length;i++){const n=W(e[i]);n&&(t+=n+" ")}else if(ue(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function oc(e){if(!e)return null;let{class:t,style:i}=e;return t&&!_e(t)&&(e.class=W(t)),i&&(e.style=xt(i)),e}const sc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rc=xo(sc);function jr(e){return!!e||e===""}const w=e=>_e(e)?e:e==null?"":j(e)||ue(e)&&(e.toString===Hr||!K(e.toString))?JSON.stringify(e,zr,2):String(e),zr=(e,t)=>t&&t.__v_isRef?zr(e,t.value):Yt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,o],s)=>(i[zn(n,s)+" =>"]=o,i),{})}:Pr(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>zn(i))}:ii(t)?zn(t):ue(t)&&!j(t)&&!Br(t)?String(t):t,zn=(e,t="")=>{var i;return ii(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ue;class qr{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=Ue;try{return Ue=this,t()}finally{Ue=i}}}on(){Ue=this}off(){Ue=this.parent}stop(t){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function ac(e){return new qr(e)}function lc(e,t=Ue){t&&t.active&&t.effects.push(e)}function cc(){return Ue}let Et;class Bo{constructor(t,i,n,o){this.fn=t,this.trigger=i,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,lc(this,o)}get dirty(){if(this._dirtyLevel===1){Pt();for(let t=0;t<this._depsLength;t++){const i=this.deps[t];if(i.computed&&(dc(i.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),$t()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=_t,i=Et;try{return _t=!0,Et=this,this._runnings++,Fs(this),this.fn()}finally{Ns(this),this._runnings--,Et=i,_t=t}}stop(){var t;this.active&&(Fs(this),Ns(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function dc(e){return e.value}function Fs(e){e._trackId++,e._depsLength=0}function Ns(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Gr(e.deps[t],e);e.deps.length=e._depsLength}}function Gr(e,t){const i=e.get(t);i!==void 0&&t._trackId!==i&&(e.delete(t),e.size===0&&e.cleanup())}let _t=!0,oo=0;const Wr=[];function Pt(){Wr.push(_t),_t=!1}function $t(){const e=Wr.pop();_t=e===void 0?!0:e}function Uo(){oo++}function jo(){for(oo--;!oo&&so.length;)so.shift()()}function Kr(e,t,i){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&Gr(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const so=[];function Yr(e,t,i){Uo();for(const n of e.keys())if(e.get(n)===n._trackId){if(n._dirtyLevel<t&&!(n._runnings&&!n.allowRecurse)){const o=n._dirtyLevel;n._dirtyLevel=t,o===0&&(n._shouldSchedule=!0,n.trigger())}n.scheduler&&n._shouldSchedule&&(!n._runnings||n.allowRecurse)&&(n._shouldSchedule=!1,so.push(n.scheduler))}jo()}const Qr=(e,t)=>{const i=new Map;return i.cleanup=e,i.computed=t,i},ro=new WeakMap,Ft=Symbol(""),ao=Symbol("");function Ee(e,t,i){if(_t&&Et){let n=ro.get(e);n||ro.set(e,n=new Map);let o=n.get(i);o||n.set(i,o=Qr(()=>n.delete(i))),Kr(Et,o)}}function lt(e,t,i,n,o,s){const r=ro.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(i==="length"&&j(e)){const l=Number(n);r.forEach((c,d)=>{(d==="length"||!ii(d)&&d>=l)&&a.push(c)})}else switch(i!==void 0&&a.push(r.get(i)),t){case"add":j(e)?Ho(i)&&a.push(r.get("length")):(a.push(r.get(Ft)),Yt(e)&&a.push(r.get(ao)));break;case"delete":j(e)||(a.push(r.get(Ft)),Yt(e)&&a.push(r.get(ao)));break;case"set":Yt(e)&&a.push(r.get(Ft));break}Uo();for(const l of a)l&&Yr(l,2);jo()}const fc=xo("__proto__,__v_isRef,__isVue"),Xr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ii)),Rs=uc();function uc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const n=ne(this);for(let s=0,r=this.length;s<r;s++)Ee(n,"get",s+"");const o=n[t](...i);return o===-1||o===!1?n[t](...i.map(ne)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){Pt(),Uo();const n=ne(this)[t].apply(this,i);return jo(),$t(),n}}),e}function hc(e){const t=ne(this);return Ee(t,"has",e),t.hasOwnProperty(e)}class Zr{constructor(t=!1,i=!1){this._isReadonly=t,this._shallow=i}get(t,i,n){const o=this._isReadonly,s=this._shallow;if(i==="__v_isReactive")return!o;if(i==="__v_isReadonly")return o;if(i==="__v_isShallow")return s;if(i==="__v_raw")return n===(o?s?Sc:ia:s?ta:ea).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=j(t);if(!o){if(r&&J(Rs,i))return Reflect.get(Rs,i,n);if(i==="hasOwnProperty")return hc}const a=Reflect.get(t,i,n);return(ii(i)?Xr.has(i):fc(i))||(o||Ee(t,"get",i),s)?a:De(a)?r&&Ho(i)?a:a.value:ue(a)?o?oa(a):Tn(a):a}}class Jr extends Zr{constructor(t=!1){super(!1,t)}set(t,i,n,o){let s=t[i];if(!this._shallow){const l=_i(s);if(!lo(n)&&!_i(n)&&(s=ne(s),n=ne(n)),!j(t)&&De(s)&&!De(n))return l?!1:(s.value=n,!0)}const r=j(t)&&Ho(i)?Number(i)<t.length:J(t,i),a=Reflect.set(t,i,n,o);return t===ne(o)&&(r?Vt(n,s)&&lt(t,"set",i,n):lt(t,"add",i,n)),a}deleteProperty(t,i){const n=J(t,i);t[i];const o=Reflect.deleteProperty(t,i);return o&&n&&lt(t,"delete",i,void 0),o}has(t,i){const n=Reflect.has(t,i);return(!ii(i)||!Xr.has(i))&&Ee(t,"has",i),n}ownKeys(t){return Ee(t,"iterate",j(t)?"length":Ft),Reflect.ownKeys(t)}}class gc extends Zr{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const pc=new Jr,mc=new gc,_c=new Jr(!0),zo=e=>e,In=e=>Reflect.getPrototypeOf(e);function Li(e,t,i=!1,n=!1){e=e.__v_raw;const o=ne(e),s=ne(t);i||(Vt(t,s)&&Ee(o,"get",t),Ee(o,"get",s));const{has:r}=In(o),a=n?zo:i?Yo:Ko;if(r.call(o,t))return a(e.get(t));if(r.call(o,s))return a(e.get(s));e!==o&&e.get(t)}function Di(e,t=!1){const i=this.__v_raw,n=ne(i),o=ne(e);return t||(Vt(e,o)&&Ee(n,"has",e),Ee(n,"has",o)),e===o?i.has(e):i.has(e)||i.has(o)}function xi(e,t=!1){return e=e.__v_raw,!t&&Ee(ne(e),"iterate",Ft),Reflect.get(e,"size",e)}function Vs(e){e=ne(e);const t=ne(this);return In(t).has.call(t,e)||(t.add(e),lt(t,"add",e,e)),this}function Ls(e,t){t=ne(t);const i=ne(this),{has:n,get:o}=In(i);let s=n.call(i,e);s||(e=ne(e),s=n.call(i,e));const r=o.call(i,e);return i.set(e,t),s?Vt(t,r)&&lt(i,"set",e,t):lt(i,"add",e,t),this}function Ds(e){const t=ne(this),{has:i,get:n}=In(t);let o=i.call(t,e);o||(e=ne(e),o=i.call(t,e)),n&&n.call(t,e);const s=t.delete(e);return o&&lt(t,"delete",e,void 0),s}function xs(){const e=ne(this),t=e.size!==0,i=e.clear();return t&&lt(e,"clear",void 0,void 0),i}function Pi(e,t){return function(n,o){const s=this,r=s.__v_raw,a=ne(r),l=t?zo:e?Yo:Ko;return!e&&Ee(a,"iterate",Ft),r.forEach((c,d)=>n.call(o,l(c),l(d),s))}}function $i(e,t,i){return function(...n){const o=this.__v_raw,s=ne(o),r=Yt(s),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=o[e](...n),d=i?zo:t?Yo:Ko;return!t&&Ee(s,"iterate",l?ao:Ft),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function ut(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ac(){const e={get(s){return Li(this,s)},get size(){return xi(this)},has:Di,add:Vs,set:Ls,delete:Ds,clear:xs,forEach:Pi(!1,!1)},t={get(s){return Li(this,s,!1,!0)},get size(){return xi(this)},has:Di,add:Vs,set:Ls,delete:Ds,clear:xs,forEach:Pi(!1,!0)},i={get(s){return Li(this,s,!0)},get size(){return xi(this,!0)},has(s){return Di.call(this,s,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:Pi(!0,!1)},n={get(s){return Li(this,s,!0,!0)},get size(){return xi(this,!0)},has(s){return Di.call(this,s,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:Pi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=$i(s,!1,!1),i[s]=$i(s,!0,!1),t[s]=$i(s,!1,!0),n[s]=$i(s,!0,!0)}),[e,i,t,n]}const[yc,vc,bc,wc]=Ac();function qo(e,t){const i=t?e?wc:bc:e?vc:yc;return(n,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(J(i,o)&&o in n?i:n,o,s)}const Ic={get:qo(!1,!1)},Tc={get:qo(!1,!0)},Cc={get:qo(!0,!1)},ea=new WeakMap,ta=new WeakMap,ia=new WeakMap,Sc=new WeakMap;function Mc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kc(e){return e.__v_skip||!Object.isExtensible(e)?0:Mc(Xl(e))}function Tn(e){return _i(e)?e:Go(e,!1,pc,Ic,ea)}function na(e){return Go(e,!1,_c,Tc,ta)}function oa(e){return Go(e,!0,mc,Cc,ia)}function Go(e,t,i,n,o){if(!ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const r=kc(e);if(r===0)return e;const a=new Proxy(e,r===2?n:i);return o.set(e,a),a}function Qt(e){return _i(e)?Qt(e.__v_raw):!!(e&&e.__v_isReactive)}function _i(e){return!!(e&&e.__v_isReadonly)}function lo(e){return!!(e&&e.__v_isShallow)}function sa(e){return Qt(e)||_i(e)}function ne(e){const t=e&&e.__v_raw;return t?ne(t):e}function Wo(e){return on(e,"__v_skip",!0),e}const Ko=e=>ue(e)?Tn(e):e,Yo=e=>ue(e)?oa(e):e;class ra{constructor(t,i,n,o){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Bo(()=>t(this._value),()=>Ps(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=ne(this);return(!t._cacheable||t.effect.dirty)&&Vt(t._value,t._value=t.effect.run())&&Ps(t,2),Ec(t),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Oc(e,t,i=!1){let n,o;const s=K(e);return s?(n=e,o=He):(n=e.get,o=e.set),new ra(n,o,s||!o,i)}function Ec(e){_t&&Et&&(e=ne(e),Kr(Et,e.dep||(e.dep=Qr(()=>e.dep=void 0,e instanceof ra?e:void 0))))}function Ps(e,t=2,i){e=ne(e);const n=e.dep;n&&Yr(n,t)}function De(e){return!!(e&&e.__v_isRef===!0)}function Fc(e){return De(e)?e.value:e}const Nc={get:(e,t,i)=>Fc(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const o=e[t];return De(o)&&!De(i)?(o.value=i,!0):Reflect.set(e,t,i,n)}};function aa(e){return Qt(e)?e:new Proxy(e,Nc)}/**
* @vue/runtime-core v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function At(e,t,i,n){let o;try{o=n?e(...n):e()}catch(s){Cn(s,t,i)}return o}function qe(e,t,i,n){if(K(e)){const s=At(e,t,i,n);return s&&$r(s)&&s.catch(r=>{Cn(r,t,i)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(qe(e[s],t,i,n));return o}function Cn(e,t,i,n=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const r=t.proxy,a=`https://vuejs.org/errors/#runtime-${i}`;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,r,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){At(l,null,10,[e,r,a]);return}}Rc(e,i,o,n)}function Rc(e,t,i,n=!0){console.error(e)}let Ai=!1,co=!1;const we=[];let Je=0;const Xt=[];let ht=null,St=0;const la=Promise.resolve();let Qo=null;function Xo(e){const t=Qo||la;return e?t.then(this?e.bind(this):e):t}function Vc(e){let t=Je+1,i=we.length;for(;t<i;){const n=t+i>>>1,o=we[n],s=yi(o);s<e||s===e&&o.pre?t=n+1:i=n}return t}function Zo(e){(!we.length||!we.includes(e,Ai&&e.allowRecurse?Je+1:Je))&&(e.id==null?we.push(e):we.splice(Vc(e.id),0,e),ca())}function ca(){!Ai&&!co&&(co=!0,Qo=la.then(fa))}function Lc(e){const t=we.indexOf(e);t>Je&&we.splice(t,1)}function Dc(e){j(e)?Xt.push(...e):(!ht||!ht.includes(e,e.allowRecurse?St+1:St))&&Xt.push(e),ca()}function $s(e,t,i=Ai?Je+1:0){for(;i<we.length;i++){const n=we[i];if(n&&n.pre){if(e&&n.id!==e.uid)continue;we.splice(i,1),i--,n()}}}function da(e){if(Xt.length){const t=[...new Set(Xt)].sort((i,n)=>yi(i)-yi(n));if(Xt.length=0,ht){ht.push(...t);return}for(ht=t,St=0;St<ht.length;St++)ht[St]();ht=null,St=0}}const yi=e=>e.id==null?1/0:e.id,xc=(e,t)=>{const i=yi(e)-yi(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function fa(e){co=!1,Ai=!0,we.sort(xc);try{for(Je=0;Je<we.length;Je++){const t=we[Je];t&&t.active!==!1&&At(t,null,14)}}finally{Je=0,we.length=0,da(),Ai=!1,Qo=null,(we.length||Xt.length)&&fa()}}function Pc(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||ce;let o=i;const s=t.startsWith("update:"),r=s&&t.slice(7);if(r&&r in n){const d=`${r==="modelValue"?"model":r}Modifiers`,{number:f,trim:h}=n[d]||ce;h&&(o=i.map(_=>_e(_)?_.trim():_)),f&&(o=i.map(no))}let a,l=n[a=Gi(t)]||n[a=Gi(nt(t))];!l&&s&&(l=n[a=Gi(Dt(t))]),l&&qe(l,e,6,o);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,qe(c,e,6,o)}}function ua(e,t,i=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const s=e.emits;let r={},a=!1;if(!K(e)){const l=c=>{const d=ua(c,t,!0);d&&(a=!0,Te(r,d))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(ue(e)&&n.set(e,null),null):(j(s)?s.forEach(l=>r[l]=null):Te(r,s),ue(e)&&n.set(e,r),r)}function Sn(e,t){return!e||!yn(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,Dt(t))||J(e,t))}let ve=null,Mn=null;function sn(e){const t=ve;return ve=e,Mn=e&&e.type.__scopeId||null,t}function Ht(e){Mn=e}function Bt(){Mn=null}const $c=e=>pe;function pe(e,t=ve,i){if(!t||e._n)return e;const n=(...o)=>{n._d&&Xs(-1);const s=sn(t);let r;try{r=e(...o)}finally{sn(s),n._d&&Xs(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function qn(e){const{type:t,vnode:i,proxy:n,withProxy:o,props:s,propsOptions:[r],slots:a,attrs:l,emit:c,render:d,renderCache:f,data:h,setupState:_,ctx:T,inheritAttrs:y}=e;let V,L;const Y=sn(e);try{if(i.shapeFlag&4){const P=o||n,de=P;V=Ze(d.call(de,P,f,s,_,h,T)),L=l}else{const P=t;V=Ze(P.length>1?P(s,{attrs:l,slots:a,emit:c}):P(s,null)),L=t.props?l:Hc(l)}}catch(P){mi.length=0,Cn(P,e,1),V=I(vt)}let x=V;if(L&&y!==!1){const P=Object.keys(L),{shapeFlag:de}=x;P.length&&de&7&&(r&&P.some(Po)&&(L=Bc(L,r)),x=Jt(x,L))}return i.dirs&&(x=Jt(x),x.dirs=x.dirs?x.dirs.concat(i.dirs):i.dirs),i.transition&&(x.transition=i.transition),V=x,sn(Y),V}const Hc=e=>{let t;for(const i in e)(i==="class"||i==="style"||yn(i))&&((t||(t={}))[i]=e[i]);return t},Bc=(e,t)=>{const i={};for(const n in e)(!Po(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i};function Uc(e,t,i){const{props:n,children:o,component:s}=e,{props:r,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return n?Hs(n,r,c):!!r;if(l&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(r[h]!==n[h]&&!Sn(c,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Hs(n,r,c):!0:!!r;return!1}function Hs(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(t[s]!==e[s]&&!Sn(i,s))return!0}return!1}function jc({vnode:e,parent:t},i){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=i,t=t.parent;else break}}const Jo="components",zc="directives";function M(e,t){return es(Jo,e,!0,t)||e}const ha=Symbol.for("v-ndc");function Bs(e){return _e(e)?es(Jo,e,!1)||e:e||ha}function qc(e){return es(zc,e)}function es(e,t,i=!0,n=!1){const o=ve||Ie;if(o){const s=o.type;if(e===Jo){const a=$d(s,!1);if(a&&(a===t||a===nt(t)||a===wn(nt(t))))return s}const r=Us(o[e]||s[e],t)||Us(o.appContext[e],t);return!r&&n?s:r}}function Us(e,t){return e&&(e[t]||e[nt(t)]||e[wn(nt(t))])}const Gc=e=>e.__isSuspense;function Wc(e,t){t&&t.pendingBranch?j(e)?t.effects.push(...e):t.effects.push(e):Dc(e)}const Kc=Symbol.for("v-scx"),Yc=()=>Ki(Kc),Hi={};function hi(e,t,i){return ga(e,t,i)}function ga(e,t,{immediate:i,deep:n,flush:o,once:s,onTrack:r,onTrigger:a}=ce){if(t&&s){const Q=t;t=(...te)=>{Q(...te),de()}}const l=Ie,c=Q=>n===!0?Q:kt(Q,n===!1?1:void 0);let d,f=!1,h=!1;if(De(e)?(d=()=>e.value,f=lo(e)):Qt(e)?(d=()=>c(e),f=!0):j(e)?(h=!0,f=e.some(Q=>Qt(Q)||lo(Q)),d=()=>e.map(Q=>{if(De(Q))return Q.value;if(Qt(Q))return c(Q);if(K(Q))return At(Q,l,2)})):K(e)?t?d=()=>At(e,l,2):d=()=>(_&&_(),qe(e,l,3,[T])):d=He,t&&n){const Q=d;d=()=>kt(Q())}let _,T=Q=>{_=x.onStop=()=>{At(Q,l,4),_=x.onStop=void 0}},y;if(Fn)if(T=He,t?i&&qe(t,l,3,[d(),h?[]:void 0,T]):d(),o==="sync"){const Q=Yc();y=Q.__watcherHandles||(Q.__watcherHandles=[])}else return He;let V=h?new Array(e.length).fill(Hi):Hi;const L=()=>{if(!(!x.active||!x.dirty))if(t){const Q=x.run();(n||f||(h?Q.some((te,se)=>Vt(te,V[se])):Vt(Q,V)))&&(_&&_(),qe(t,l,3,[Q,V===Hi?void 0:h&&V[0]===Hi?[]:V,T]),V=Q)}else x.run()};L.allowRecurse=!!t;let Y;o==="sync"?Y=L:o==="post"?Y=()=>Me(L,l&&l.suspense):(L.pre=!0,l&&(L.id=l.uid),Y=()=>Zo(L));const x=new Bo(d,He,Y),P=cc(),de=()=>{x.stop(),P&&$o(P.effects,x)};return t?i?L():V=x.run():o==="post"?Me(x.run.bind(x),l&&l.suspense):x.run(),y&&y.push(de),de}function Qc(e,t,i){const n=this.proxy,o=_e(e)?e.includes(".")?pa(n,e):()=>n[e]:e.bind(n,n);let s;K(t)?s=t:(s=t.handler,i=t);const r=Mi(this),a=ga(o,s.bind(n),i);return r(),a}function pa(e,t){const i=t.split(".");return()=>{let n=e;for(let o=0;o<i.length&&n;o++)n=n[i[o]];return n}}function kt(e,t,i=0,n){if(!ue(e)||e.__v_skip)return e;if(t&&t>0){if(i>=t)return e;i++}if(n=n||new Set,n.has(e))return e;if(n.add(e),De(e))kt(e.value,t,i,n);else if(j(e))for(let o=0;o<e.length;o++)kt(e[o],t,i,n);else if(Pr(e)||Yt(e))e.forEach(o=>{kt(o,t,i,n)});else if(Br(e))for(const o in e)kt(e[o],t,i,n);return e}function yt(e,t){if(ve===null)return e;const i=Nn(ve)||ve.proxy,n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,r,a,l=ce]=t[o];s&&(K(s)&&(s={mounted:s,updated:s}),s.deep&&kt(r),n.push({dir:s,instance:i,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Tt(e,t,i,n){const o=e.dirs,s=t&&t.dirs;for(let r=0;r<o.length;r++){const a=o[r];s&&(a.oldValue=s[r].value);let l=a.dir[n];l&&(Pt(),qe(l,i,8,[e.el,a,e,t]),$t())}}const gi=e=>!!e.type.__asyncLoader,ma=e=>e.type.__isKeepAlive;function Xc(e,t){_a(e,"a",t)}function Zc(e,t){_a(e,"da",t)}function _a(e,t,i=Ie){const n=e.__wdc||(e.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(kn(t,n,i),i){let o=i.parent;for(;o&&o.parent;)ma(o.parent.vnode)&&Jc(n,t,i,o),o=o.parent}}function Jc(e,t,i,n){const o=kn(t,e,n,!0);Aa(()=>{$o(n[t],o)},i)}function kn(e,t,i=Ie,n=!1){if(i){const o=i[e]||(i[e]=[]),s=t.__weh||(t.__weh=(...r)=>{if(i.isUnmounted)return;Pt();const a=Mi(i),l=qe(t,i,e,r);return a(),$t(),l});return n?o.unshift(s):o.push(s),s}}const ft=e=>(t,i=Ie)=>(!Fn||e==="sp")&&kn(e,(...n)=>t(...n),i),ed=ft("bm"),td=ft("m"),id=ft("bu"),nd=ft("u"),od=ft("bum"),Aa=ft("um"),sd=ft("sp"),rd=ft("rtg"),ad=ft("rtc");function ld(e,t=Ie){kn("ec",e,t)}function xe(e,t,i,n){let o;const s=i&&i[n];if(j(e)||_e(e)){o=new Array(e.length);for(let r=0,a=e.length;r<a;r++)o[r]=t(e[r],r,void 0,s&&s[r])}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,s&&s[r])}else if(ue(e))if(e[Symbol.iterator])o=Array.from(e,(r,a)=>t(r,a,void 0,s&&s[a]));else{const r=Object.keys(e);o=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const c=r[a];o[a]=t(e[c],c,a,s&&s[a])}}else o=[];return i&&(i[n]=o),o}function et(e,t,i={},n,o){if(ve.isCE||ve.parent&&gi(ve.parent)&&ve.parent.isCE)return t!=="default"&&(i.name=t),I("slot",i,n&&n());let s=e[t];s&&s._c&&(s._d=!1),g();const r=s&&ya(s(i)),a=R(B,{key:i.key||r&&r.key||`_${t}`},r||(n?n():[]),r&&e._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function ya(e){return e.some(t=>ln(t)?!(t.type===vt||t.type===B&&!ya(t.children)):!0)?e:null}function cd(e,t){const i={};for(const n in e)i[t&&/[A-Z]/.test(n)?`on:${n}`:Gi(n)]=e[n];return i}const fo=e=>e?Na(e)?Nn(e)||e.proxy:fo(e.parent):null,pi=Te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fo(e.parent),$root:e=>fo(e.root),$emit:e=>e.emit,$options:e=>ts(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Zo(e.update)}),$nextTick:e=>e.n||(e.n=Xo.bind(e.proxy)),$watch:e=>Qc.bind(e)}),Gn=(e,t)=>e!==ce&&!e.__isScriptSetup&&J(e,t),dd={get({_:e},t){const{ctx:i,setupState:n,data:o,props:s,accessCache:r,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const _=r[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return o[t];case 4:return i[t];case 3:return s[t]}else{if(Gn(n,t))return r[t]=1,n[t];if(o!==ce&&J(o,t))return r[t]=2,o[t];if((c=e.propsOptions[0])&&J(c,t))return r[t]=3,s[t];if(i!==ce&&J(i,t))return r[t]=4,i[t];uo&&(r[t]=0)}}const d=pi[t];let f,h;if(d)return t==="$attrs"&&Ee(e,"get",t),d(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(i!==ce&&J(i,t))return r[t]=4,i[t];if(h=l.config.globalProperties,J(h,t))return h[t]},set({_:e},t,i){const{data:n,setupState:o,ctx:s}=e;return Gn(o,t)?(o[t]=i,!0):n!==ce&&J(n,t)?(n[t]=i,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:o,propsOptions:s}},r){let a;return!!i[r]||e!==ce&&J(e,r)||Gn(t,r)||(a=s[0])&&J(a,r)||J(n,r)||J(pi,r)||J(o.config.globalProperties,r)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:J(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function js(e){return j(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let uo=!0;function fd(e){const t=ts(e),i=e.proxy,n=e.ctx;uo=!1,t.beforeCreate&&zs(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:r,watch:a,provide:l,inject:c,created:d,beforeMount:f,mounted:h,beforeUpdate:_,updated:T,activated:y,deactivated:V,beforeDestroy:L,beforeUnmount:Y,destroyed:x,unmounted:P,render:de,renderTracked:Q,renderTriggered:te,errorCaptured:se,serverPrefetch:be,expose:G,inheritAttrs:he,components:ie,directives:ge,filters:me}=t;if(c&&ud(c,n,null),r)for(const ae in r){const le=r[ae];K(le)&&(n[ae]=le.bind(i))}if(o){const ae=o.call(i,i);ue(ae)&&(e.data=Tn(ae))}if(uo=!0,s)for(const ae in s){const le=s[ae],wt=K(le)?le.bind(i,i):K(le.get)?le.get.bind(i,i):He,Ri=!K(le)&&K(le.set)?le.set.bind(i):He,It=Va({get:wt,set:Ri});Object.defineProperty(n,ae,{enumerable:!0,configurable:!0,get:()=>It.value,set:Ye=>It.value=Ye})}if(a)for(const ae in a)va(a[ae],n,i,ae);if(l){const ae=K(l)?l.call(i):l;Reflect.ownKeys(ae).forEach(le=>{Ad(le,ae[le])})}d&&zs(d,e,"c");function ee(ae,le){j(le)?le.forEach(wt=>ae(wt.bind(i))):le&&ae(le.bind(i))}if(ee(ed,f),ee(td,h),ee(id,_),ee(nd,T),ee(Xc,y),ee(Zc,V),ee(ld,se),ee(ad,Q),ee(rd,te),ee(od,Y),ee(Aa,P),ee(sd,be),j(G))if(G.length){const ae=e.exposed||(e.exposed={});G.forEach(le=>{Object.defineProperty(ae,le,{get:()=>i[le],set:wt=>i[le]=wt})})}else e.exposed||(e.exposed={});de&&e.render===He&&(e.render=de),he!=null&&(e.inheritAttrs=he),ie&&(e.components=ie),ge&&(e.directives=ge)}function ud(e,t,i=He){j(e)&&(e=ho(e));for(const n in e){const o=e[n];let s;ue(o)?"default"in o?s=Ki(o.from||n,o.default,!0):s=Ki(o.from||n):s=Ki(o),De(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):t[n]=s}}function zs(e,t,i){qe(j(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function va(e,t,i,n){const o=n.includes(".")?pa(i,n):()=>i[n];if(_e(e)){const s=t[e];K(s)&&hi(o,s)}else if(K(e))hi(o,e.bind(i));else if(ue(e))if(j(e))e.forEach(s=>va(s,t,i,n));else{const s=K(e.handler)?e.handler.bind(i):t[e.handler];K(s)&&hi(o,s,e)}}function ts(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:r}}=e.appContext,a=s.get(t);let l;return a?l=a:!o.length&&!i&&!n?l=t:(l={},o.length&&o.forEach(c=>rn(l,c,r,!0)),rn(l,t,r)),ue(t)&&s.set(t,l),l}function rn(e,t,i,n=!1){const{mixins:o,extends:s}=t;s&&rn(e,s,i,!0),o&&o.forEach(r=>rn(e,r,i,!0));for(const r in t)if(!(n&&r==="expose")){const a=hd[r]||i&&i[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const hd={data:qs,props:Gs,emits:Gs,methods:ci,computed:ci,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:ci,directives:ci,watch:pd,provide:qs,inject:gd};function qs(e,t){return t?e?function(){return Te(K(e)?e.call(this,this):e,K(t)?t.call(this,this):t)}:t:e}function gd(e,t){return ci(ho(e),ho(t))}function ho(e){if(j(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ce(e,t){return e?[...new Set([].concat(e,t))]:t}function ci(e,t){return e?Te(Object.create(null),e,t):t}function Gs(e,t){return e?j(e)&&j(t)?[...new Set([...e,...t])]:Te(Object.create(null),js(e),js(t??{})):t}function pd(e,t){if(!e)return t;if(!t)return e;const i=Te(Object.create(null),e);for(const n in t)i[n]=Ce(e[n],t[n]);return i}function ba(){return{app:null,config:{isNativeTag:Yl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let md=0;function _d(e,t){return function(n,o=null){K(n)||(n=Te({},n)),o!=null&&!ue(o)&&(o=null);const s=ba(),r=new WeakSet;let a=!1;const l=s.app={_uid:md++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:Ud,get config(){return s.config},set config(c){},use(c,...d){return r.has(c)||(c&&K(c.install)?(r.add(c),c.install(l,...d)):K(c)&&(r.add(c),c(l,...d))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,d){return d?(s.components[c]=d,l):s.components[c]},directive(c,d){return d?(s.directives[c]=d,l):s.directives[c]},mount(c,d,f){if(!a){const h=I(n,o);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(h,c):e(h,c,f),a=!0,l._container=c,c.__vue_app__=l,Nn(h.component)||h.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return s.provides[c]=d,l},runWithContext(c){an=l;try{return c()}finally{an=null}}};return l}}let an=null;function Ad(e,t){if(Ie){let i=Ie.provides;const n=Ie.parent&&Ie.parent.provides;n===i&&(i=Ie.provides=Object.create(n)),i[e]=t}}function Ki(e,t,i=!1){const n=Ie||ve;if(n||an){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:an._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return i&&K(t)?t.call(n&&n.proxy):t}}function yd(e,t,i,n=!1){const o={},s={};on(s,En,1),e.propsDefaults=Object.create(null),wa(e,t,o,s);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);i?e.props=n?o:na(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function vd(e,t,i,n){const{props:o,attrs:s,vnode:{patchFlag:r}}=e,a=ne(o),[l]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Sn(e.emitsOptions,h))continue;const _=t[h];if(l)if(J(s,h))_!==s[h]&&(s[h]=_,c=!0);else{const T=nt(h);o[T]=go(l,a,T,_,e,!1)}else _!==s[h]&&(s[h]=_,c=!0)}}}else{wa(e,t,o,s)&&(c=!0);let d;for(const f in a)(!t||!J(t,f)&&((d=Dt(f))===f||!J(t,d)))&&(l?i&&(i[f]!==void 0||i[d]!==void 0)&&(o[f]=go(l,a,f,void 0,e,!0)):delete o[f]);if(s!==a)for(const f in s)(!t||!J(t,f))&&(delete s[f],c=!0)}c&&lt(e,"set","$attrs")}function wa(e,t,i,n){const[o,s]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(qi(l))continue;const c=t[l];let d;o&&J(o,d=nt(l))?!s||!s.includes(d)?i[d]=c:(a||(a={}))[d]=c:Sn(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(s){const l=ne(i),c=a||ce;for(let d=0;d<s.length;d++){const f=s[d];i[f]=go(o,l,f,c[f],e,!J(c,f))}}return r}function go(e,t,i,n,o,s){const r=e[i];if(r!=null){const a=J(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&K(l)){const{propsDefaults:c}=o;if(i in c)n=c[i];else{const d=Mi(o);n=c[i]=l.call(null,t),d()}}else n=l}r[0]&&(s&&!a?n=!1:r[1]&&(n===""||n===Dt(i))&&(n=!0))}return n}function Ia(e,t,i=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const s=e.props,r={},a=[];let l=!1;if(!K(e)){const d=f=>{l=!0;const[h,_]=Ia(f,t,!0);Te(r,h),_&&a.push(..._)};!i&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return ue(e)&&n.set(e,Kt),Kt;if(j(s))for(let d=0;d<s.length;d++){const f=nt(s[d]);Ws(f)&&(r[f]=ce)}else if(s)for(const d in s){const f=nt(d);if(Ws(f)){const h=s[d],_=r[f]=j(h)||K(h)?{type:h}:Te({},h);if(_){const T=Qs(Boolean,_.type),y=Qs(String,_.type);_[0]=T>-1,_[1]=y<0||T<y,(T>-1||J(_,"default"))&&a.push(f)}}}const c=[r,a];return ue(e)&&n.set(e,c),c}function Ws(e){return e[0]!=="$"}function Ks(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ys(e,t){return Ks(e)===Ks(t)}function Qs(e,t){return j(t)?t.findIndex(i=>Ys(i,e)):K(t)&&Ys(t,e)?0:-1}const Ta=e=>e[0]==="_"||e==="$stable",is=e=>j(e)?e.map(Ze):[Ze(e)],bd=(e,t,i)=>{if(t._n)return t;const n=pe((...o)=>is(t(...o)),i);return n._c=!1,n},Ca=(e,t,i)=>{const n=e._ctx;for(const o in e){if(Ta(o))continue;const s=e[o];if(K(s))t[o]=bd(o,s,n);else if(s!=null){const r=is(s);t[o]=()=>r}}},Sa=(e,t)=>{const i=is(t);e.slots.default=()=>i},wd=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=ne(t),on(t,"_",i)):Ca(t,e.slots={})}else e.slots={},t&&Sa(e,t);on(e.slots,En,1)},Id=(e,t,i)=>{const{vnode:n,slots:o}=e;let s=!0,r=ce;if(n.shapeFlag&32){const a=t._;a?i&&a===1?s=!1:(Te(o,t),!i&&a===1&&delete o._):(s=!t.$stable,Ca(t,o)),r=t}else t&&(Sa(e,t),r={default:1});if(s)for(const a in o)!Ta(a)&&r[a]==null&&delete o[a]};function po(e,t,i,n,o=!1){if(j(e)){e.forEach((h,_)=>po(h,t&&(j(t)?t[_]:t),i,n,o));return}if(gi(n)&&!o)return;const s=n.shapeFlag&4?Nn(n.component)||n.component.proxy:n.el,r=o?null:s,{i:a,r:l}=e,c=t&&t.r,d=a.refs===ce?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(_e(c)?(d[c]=null,J(f,c)&&(f[c]=null)):De(c)&&(c.value=null)),K(l))At(l,a,12,[r,d]);else{const h=_e(l),_=De(l);if(h||_){const T=()=>{if(e.f){const y=h?J(f,l)?f[l]:d[l]:l.value;o?j(y)&&$o(y,s):j(y)?y.includes(s)||y.push(s):h?(d[l]=[s],J(f,l)&&(f[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else h?(d[l]=r,J(f,l)&&(f[l]=r)):_&&(l.value=r,e.k&&(d[e.k]=r))};r?(T.id=-1,Me(T,i)):T()}}}const Me=Wc;function Td(e){return Cd(e)}function Cd(e,t){const i=Ur();i.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:r,createText:a,createComment:l,setText:c,setElementText:d,parentNode:f,nextSibling:h,setScopeId:_=He,insertStaticContent:T}=e,y=(p,m,v,C=null,S=null,E=null,N=void 0,O=null,F=!!m.dynamicChildren)=>{if(p===m)return;p&&!ri(p,m)&&(C=Vi(p),Ye(p,S,E,!0),p=null),m.patchFlag===-2&&(F=!1,m.dynamicChildren=null);const{type:k,ref:D,shapeFlag:H}=m;switch(k){case On:V(p,m,v,C);break;case vt:L(p,m,v,C);break;case Yi:p==null&&Y(m,v,C,N);break;case B:ie(p,m,v,C,S,E,N,O,F);break;default:H&1?de(p,m,v,C,S,E,N,O,F):H&6?ge(p,m,v,C,S,E,N,O,F):(H&64||H&128)&&k.process(p,m,v,C,S,E,N,O,F,jt)}D!=null&&S&&po(D,p&&p.ref,E,m||p,!m)},V=(p,m,v,C)=>{if(p==null)n(m.el=a(m.children),v,C);else{const S=m.el=p.el;m.children!==p.children&&c(S,m.children)}},L=(p,m,v,C)=>{p==null?n(m.el=l(m.children||""),v,C):m.el=p.el},Y=(p,m,v,C)=>{[p.el,p.anchor]=T(p.children,m,v,C,p.el,p.anchor)},x=({el:p,anchor:m},v,C)=>{let S;for(;p&&p!==m;)S=h(p),n(p,v,C),p=S;n(m,v,C)},P=({el:p,anchor:m})=>{let v;for(;p&&p!==m;)v=h(p),o(p),p=v;o(m)},de=(p,m,v,C,S,E,N,O,F)=>{m.type==="svg"?N="svg":m.type==="math"&&(N="mathml"),p==null?Q(m,v,C,S,E,N,O,F):be(p,m,S,E,N,O,F)},Q=(p,m,v,C,S,E,N,O)=>{let F,k;const{props:D,shapeFlag:H,transition:$,dirs:q}=p;if(F=p.el=r(p.type,E,D&&D.is,D),H&8?d(F,p.children):H&16&&se(p.children,F,null,C,S,Wn(p,E),N,O),q&&Tt(p,null,C,"created"),te(F,p,p.scopeId,N,C),D){for(const re in D)re!=="value"&&!qi(re)&&s(F,re,null,D[re],E,p.children,C,S,rt);"value"in D&&s(F,"value",null,D.value,E),(k=D.onVnodeBeforeMount)&&Xe(k,C,p)}q&&Tt(p,null,C,"beforeMount");const X=Sd(S,$);X&&$.beforeEnter(F),n(F,m,v),((k=D&&D.onVnodeMounted)||X||q)&&Me(()=>{k&&Xe(k,C,p),X&&$.enter(F),q&&Tt(p,null,C,"mounted")},S)},te=(p,m,v,C,S)=>{if(v&&_(p,v),C)for(let E=0;E<C.length;E++)_(p,C[E]);if(S){let E=S.subTree;if(m===E){const N=S.vnode;te(p,N,N.scopeId,N.slotScopeIds,S.parent)}}},se=(p,m,v,C,S,E,N,O,F=0)=>{for(let k=F;k<p.length;k++){const D=p[k]=O?gt(p[k]):Ze(p[k]);y(null,D,m,v,C,S,E,N,O)}},be=(p,m,v,C,S,E,N)=>{const O=m.el=p.el;let{patchFlag:F,dynamicChildren:k,dirs:D}=m;F|=p.patchFlag&16;const H=p.props||ce,$=m.props||ce;let q;if(v&&Ct(v,!1),(q=$.onVnodeBeforeUpdate)&&Xe(q,v,m,p),D&&Tt(m,p,v,"beforeUpdate"),v&&Ct(v,!0),k?G(p.dynamicChildren,k,O,v,C,Wn(m,S),E):N||le(p,m,O,null,v,C,Wn(m,S),E,!1),F>0){if(F&16)he(O,m,H,$,v,C,S);else if(F&2&&H.class!==$.class&&s(O,"class",null,$.class,S),F&4&&s(O,"style",H.style,$.style,S),F&8){const X=m.dynamicProps;for(let re=0;re<X.length;re++){const fe=X[re],ye=H[fe],Be=$[fe];(Be!==ye||fe==="value")&&s(O,fe,ye,Be,S,p.children,v,C,rt)}}F&1&&p.children!==m.children&&d(O,m.children)}else!N&&k==null&&he(O,m,H,$,v,C,S);((q=$.onVnodeUpdated)||D)&&Me(()=>{q&&Xe(q,v,m,p),D&&Tt(m,p,v,"updated")},C)},G=(p,m,v,C,S,E,N)=>{for(let O=0;O<m.length;O++){const F=p[O],k=m[O],D=F.el&&(F.type===B||!ri(F,k)||F.shapeFlag&70)?f(F.el):v;y(F,k,D,null,C,S,E,N,!0)}},he=(p,m,v,C,S,E,N)=>{if(v!==C){if(v!==ce)for(const O in v)!qi(O)&&!(O in C)&&s(p,O,v[O],null,N,m.children,S,E,rt);for(const O in C){if(qi(O))continue;const F=C[O],k=v[O];F!==k&&O!=="value"&&s(p,O,k,F,N,m.children,S,E,rt)}"value"in C&&s(p,"value",v.value,C.value,N)}},ie=(p,m,v,C,S,E,N,O,F)=>{const k=m.el=p?p.el:a(""),D=m.anchor=p?p.anchor:a("");let{patchFlag:H,dynamicChildren:$,slotScopeIds:q}=m;q&&(O=O?O.concat(q):q),p==null?(n(k,v,C),n(D,v,C),se(m.children||[],v,D,S,E,N,O,F)):H>0&&H&64&&$&&p.dynamicChildren?(G(p.dynamicChildren,$,v,S,E,N,O),(m.key!=null||S&&m===S.subTree)&&Ma(p,m,!0)):le(p,m,v,D,S,E,N,O,F)},ge=(p,m,v,C,S,E,N,O,F)=>{m.slotScopeIds=O,p==null?m.shapeFlag&512?S.ctx.activate(m,v,C,N,F):me(m,v,C,S,E,N,F):Ke(p,m,F)},me=(p,m,v,C,S,E,N)=>{const O=p.component=Vd(p,C,S);if(ma(p)&&(O.ctx.renderer=jt),Ld(O),O.asyncDep){if(S&&S.registerDep(O,ee),!p.el){const F=O.subTree=I(vt);L(null,F,m,v)}}else ee(O,p,m,v,S,E,N)},Ke=(p,m,v)=>{const C=m.component=p.component;if(Uc(p,m,v))if(C.asyncDep&&!C.asyncResolved){ae(C,m,v);return}else C.next=m,Lc(C.update),C.effect.dirty=!0,C.update();else m.el=p.el,C.vnode=m},ee=(p,m,v,C,S,E,N)=>{const O=()=>{if(p.isMounted){let{next:D,bu:H,u:$,parent:q,vnode:X}=p;{const zt=ka(p);if(zt){D&&(D.el=X.el,ae(p,D,N)),zt.asyncDep.then(()=>{p.isUnmounted||O()});return}}let re=D,fe;Ct(p,!1),D?(D.el=X.el,ae(p,D,N)):D=X,H&&Wi(H),(fe=D.props&&D.props.onVnodeBeforeUpdate)&&Xe(fe,q,D,X),Ct(p,!0);const ye=qn(p),Be=p.subTree;p.subTree=ye,y(Be,ye,f(Be.el),Vi(Be),p,S,E),D.el=ye.el,re===null&&jc(p,ye.el),$&&Me($,S),(fe=D.props&&D.props.onVnodeUpdated)&&Me(()=>Xe(fe,q,D,X),S)}else{let D;const{el:H,props:$}=m,{bm:q,m:X,parent:re}=p,fe=gi(m);if(Ct(p,!1),q&&Wi(q),!fe&&(D=$&&$.onVnodeBeforeMount)&&Xe(D,re,m),Ct(p,!0),H&&jn){const ye=()=>{p.subTree=qn(p),jn(H,p.subTree,p,S,null)};fe?m.type.__asyncLoader().then(()=>!p.isUnmounted&&ye()):ye()}else{const ye=p.subTree=qn(p);y(null,ye,v,C,p,S,E),m.el=ye.el}if(X&&Me(X,S),!fe&&(D=$&&$.onVnodeMounted)){const ye=m;Me(()=>Xe(D,re,ye),S)}(m.shapeFlag&256||re&&gi(re.vnode)&&re.vnode.shapeFlag&256)&&p.a&&Me(p.a,S),p.isMounted=!0,m=v=C=null}},F=p.effect=new Bo(O,He,()=>Zo(k),p.scope),k=p.update=()=>{F.dirty&&F.run()};k.id=p.uid,Ct(p,!0),k()},ae=(p,m,v)=>{m.component=p;const C=p.vnode.props;p.vnode=m,p.next=null,vd(p,m.props,C,v),Id(p,m.children,v),Pt(),$s(p),$t()},le=(p,m,v,C,S,E,N,O,F=!1)=>{const k=p&&p.children,D=p?p.shapeFlag:0,H=m.children,{patchFlag:$,shapeFlag:q}=m;if($>0){if($&128){Ri(k,H,v,C,S,E,N,O,F);return}else if($&256){wt(k,H,v,C,S,E,N,O,F);return}}q&8?(D&16&&rt(k,S,E),H!==k&&d(v,H)):D&16?q&16?Ri(k,H,v,C,S,E,N,O,F):rt(k,S,E,!0):(D&8&&d(v,""),q&16&&se(H,v,C,S,E,N,O,F))},wt=(p,m,v,C,S,E,N,O,F)=>{p=p||Kt,m=m||Kt;const k=p.length,D=m.length,H=Math.min(k,D);let $;for($=0;$<H;$++){const q=m[$]=F?gt(m[$]):Ze(m[$]);y(p[$],q,v,null,S,E,N,O,F)}k>D?rt(p,S,E,!0,!1,H):se(m,v,C,S,E,N,O,F,H)},Ri=(p,m,v,C,S,E,N,O,F)=>{let k=0;const D=m.length;let H=p.length-1,$=D-1;for(;k<=H&&k<=$;){const q=p[k],X=m[k]=F?gt(m[k]):Ze(m[k]);if(ri(q,X))y(q,X,v,null,S,E,N,O,F);else break;k++}for(;k<=H&&k<=$;){const q=p[H],X=m[$]=F?gt(m[$]):Ze(m[$]);if(ri(q,X))y(q,X,v,null,S,E,N,O,F);else break;H--,$--}if(k>H){if(k<=$){const q=$+1,X=q<D?m[q].el:C;for(;k<=$;)y(null,m[k]=F?gt(m[k]):Ze(m[k]),v,X,S,E,N,O,F),k++}}else if(k>$)for(;k<=H;)Ye(p[k],S,E,!0),k++;else{const q=k,X=k,re=new Map;for(k=X;k<=$;k++){const Re=m[k]=F?gt(m[k]):Ze(m[k]);Re.key!=null&&re.set(Re.key,k)}let fe,ye=0;const Be=$-X+1;let zt=!1,Ms=0;const si=new Array(Be);for(k=0;k<Be;k++)si[k]=0;for(k=q;k<=H;k++){const Re=p[k];if(ye>=Be){Ye(Re,S,E,!0);continue}let Qe;if(Re.key!=null)Qe=re.get(Re.key);else for(fe=X;fe<=$;fe++)if(si[fe-X]===0&&ri(Re,m[fe])){Qe=fe;break}Qe===void 0?Ye(Re,S,E,!0):(si[Qe-X]=k+1,Qe>=Ms?Ms=Qe:zt=!0,y(Re,m[Qe],v,null,S,E,N,O,F),ye++)}const ks=zt?Md(si):Kt;for(fe=ks.length-1,k=Be-1;k>=0;k--){const Re=X+k,Qe=m[Re],Os=Re+1<D?m[Re+1].el:C;si[k]===0?y(null,Qe,v,Os,S,E,N,O,F):zt&&(fe<0||k!==ks[fe]?It(Qe,v,Os,2):fe--)}}},It=(p,m,v,C,S=null)=>{const{el:E,type:N,transition:O,children:F,shapeFlag:k}=p;if(k&6){It(p.component.subTree,m,v,C);return}if(k&128){p.suspense.move(m,v,C);return}if(k&64){N.move(p,m,v,jt);return}if(N===B){n(E,m,v);for(let H=0;H<F.length;H++)It(F[H],m,v,C);n(p.anchor,m,v);return}if(N===Yi){x(p,m,v);return}if(C!==2&&k&1&&O)if(C===0)O.beforeEnter(E),n(E,m,v),Me(()=>O.enter(E),S);else{const{leave:H,delayLeave:$,afterLeave:q}=O,X=()=>n(E,m,v),re=()=>{H(E,()=>{X(),q&&q()})};$?$(E,X,re):re()}else n(E,m,v)},Ye=(p,m,v,C=!1,S=!1)=>{const{type:E,props:N,ref:O,children:F,dynamicChildren:k,shapeFlag:D,patchFlag:H,dirs:$}=p;if(O!=null&&po(O,null,v,p,!0),D&256){m.ctx.deactivate(p);return}const q=D&1&&$,X=!gi(p);let re;if(X&&(re=N&&N.onVnodeBeforeUnmount)&&Xe(re,m,p),D&6)Kl(p.component,v,C);else{if(D&128){p.suspense.unmount(v,C);return}q&&Tt(p,null,m,"beforeUnmount"),D&64?p.type.remove(p,m,v,S,jt,C):k&&(E!==B||H>0&&H&64)?rt(k,m,v,!1,!0):(E===B&&H&384||!S&&D&16)&&rt(F,m,v),C&&Cs(p)}(X&&(re=N&&N.onVnodeUnmounted)||q)&&Me(()=>{re&&Xe(re,m,p),q&&Tt(p,null,m,"unmounted")},v)},Cs=p=>{const{type:m,el:v,anchor:C,transition:S}=p;if(m===B){Wl(v,C);return}if(m===Yi){P(p);return}const E=()=>{o(v),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:N,delayLeave:O}=S,F=()=>N(v,E);O?O(p.el,E,F):F()}else E()},Wl=(p,m)=>{let v;for(;p!==m;)v=h(p),o(p),p=v;o(m)},Kl=(p,m,v)=>{const{bum:C,scope:S,update:E,subTree:N,um:O}=p;C&&Wi(C),S.stop(),E&&(E.active=!1,Ye(N,p,m,v)),O&&Me(O,m),Me(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},rt=(p,m,v,C=!1,S=!1,E=0)=>{for(let N=E;N<p.length;N++)Ye(p[N],m,v,C,S)},Vi=p=>p.shapeFlag&6?Vi(p.component.subTree):p.shapeFlag&128?p.suspense.next():h(p.anchor||p.el);let Bn=!1;const Ss=(p,m,v)=>{p==null?m._vnode&&Ye(m._vnode,null,null,!0):y(m._vnode||null,p,m,null,null,null,v),Bn||(Bn=!0,$s(),da(),Bn=!1),m._vnode=p},jt={p:y,um:Ye,m:It,r:Cs,mt:me,mc:se,pc:le,pbc:G,n:Vi,o:e};let Un,jn;return t&&([Un,jn]=t(jt)),{render:Ss,hydrate:Un,createApp:_d(Ss,Un)}}function Wn({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function Ct({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function Sd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ma(e,t,i=!1){const n=e.children,o=t.children;if(j(n)&&j(o))for(let s=0;s<n.length;s++){const r=n[s];let a=o[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[s]=gt(o[s]),a.el=r.el),i||Ma(r,a)),a.type===On&&(a.el=r.el)}}function Md(e){const t=e.slice(),i=[0];let n,o,s,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(o=i[i.length-1],e[o]<c){t[n]=o,i.push(n);continue}for(s=0,r=i.length-1;s<r;)a=s+r>>1,e[i[a]]<c?s=a+1:r=a;c<e[i[s]]&&(s>0&&(t[n]=i[s-1]),i[s]=n)}}for(s=i.length,r=i[s-1];s-- >0;)i[s]=r,r=t[r];return i}function ka(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ka(t)}const kd=e=>e.__isTeleport,B=Symbol.for("v-fgt"),On=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),Yi=Symbol.for("v-stc"),mi=[];let ze=null;function g(e=!1){mi.push(ze=e?null:[])}function Od(){mi.pop(),ze=mi[mi.length-1]||null}let vi=1;function Xs(e){vi+=e}function Oa(e){return e.dynamicChildren=vi>0?ze||Kt:null,Od(),vi>0&&ze&&ze.push(e),e}function A(e,t,i,n,o,s){return Oa(u(e,t,i,n,o,s,!0))}function R(e,t,i,n,o){return Oa(I(e,t,i,n,o,!0))}function ln(e){return e?e.__v_isVNode===!0:!1}function ri(e,t){return e.type===t.type&&e.key===t.key}const En="__vInternal",Ea=({key:e})=>e??null,Qi=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||De(e)||K(e)?{i:ve,r:e,k:t,f:!!i}:e:null);function u(e,t=null,i=null,n=0,o=null,s=e===B?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ea(t),ref:t&&Qi(t),scopeId:Mn,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ve};return a?(ns(l,i),s&128&&e.normalize(l)):i&&(l.shapeFlag|=_e(i)?8:16),vi>0&&!r&&ze&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ze.push(l),l}const I=Ed;function Ed(e,t=null,i=null,n=0,o=null,s=!1){if((!e||e===ha)&&(e=vt),ln(e)){const a=Jt(e,t,!0);return i&&ns(a,i),vi>0&&!s&&ze&&(a.shapeFlag&6?ze[ze.indexOf(e)]=a:ze.push(a)),a.patchFlag|=-2,a}if(Hd(e)&&(e=e.__vccOpts),t){t=Fa(t);let{class:a,style:l}=t;a&&!_e(a)&&(t.class=W(a)),ue(l)&&(sa(l)&&!j(l)&&(l=Te({},l)),t.style=xt(l))}const r=_e(e)?1:Gc(e)?128:kd(e)?64:ue(e)?4:K(e)?2:0;return u(e,t,i,n,o,r,s,!0)}function Fa(e){return e?sa(e)||En in e?Te({},e):e:null}function Jt(e,t,i=!1){const{props:n,ref:o,patchFlag:s,children:r}=e,a=t?os(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ea(a),ref:t&&t.ref?i&&o?j(o)?o.concat(Qi(t)):[o,Qi(t)]:Qi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==B?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Si(e=" ",t=0){return I(On,null,e,t)}function Fd(e,t){const i=I(Yi,null,e);return i.staticCount=t,i}function b(e="",t=!1){return t?(g(),R(vt,null,e)):I(vt,null,e)}function Ze(e){return e==null||typeof e=="boolean"?I(vt):j(e)?I(B,null,e.slice()):typeof e=="object"?gt(e):I(On,null,String(e))}function gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jt(e)}function ns(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(j(t))i=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),ns(e,o()),o._c&&(o._d=!0));return}else{i=32;const o=t._;!o&&!(En in t)?t._ctx=ve:o===3&&ve&&(ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else K(t)?(t={default:t,_ctx:ve},i=32):(t=String(t),n&64?(i=16,t=[Si(t)]):i=8);e.children=t,e.shapeFlag|=i}function os(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=W([t.class,n.class]));else if(o==="style")t.style=xt([t.style,n.style]);else if(yn(o)){const s=t[o],r=n[o];r&&s!==r&&!(j(s)&&s.includes(r))&&(t[o]=s?[].concat(s,r):r)}else o!==""&&(t[o]=n[o])}return t}function Xe(e,t,i,n=null){qe(e,t,7,[i,n])}const Nd=ba();let Rd=0;function Vd(e,t,i){const n=e.type,o=(t?t.appContext:e.appContext)||Nd,s={uid:Rd++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new qr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ia(n,o),emitsOptions:ua(n,o),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:n.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Pc.bind(null,s),e.ce&&e.ce(s),s}let Ie=null,cn,mo;{const e=Ur(),t=(i,n)=>{let o;return(o=e[i])||(o=e[i]=[]),o.push(n),s=>{o.length>1?o.forEach(r=>r(s)):o[0](s)}};cn=t("__VUE_INSTANCE_SETTERS__",i=>Ie=i),mo=t("__VUE_SSR_SETTERS__",i=>Fn=i)}const Mi=e=>{const t=Ie;return cn(e),e.scope.on(),()=>{e.scope.off(),cn(t)}},Zs=()=>{Ie&&Ie.scope.off(),cn(null)};function Na(e){return e.vnode.shapeFlag&4}let Fn=!1;function Ld(e,t=!1){t&&mo(t);const{props:i,children:n}=e.vnode,o=Na(e);yd(e,i,o,t),wd(e,n);const s=o?Dd(e,t):void 0;return t&&mo(!1),s}function Dd(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Wo(new Proxy(e.ctx,dd));const{setup:n}=i;if(n){const o=e.setupContext=n.length>1?Pd(e):null,s=Mi(e);Pt();const r=At(n,e,0,[e.props,o]);if($t(),s(),$r(r)){if(r.then(Zs,Zs),t)return r.then(a=>{Js(e,a,t)}).catch(a=>{Cn(a,e,0)});e.asyncDep=r}else Js(e,r,t)}else Ra(e,t)}function Js(e,t,i){K(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ue(t)&&(e.setupState=aa(t)),Ra(e,i)}let er;function Ra(e,t,i){const n=e.type;if(!e.render){if(!t&&er&&!n.render){const o=n.template||ts(e).template;if(o){const{isCustomElement:s,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Te(Te({isCustomElement:s,delimiters:a},r),l);n.render=er(o,c)}}e.render=n.render||He}{const o=Mi(e);Pt();try{fd(e)}finally{$t(),o()}}}function xd(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,i){return Ee(e,"get","$attrs"),t[i]}}))}function Pd(e){const t=i=>{e.exposed=i||{}};return{get attrs(){return xd(e)},slots:e.slots,emit:e.emit,expose:t}}function Nn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(aa(Wo(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in pi)return pi[i](e)},has(t,i){return i in t||i in pi}}))}function $d(e,t=!0){return K(e)?e.displayName||e.name:e.name||t&&e.__name}function Hd(e){return K(e)&&"__vccOpts"in e}const Va=(e,t)=>Oc(e,t,Fn);function Bd(e,t,i){const n=arguments.length;return n===2?ue(t)&&!j(t)?ln(t)?I(e,null,[t]):I(e,t):I(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&ln(i)&&(i=[i]),I(e,t,i))}const Ud="3.4.14";/**
* @vue/runtime-dom v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jd="http://www.w3.org/2000/svg",zd="http://www.w3.org/1998/Math/MathML",pt=typeof document<"u"?document:null,tr=pt&&pt.createElement("template"),qd={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const o=t==="svg"?pt.createElementNS(jd,e):t==="mathml"?pt.createElementNS(zd,e):pt.createElement(e,i?{is:i}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>pt.createTextNode(e),createComment:e=>pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,o,s){const r=i?i.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),i),!(o===s||!(o=o.nextSibling)););else{tr.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const a=tr.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[r?r.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Gd=Symbol("_vtc");function Wd(e,t,i){const n=e[Gd];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const ss=Symbol("_vod"),rs={beforeMount(e,{value:t},{transition:i}){e[ss]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):ai(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),ai(e,!0),n.enter(e)):n.leave(e,()=>{ai(e,!1)}):ai(e,t))},beforeUnmount(e,{value:t}){ai(e,t)}};function ai(e,t){e.style.display=t?e[ss]:"none"}const Kd=Symbol("");function Yd(e,t,i){const n=e.style,o=n.display,s=_e(i);if(i&&!s){if(t&&!_e(t))for(const r in t)i[r]==null&&_o(n,r,"");for(const r in i)_o(n,r,i[r])}else if(s){if(t!==i){const r=n[Kd];r&&(i+=";"+r),n.cssText=i}}else t&&e.removeAttribute("style");ss in e&&(n.display=o)}const ir=/\s*!important$/;function _o(e,t,i){if(j(i))i.forEach(n=>_o(e,t,n));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=Qd(e,t);ir.test(i)?e.setProperty(Dt(n),i.replace(ir,""),"important"):e[n]=i}}const nr=["Webkit","Moz","ms"],Kn={};function Qd(e,t){const i=Kn[t];if(i)return i;let n=nt(t);if(n!=="filter"&&n in e)return Kn[t]=n;n=wn(n);for(let o=0;o<nr.length;o++){const s=nr[o]+n;if(s in e)return Kn[t]=s}return t}const or="http://www.w3.org/1999/xlink";function Xd(e,t,i,n,o){if(n&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(or,t.slice(6,t.length)):e.setAttributeNS(or,t,i);else{const s=rc(t);i==null||s&&!jr(i)?e.removeAttribute(t):e.setAttribute(t,s?"":i)}}function Zd(e,t,i,n,o,s,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,o,s),e[t]=i??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=i;const c=a==="OPTION"?e.getAttribute("value"):e.value,d=i??"";c!==d&&(e.value=d),i==null&&e.removeAttribute(t);return}let l=!1;if(i===""||i==null){const c=typeof e[t];c==="boolean"?i=jr(i):i==null&&c==="string"?(i="",l=!0):c==="number"&&(i=0,l=!0)}try{e[t]=i}catch{}l&&e.removeAttribute(t)}function Wt(e,t,i,n){e.addEventListener(t,i,n)}function Jd(e,t,i,n){e.removeEventListener(t,i,n)}const sr=Symbol("_vei");function ef(e,t,i,n,o=null){const s=e[sr]||(e[sr]={}),r=s[t];if(n&&r)r.value=n;else{const[a,l]=tf(t);if(n){const c=s[t]=sf(n,o);Wt(e,a,c,l)}else r&&(Jd(e,a,r,l),s[t]=void 0)}}const rr=/(?:Once|Passive|Capture)$/;function tf(e){let t;if(rr.test(e)){t={};let n;for(;n=e.match(rr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dt(e.slice(2)),t]}let Yn=0;const nf=Promise.resolve(),of=()=>Yn||(nf.then(()=>Yn=0),Yn=Date.now());function sf(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;qe(rf(n,i.value),t,5,[n])};return i.value=e,i.attached=of(),i}function rf(e,t){if(j(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const ar=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,af=(e,t,i,n,o,s,r,a,l)=>{const c=o==="svg";t==="class"?Wd(e,n,c):t==="style"?Yd(e,i,n):yn(t)?Po(t)||ef(e,t,i,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lf(e,t,n,c))?Zd(e,t,n,s,r,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Xd(e,t,n,c))};function lf(e,t,i,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ar(t)&&K(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ar(t)&&_e(i)?!1:t in e}const lr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return j(t)?i=>Wi(t,i):t};function cf(e){e.target.composing=!0}function cr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qn=Symbol("_assign"),Xi={created(e,{modifiers:{lazy:t,trim:i,number:n}},o){e[Qn]=lr(o);const s=n||o.props&&o.props.type==="number";Wt(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;i&&(a=a.trim()),s&&(a=no(a)),e[Qn](a)}),i&&Wt(e,"change",()=>{e.value=e.value.trim()}),t||(Wt(e,"compositionstart",cf),Wt(e,"compositionend",cr),Wt(e,"change",cr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:n,number:o}},s){if(e[Qn]=lr(s),e.composing)return;const r=o||e.type==="number"?no(e.value):e.value,a=t??"";r!==a&&(document.activeElement===e&&e.type!=="range"&&(i||n&&e.value.trim()===a)||(e.value=a))}},df=["ctrl","shift","alt","meta"],ff={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>df.some(i=>e[`${i}Key`]&&!t.includes(i))},ke=(e,t)=>{const i=e._withMods||(e._withMods={}),n=t.join(".");return i[n]||(i[n]=(o,...s)=>{for(let r=0;r<t.length;r++){const a=ff[t[r]];if(a&&a(o,t))return}return e(o,...s)})},uf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xn=(e,t)=>{const i=e._withKeys||(e._withKeys={}),n=t.join(".");return i[n]||(i[n]=o=>{if(!("key"in o))return;const s=Dt(o.key);if(t.some(r=>r===s||uf[r]===s))return e(o)})},hf=Te({patchProp:af},qd);let dr;function gf(){return dr||(dr=Td(hf))}const pf=(...e)=>{const t=gf().createApp(...e),{mount:i}=t;return t.mount=n=>{const o=_f(n);if(!o)return;const s=t._component;!K(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const r=i(o,!1,mf(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function mf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function _f(e){return _e(e)?document.querySelector(e):e}const z=(e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i},Af={name:"Button",props:{label:{type:String,default:""},variant:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],computed:{buttonStyling(){return{"primary-button":this.variant==="primary","secondary-button":this.variant==="secondary"}}}},yf=["disabled"];function vf(e,t,i,n,o,s){return g(),A("button",{class:W(["modal-button",s.buttonStyling]),disabled:i.disabled,onClick:t[0]||(t[0]=r=>e.$emit("click"))},w(i.label),11,yf)}const ot=z(Af,[["render",vf],["__scopeId","data-v-4e401b82"]]),bf={name:"PlatformIcon",props:{fileName:{type:String,required:!0},variant:{type:String,default:""},isPlatformSpecific:{type:Boolean,default:!1}},methods:{getSvgUrl(){const e=this.isPlatformSpecific?"salesforce":"common",t=this.variant?`-${this.variant}`:"";return`icons/${e}/${this.fileName}${t}.svg`}}},wf=["src","alt"];function If(e,t,i,n,o,s){return g(),A("img",{src:s.getSvgUrl(),alt:i.fileName},null,8,wf)}const Se=z(bf,[["render",If]]);function Tf(){return La().__VUE_DEVTOOLS_GLOBAL_HOOK__}function La(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Cf=typeof Proxy=="function",Sf="devtools-plugin:setup",Mf="plugin:settings:set";let qt,Ao;function kf(){var e;return qt!==void 0||(typeof window<"u"&&window.performance?(qt=!0,Ao=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(qt=!0,Ao=global.perf_hooks.performance):qt=!1),qt}function Of(){return kf()?Ao.now():Date.now()}class Ef{constructor(t,i){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=i;const n={};if(t.settings)for(const r in t.settings){const a=t.settings[r];n[r]=a.defaultValue}const o=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},n);try{const r=localStorage.getItem(o),a=JSON.parse(r);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(r){try{localStorage.setItem(o,JSON.stringify(r))}catch{}s=r},now(){return Of()}},i&&i.on(Mf,(r,a)=>{r===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(r,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(r,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const i of this.onQueue)this.target.on[i.method](...i.args);for(const i of this.targetQueue)i.resolve(await this.target[i.method](...i.args))}}function Ff(e,t){const i=e,n=La(),o=Tf(),s=Cf&&i.enableEarlyProxy;if(o&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))o.emit(Sf,e,t);else{const r=s?new Ef(i,o):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:i,setupFn:t,proxy:r}),r&&t(r.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Nf="store";function ni(e,t){Object.keys(e).forEach(function(i){return t(e[i],i)})}function Da(e){return e!==null&&typeof e=="object"}function Rf(e){return e&&typeof e.then=="function"}function Vf(e,t){return function(){return e(t)}}function xa(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Pa(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;Rn(e,i,[],e._modules.root,!0),as(e,i,t)}function as(e,t,i){var n=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,r={},a={},l=ac(!0);l.run(function(){ni(s,function(c,d){r[d]=Vf(c,e),a[d]=Va(function(){return r[d]()}),Object.defineProperty(e.getters,d,{get:function(){return a[d].value},enumerable:!0})})}),e._state=Tn({data:t}),e._scope=l,e.strict&&$f(e),n&&i&&e._withCommit(function(){n.data=null}),o&&o.stop()}function Rn(e,t,i,n,o){var s=!i.length,r=e._modules.getNamespace(i);if(n.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=n),!s&&!o){var a=ls(t,i.slice(0,-1)),l=i[i.length-1];e._withCommit(function(){a[l]=n.state})}var c=n.context=Lf(e,r,i);n.forEachMutation(function(d,f){var h=r+f;Df(e,h,d,c)}),n.forEachAction(function(d,f){var h=d.root?f:r+f,_=d.handler||d;xf(e,h,_,c)}),n.forEachGetter(function(d,f){var h=r+f;Pf(e,h,d,c)}),n.forEachChild(function(d,f){Rn(e,t,i.concat(f),d,o)})}function Lf(e,t,i){var n=t==="",o={dispatch:n?e.dispatch:function(s,r,a){var l=dn(s,r,a),c=l.payload,d=l.options,f=l.type;return(!d||!d.root)&&(f=t+f),e.dispatch(f,c)},commit:n?e.commit:function(s,r,a){var l=dn(s,r,a),c=l.payload,d=l.options,f=l.type;(!d||!d.root)&&(f=t+f),e.commit(f,c,d)}};return Object.defineProperties(o,{getters:{get:n?function(){return e.getters}:function(){return $a(e,t)}},state:{get:function(){return ls(e.state,i)}}}),o}function $a(e,t){if(!e._makeLocalGettersCache[t]){var i={},n=t.length;Object.keys(e.getters).forEach(function(o){if(o.slice(0,n)===t){var s=o.slice(n);Object.defineProperty(i,s,{get:function(){return e.getters[o]},enumerable:!0})}}),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}function Df(e,t,i,n){var o=e._mutations[t]||(e._mutations[t]=[]);o.push(function(r){i.call(e,n.state,r)})}function xf(e,t,i,n){var o=e._actions[t]||(e._actions[t]=[]);o.push(function(r){var a=i.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},r);return Rf(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function Pf(e,t,i,n){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return i(n.state,n.getters,s.state,s.getters)})}function $f(e){hi(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function ls(e,t){return t.reduce(function(i,n){return i[n]},e)}function dn(e,t,i){return Da(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}var Hf="vuex bindings",fr="vuex:mutations",Zn="vuex:actions",Gt="vuex",Bf=0;function Uf(e,t){Ff({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Hf]},function(i){i.addTimelineLayer({id:fr,label:"Vuex Mutations",color:ur}),i.addTimelineLayer({id:Zn,label:"Vuex Actions",color:ur}),i.addInspector({id:Gt,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree(function(n){if(n.app===e&&n.inspectorId===Gt)if(n.filter){var o=[];ja(o,t._modules.root,n.filter,""),n.rootNodes=o}else n.rootNodes=[Ua(t._modules.root,"")]}),i.on.getInspectorState(function(n){if(n.app===e&&n.inspectorId===Gt){var o=n.nodeId;$a(t,o),n.state=qf(Wf(t._modules,o),o==="root"?t.getters:t._makeLocalGettersCache,o)}}),i.on.editInspectorState(function(n){if(n.app===e&&n.inspectorId===Gt){var o=n.nodeId,s=n.path;o!=="root"&&(s=o.split("/").filter(Boolean).concat(s)),t._withCommit(function(){n.set(t._state.data,s,n.state.value)})}}),t.subscribe(function(n,o){var s={};n.payload&&(s.payload=n.payload),s.state=o,i.notifyComponentUpdate(),i.sendInspectorTree(Gt),i.sendInspectorState(Gt),i.addTimelineEvent({layerId:fr,event:{time:Date.now(),title:n.type,data:s}})}),t.subscribeAction({before:function(n,o){var s={};n.payload&&(s.payload=n.payload),n._id=Bf++,n._time=Date.now(),s.state=o,i.addTimelineEvent({layerId:Zn,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:s}})},after:function(n,o){var s={},r=Date.now()-n._time;s.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},n.payload&&(s.payload=n.payload),s.state=o,i.addTimelineEvent({layerId:Zn,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:s}})}})})}var ur=8702998,jf=6710886,zf=16777215,Ha={label:"namespaced",textColor:zf,backgroundColor:jf};function Ba(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Ua(e,t){return{id:t||"root",label:Ba(t),tags:e.namespaced?[Ha]:[],children:Object.keys(e._children).map(function(i){return Ua(e._children[i],t+i+"/")})}}function ja(e,t,i,n){n.includes(i)&&e.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:t.namespaced?[Ha]:[]}),Object.keys(t._children).forEach(function(o){ja(e,t._children[o],i,n+o+"/")})}function qf(e,t,i){t=i==="root"?t:t[i];var n=Object.keys(t),o={state:Object.keys(e.state).map(function(r){return{key:r,editable:!0,value:e.state[r]}})};if(n.length){var s=Gf(t);o.getters=Object.keys(s).map(function(r){return{key:r.endsWith("/")?Ba(r):r,editable:!1,value:yo(function(){return s[r]})}})}return o}function Gf(e){var t={};return Object.keys(e).forEach(function(i){var n=i.split("/");if(n.length>1){var o=t,s=n.pop();n.forEach(function(r){o[r]||(o[r]={_custom:{value:{},display:r,tooltip:"Module",abstract:!0}}),o=o[r]._custom.value}),o[s]=yo(function(){return e[i]})}else t[i]=yo(function(){return e[i]})}),t}function Wf(e,t){var i=t.split("/").filter(function(n){return n});return i.reduce(function(n,o,s){var r=n[o];if(!r)throw new Error('Missing module "'+o+'" for path "'+t+'".');return s===i.length-1?r:r._children},t==="root"?e:e.root._children)}function yo(e){try{return e()}catch(t){return t}}var Ge=function(t,i){this.runtime=i,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=(typeof n=="function"?n():n)||{}},za={namespaced:{configurable:!0}};za.namespaced.get=function(){return!!this._rawModule.namespaced};Ge.prototype.addChild=function(t,i){this._children[t]=i};Ge.prototype.removeChild=function(t){delete this._children[t]};Ge.prototype.getChild=function(t){return this._children[t]};Ge.prototype.hasChild=function(t){return t in this._children};Ge.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Ge.prototype.forEachChild=function(t){ni(this._children,t)};Ge.prototype.forEachGetter=function(t){this._rawModule.getters&&ni(this._rawModule.getters,t)};Ge.prototype.forEachAction=function(t){this._rawModule.actions&&ni(this._rawModule.actions,t)};Ge.prototype.forEachMutation=function(t){this._rawModule.mutations&&ni(this._rawModule.mutations,t)};Object.defineProperties(Ge.prototype,za);var Ut=function(t){this.register([],t,!1)};Ut.prototype.get=function(t){return t.reduce(function(i,n){return i.getChild(n)},this.root)};Ut.prototype.getNamespace=function(t){var i=this.root;return t.reduce(function(n,o){return i=i.getChild(o),n+(i.namespaced?o+"/":"")},"")};Ut.prototype.update=function(t){qa([],this.root,t)};Ut.prototype.register=function(t,i,n){var o=this;n===void 0&&(n=!0);var s=new Ge(i,n);if(t.length===0)this.root=s;else{var r=this.get(t.slice(0,-1));r.addChild(t[t.length-1],s)}i.modules&&ni(i.modules,function(a,l){o.register(t.concat(l),a,n)})};Ut.prototype.unregister=function(t){var i=this.get(t.slice(0,-1)),n=t[t.length-1],o=i.getChild(n);o&&o.runtime&&i.removeChild(n)};Ut.prototype.isRegistered=function(t){var i=this.get(t.slice(0,-1)),n=t[t.length-1];return i?i.hasChild(n):!1};function qa(e,t,i){if(t.update(i),i.modules)for(var n in i.modules){if(!t.getChild(n))return;qa(e.concat(n),t.getChild(n),i.modules[n])}}function Kf(e){return new Ne(e)}var Ne=function(t){var i=this;t===void 0&&(t={});var n=t.plugins;n===void 0&&(n=[]);var o=t.strict;o===void 0&&(o=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ut(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var r=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(h,_){return l.call(r,h,_)},this.commit=function(h,_,T){return c.call(r,h,_,T)},this.strict=o;var d=this._modules.root.state;Rn(this,d,[],this._modules.root),as(this,d),n.forEach(function(f){return f(i)})},cs={state:{configurable:!0}};Ne.prototype.install=function(t,i){t.provide(i||Nf,this),t.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:!1;n&&Uf(t,this)};cs.state.get=function(){return this._state.data};cs.state.set=function(e){};Ne.prototype.commit=function(t,i,n){var o=this,s=dn(t,i,n),r=s.type,a=s.payload,l={type:r,payload:a},c=this._mutations[r];c&&(this._withCommit(function(){c.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(d){return d(l,o.state)}))};Ne.prototype.dispatch=function(t,i){var n=this,o=dn(t,i),s=o.type,r=o.payload,a={type:s,payload:r},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(a,n.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(d){return d(r)})):l[0](r);return new Promise(function(d,f){c.then(function(h){try{n._actionSubscribers.filter(function(_){return _.after}).forEach(function(_){return _.after(a,n.state)})}catch{}d(h)},function(h){try{n._actionSubscribers.filter(function(_){return _.error}).forEach(function(_){return _.error(a,n.state,h)})}catch{}f(h)})})}};Ne.prototype.subscribe=function(t,i){return xa(t,this._subscribers,i)};Ne.prototype.subscribeAction=function(t,i){var n=typeof t=="function"?{before:t}:t;return xa(n,this._actionSubscribers,i)};Ne.prototype.watch=function(t,i,n){var o=this;return hi(function(){return t(o.state,o.getters)},i,Object.assign({},n))};Ne.prototype.replaceState=function(t){var i=this;this._withCommit(function(){i._state.data=t})};Ne.prototype.registerModule=function(t,i,n){n===void 0&&(n={}),typeof t=="string"&&(t=[t]),this._modules.register(t,i),Rn(this,this.state,t,this._modules.get(t),n.preserveState),as(this,this.state)};Ne.prototype.unregisterModule=function(t){var i=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=ls(i.state,t.slice(0,-1));delete n[t[t.length-1]]}),Pa(this)};Ne.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Ne.prototype.hotUpdate=function(t){this._modules.update(t),Pa(this,!0)};Ne.prototype._withCommit=function(t){var i=this._committing;this._committing=!0,t(),this._committing=i};Object.defineProperties(Ne.prototype,cs);var ds=us(function(e,t){var i={};return fs(t).forEach(function(n){var o=n.key,s=n.val;i[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.commit;if(e){var d=hs(this.$store,"mapMutations",e);if(!d)return;c=d.context.commit}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),i}),oe=us(function(e,t){var i={};return fs(t).forEach(function(n){var o=n.key,s=n.val;s=e+s,i[o]=function(){if(!(e&&!hs(this.$store,"mapGetters",e)))return this.$store.getters[s]},i[o].vuex=!0}),i}),ki=us(function(e,t){var i={};return fs(t).forEach(function(n){var o=n.key,s=n.val;i[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.dispatch;if(e){var d=hs(this.$store,"mapActions",e);if(!d)return;c=d.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),i});function fs(e){return Yf(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function Yf(e){return Array.isArray(e)||Da(e)}function us(e){return function(t,i){return typeof t!="string"?(i=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,i)}}function hs(e,t,i){var n=e._modulesNamespaceMap[i];return n}const Qf={name:"DetailModalHeader",components:{Button:ot,PlatformIcon:Se},props:{title:{type:String,default:""},leftActionText:{type:String,default:""}},emits:["close-detail"],computed:{...oe(["getVeevaMessage"]),leftActionDisplayText(){return this.leftActionText||this.getVeevaMessage("CLOSE")},platform(){return"salesforce"}}},Xf={class:"detail-header"},Zf={class:"detail-title"},Jf=["title"];function eu(e,t,i,n,o,s){const r=M("Button"),a=M("PlatformIcon");return g(),A("div",Xf,[s.platform==="ipad"?(g(),R(r,{key:0,id:"ios-detail-header-close",label:s.leftActionDisplayText,onClick:t[0]||(t[0]=l=>e.$emit("close-detail"))},null,8,["label"])):b("",!0),u("div",Zf,[u("span",{id:"detail-title-text",class:"two-line",title:i.title},w(i.title),9,Jf),s.platform==="vault"?(g(),R(a,{key:0,id:"vault-detail-header-close","file-name":"close-x","is-platform-specific":!0,onClick:t[1]||(t[1]=l=>e.$emit("close-detail"))})):b("",!0)])])}const Ga=z(Qf,[["render",eu],["__scopeId","data-v-44571736"]]),tu={name:"Checkbox",props:{modelValue:{type:Boolean,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"]},iu={class:"checkbox-container"},nu=["id","checked","disabled"],ou=["for"],su={class:"checkbox-label-text two-line"};function ru(e,t,i,n,o,s){return g(),A("div",iu,[u("input",{id:`checkbox-${e.$.uid}`,checked:i.modelValue,disabled:i.disabled,type:"checkbox",onInput:t[0]||(t[0]=r=>e.$emit("update:modelValue",r.target.checked))},null,40,nu),u("label",{class:"checkbox-label",for:`checkbox-${e.$.uid}`},[u("span",{class:W(["checkbox-check",{"checkbox-container-right-margin":i.label.length>0}])},null,2),u("span",su,w(i.label),1)],8,ou)])}const Oi=z(tu,[["render",ru],["__scopeId","data-v-4bec82d6"]]),au=""+new URL("../icons/slds_spinner_brand.gif",import.meta.url).href,lu={name:"AccountInfo",components:{Checkbox:Oi},props:{account:{type:Object,default:()=>{}},canDisplayRelatedFields:{type:Boolean,default:!0},isLoadingRelatedObjects:{type:Boolean,default:!1},canToggleVisibility:{type:Boolean,default:!0},canLaunchAccountDetail:{type:Boolean,default:!1},canLaunchAccountTimeline:{type:Boolean,default:!1},canCreateAffiliation:{type:Boolean,default:!1},canAddToTerritory:{type:Boolean,default:!1},canLaunchAffiliationView:{type:Boolean,default:!1}},emits:["toggle-accounts","add-affiliation","launch-affiliation-view","add-to-territory","redirect"],computed:{...oe(["getVeevaMessage","getPersonAccountDisplayFields","getBusinessAccountDisplayFields","getFieldLabel","getFieldMetadata","getPicklistValueTranslation"]),toggleVisibilityMessage(){return this.account.isVisible&&!this.account.isCollapsed?this.getVeevaMessage("HIDE_ACCOUNT"):this.getVeevaMessage("SHOW_ACCOUNT")},getAccountDisplayFields(){return this.account.recordType.IsPersonType?this.getPersonAccountDisplayFields:this.getBusinessAccountDisplayFields},getFieldsToDisplayWithData(){const e=[];for(let t of this.getAccountDisplayFields){const[i,n]=t.split("."),o=this.getFieldMetadata(i,n),s=this.getFieldToDisplay(i,n,o);this.canDisplayField(s)&&(s.loading||(s.value=this.getFieldTypeOverrideOrDisplay(i,n,s.displayValue,s.value)),e.push(s))}return e}},methods:{getFieldToDisplay(e,t,i){const n={objectApiName:e,fieldApiName:t,dataType:i.dataType};if(e==="Account"){const o=this.account.fields[t];n.displayValue=o==null?void 0:o.displayValue,n.value=o==null?void 0:o.value}else if(this.canDisplayRelatedFields){if(this.isLoadingRelatedObjects)n.loading=!0;else if(this.account.relatedObjectFields){const o=this.account.relatedObjectFields[e][t];n.displayValue=o==null?void 0:o.displayValue,n.value=o==null?void 0:o.value}}return n},canDisplayField(e){return e.objectApiName==="Account"&&e.value!==""&&e.value!==null&&e.value!==void 0?!0:!!(this.canDisplayRelatedFields&&(e.loading||e.value!==""&&e.value!=null&&e.value!==void 0))},getFieldTypeOverrideOrDisplay(e,t,i,n){switch(this.getFieldMetadata(e,t).dataType.toLowerCase()){case"picklist":return this.getPicklistValueTranslation(e,t,n);case"multipicklist":return n.split(";").map(s=>this.getPicklistValueTranslation(e,t,s)).join(", ")}return i??n},launchAccountDetail(){const e=this.account.Id.split("-")[0];this.$emit("redirect",{type:"detail",location:e})},launchAccountTimeline(){const e=this.account.Id.split("-")[0];this.$emit("redirect",{type:"timeline",location:e})}}},cu={id:"account-info-rows"},du={class:"account-info-row"},fu={class:"account-info-row-label"},uu={class:"account-info-row-value"},hu={key:0,class:"account-info-row"},gu={class:"account-info-row-label"},pu={class:"account-info-row-value"},mu={class:"account-info-row-label"},_u={class:"account-info-row-value"},Au={key:0,class:"column-spinner",src:au},yu=["onClick"],vu={key:1,class:"account-info-row"},bu={key:2,class:"account-info-row"},wu={key:3,class:"account-info-row"},Iu={key:4,class:"account-info-row"},Tu={key:5,class:"account-info-row"},Cu={key:6,class:"account-info-row"};function Su(e,t,i,n,o,s){const r=M("Checkbox");return g(),A("div",cu,[u("div",du,[u("span",fu,w(e.getVeevaMessage("RECORD_TYPE_LABEL")),1),u("span",uu,w(i.account.recordType.Name),1)]),i.account.territories.length>0?(g(),A("div",hu,[u("span",gu,w(e.getVeevaMessage("TERRITORIES_FILTER")),1),u("span",pu,w(i.account.territories.join(", ")),1)])):b("",!0),(g(!0),A(B,null,xe(s.getFieldsToDisplayWithData,a=>(g(),A("div",{key:a,class:"account-info-row"},[u("span",mu,w(e.getFieldLabel(a.objectApiName,a.fieldApiName)),1),u("span",_u,[a.loading?(g(),A("img",Au)):(g(),A(B,{key:1},[a.dataType.toLowerCase()==="url"?(g(),A("a",{key:0,class:"redirect-link",onClick:ke(l=>e.$emit("redirect",{type:"external",location:a.value}),["stop"])},w(a.value),9,yu)):a.dataType.toLowerCase()==="boolean"?(g(),R(r,{key:1,"model-value":a.value,disabled:!0},null,8,["model-value"])):(g(),A(B,{key:2},[Si(w(a.value),1)],64))],64))])]))),128)),i.canToggleVisibility?(g(),A("div",vu,[u("span",{class:"account-info-row-label clickable-action-text",onClick:t[0]||(t[0]=ke(a=>e.$emit("toggle-accounts",i.account.UniqueId),["stop"]))},w(s.toggleVisibilityMessage),1)])):b("",!0),i.canLaunchAccountDetail?(g(),A("div",bu,[u("span",{class:"account-info-row-label clickable-action-text",onClick:t[1]||(t[1]=ke((...a)=>s.launchAccountDetail&&s.launchAccountDetail(...a),["stop"]))},w(e.getVeevaMessage("NAVIGATE_TO_ACCOUNT")),1)])):b("",!0),i.canLaunchAccountTimeline?(g(),A("div",wu,[u("span",{class:"account-info-row-label clickable-action-text",onClick:t[2]||(t[2]=ke((...a)=>s.launchAccountTimeline&&s.launchAccountTimeline(...a),["stop"]))},w(e.getVeevaMessage("NAVIGATE_TO_TIMELINE")),1)])):b("",!0),i.canCreateAffiliation?(g(),A("div",Iu,[u("span",{class:"account-info-row-label clickable-action-text",onClick:t[3]||(t[3]=ke(a=>e.$emit("add-affiliation",i.account.UniqueId),["stop"]))},w(e.getVeevaMessage("ADD_AFFILIATION")),1)])):b("",!0),i.canLaunchAffiliationView?(g(),A("div",Tu,[u("span",{class:"account-info-row-label clickable-action-text",onClick:t[4]||(t[4]=ke(a=>e.$emit("launch-affiliation-view",i.account.Id),["stop"]))},w(e.getVeevaMessage("VIEW_ALL_AFFILIATIONS")),1)])):b("",!0),i.canAddToTerritory?(g(),A("div",Cu,[u("span",{class:"account-info-row-label clickable-action-text",onClick:t[5]||(t[5]=ke(a=>e.$emit("add-to-territory",i.account.UniqueId),["stop"]))},w(e.getVeevaMessage("GAS_ADD_TO_TERRITORY")),1)])):b("",!0)])}const gs=z(lu,[["render",Su],["__scopeId","data-v-6ebd8b9b"]]),Nt={INITIAL:"initial",UP:"up",DOWN:"down"},bi={ADD:"add",SEARCH:"search"},Fe={SECONDARY:"secondary",TERTIARY:"tertiary"},Mu={name:"AccountTile",components:{PlatformIcon:Se,AccountInfo:gs},props:{account:{type:Object,default:()=>{}},readOnly:{type:Boolean,default:!1},showInfo:{type:Boolean,default:!1},useHierarchySpecificInformation:{type:Boolean,default:!0}},emits:["toggle-accounts","ping-account","redirect","load-related-objects","toggle-show-info"],data(){return{isLoadingRelatedObjectInfo:!1}},computed:{...oe(["getVeevaMessage","hasAccessToAffiliations","getAccountIdentifierValue"]),accountTileCSS(){return{"not-visible":this.useHierarchySpecificInformation&&(!this.account.isVisible||this.account.isCollapsed)}},shouldGrayAffiliations(){return this.account.numberAffiliations===0},shouldGrayChildren(){return this.childCount===0},affCount(){return this.account.numberAffiliations>999?"999+":this.account.numberAffiliations},childCount(){const e=this.account.Children.length||this.account.ChildrenIds.length;return e>999?"999+":e},showAccountIdentifierContainer(){return this.secondaryAccountIdentifier||this.tertiaryAccountIdentifier},secondaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.SECONDARY,this.account)},tertiaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.TERTIARY,this.account)}},watch:{account(e){e.shouldTriggerRelatedObjectLoad||(this.isLoadingRelatedObjectInfo=!1)},showInfo(e){e&&this.account.shouldTriggerRelatedObjectLoad&&(this.$emit("load-related-objects",{accountId:this.account.Id,isPersonType:this.account.recordType.IsPersonType}),this.isLoadingRelatedObjectInfo=!0)}},methods:{accountTileClick(){this.readOnly||this.$emit("toggle-show-info",this.account.UniqueId)}}},ku=["src"],Ou={class:"account-info-container"},Eu={class:"account-name-text"},Fu={key:0,class:"account-identifier-container"},Nu={class:"account-identifier-text one-line"},Ru={class:"account-identifier-text one-line"},Vu={key:1,class:"account-child-aff-count-container"},Lu={key:0,class:"account-aff-count-container"},Du={class:"account-child-count-container"},xu={key:0,class:"target-account-button-container"},Pu={class:"target-text"},$u={key:1,class:"account-tile-show-info-padding"};function Hu(e,t,i,n,o,s){const r=M("PlatformIcon"),a=M("AccountInfo");return g(),A("div",{id:"account-tile-and-rows-container",onClick:t[3]||(t[3]=(...l)=>s.accountTileClick&&s.accountTileClick(...l))},[u("div",{class:W(["account-tile-container",s.accountTileCSS])},[u("img",{src:i.account.recordTypeResourceUrl,class:"account-icon"},null,8,ku),u("div",Ou,[u("span",Eu,w(i.account.fields.Formatted_Name_vod__c.value),1),s.showAccountIdentifierContainer?(g(),A("div",Fu,[u("span",Nu,w(s.secondaryAccountIdentifier),1),u("span",Ru,w(s.tertiaryAccountIdentifier),1)])):b("",!0),i.useHierarchySpecificInformation?(g(),A("div",Vu,[e.hasAccessToAffiliations?(g(),A("div",Lu,[I(r,{"file-name":"affiliation-arrow",variant:s.shouldGrayAffiliations?"gray":"black",class:"count-icon"},null,8,["variant"]),u("span",{class:W(["count-text",{"text-grayed":s.shouldGrayAffiliations}])},w(s.affCount),3)])):b("",!0),u("div",Du,[I(r,{"file-name":"child-count",variant:s.shouldGrayChildren?"gray":"blue",class:"count-icon"},null,8,["variant"]),u("span",{class:W(["count-text",{"text-grayed":s.shouldGrayChildren}])},w(s.childCount),3)])])):b("",!0)]),i.readOnly?b("",!0):(g(),A("div",xu,[u("div",{class:"target-account-button",onClick:t[0]||(t[0]=ke(l=>e.$emit("ping-account",i.account.UniqueId),["stop"]))},[I(r,{class:"target-icon","file-name":"target","is-platform-specific":!0}),u("span",Pu,w(e.getVeevaMessage("VIEW")),1)])]))],2),i.showInfo?(g(),R(a,{key:0,account:i.account,"is-loading-related-objects":o.isLoadingRelatedObjectInfo,onToggleAccounts:t[1]||(t[1]=l=>e.$emit("toggle-accounts",l)),onRedirect:t[2]||(t[2]=l=>e.$emit("redirect",l))},null,8,["account","is-loading-related-objects"])):b("",!0),i.showInfo?(g(),A("div",$u)):b("",!0)])}const ps=z(Mu,[["render",Hu],["__scopeId","data-v-503fefea"]]),Bu=["Influence_vod__c","Relationship_Strength_vod__c","Role_vod__c","Therapeutic_Area_vod__c"],Uu={name:"AffiliationInfo",props:{aff:{type:Object,default:()=>{}},canEditAffiliation:{type:Boolean,required:!0},canDeleteAffiliation:{type:Boolean,required:!0},canToggleVisibility:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},includeToAndFromAccount:{type:Boolean,default:!0}},emits:["toggle-accounts","edit-affiliation","delete-affiliation-request"],computed:{...oe(["getVeevaMessage","getFieldMetadata","getFieldLabel","getPicklistValueTranslation","getZvodAffiliationFields"]),toggleVisibilityMessage(){return this.isVisible?this.getVeevaMessage("HIDE_ACCOUNT"):this.getVeevaMessage("SHOW_ACCOUNT")},getFieldsToDisplayWithData(){const e=[...this.includeToAndFromAccount?["From_Account_vod__c","To_Account_vod__c"]:[],...Bu,...this.getZvodAffiliationFields,"Comments_vod__c"],t=[];for(let i of e){const n=this.getFieldTypeOverrideOrDisplay(i);n&&t.push({label:this.getFieldLabel("Affiliation_vod__c",i),value:n})}return t}},methods:{getFieldTypeOverrideOrDisplay(e){const t=this.getFieldMetadata("Affiliation_vod__c",e);if(!t)return;switch(e){case"To_Account_vod__c":return this.aff.ToAcct.fields.Formatted_Name_vod__c.value;case"From_Account_vod__c":return this.aff.FromAcct.fields.Formatted_Name_vod__c.value}let i=this.aff[e];switch(t.dataType.toLowerCase()){case"picklist":i=this.getPicklistValueTranslation("Affiliation_vod__c",e,i);break;case"multipicklist":if(!i)return null;i=i.map(n=>this.getPicklistValueTranslation("Affiliation_vod__c",e,n)).join(", ");break}return i},deleteAffiliationRequest(){const e=this.getVeevaMessage("DELETE_AFFILIATION_MESSAGE").replace("{0}",this.aff.FromAcct.fields.Formatted_Name_vod__c.value).replace("{1}",this.aff.ToAcct.fields.Formatted_Name_vod__c.value);this.$emit("delete-affiliation-request",{affiliationIdToDelete:this.aff.Id,deleteRequestMessage:e})}}},ju={id:"affiliation-info-rows"},zu={class:"affiliation-info-row-label"},qu={class:"affiliation-info-row-value"},Gu={key:0,class:"affiliation-info-row"},Wu={key:1,class:"affiliation-info-row"},Ku={key:2,class:"affiliation-info-row"};function Yu(e,t,i,n,o,s){return g(),A("div",ju,[(g(!0),A(B,null,xe(s.getFieldsToDisplayWithData,r=>(g(),A("div",{key:r.label,class:"affiliation-info-row"},[u("span",zu,w(r.label),1),u("span",qu,w(r.value),1)]))),128)),i.canToggleVisibility?(g(),A("div",Gu,[u("span",{class:"affiliation-info-row-label clickable-action-text clickable-action-positive",onClick:t[0]||(t[0]=ke(r=>e.$emit("toggle-accounts"),["stop"]))},w(s.toggleVisibilityMessage),1)])):b("",!0),i.canEditAffiliation?(g(),A("div",Wu,[u("span",{class:"affiliation-info-row-label clickable-action-text clickable-action-positive",onClick:t[1]||(t[1]=ke(r=>e.$emit("edit-affiliation",i.aff),["stop"]))},w(e.getVeevaMessage("EDIT_AFFILIATION")),1)])):b("",!0),i.canDeleteAffiliation?(g(),A("div",Ku,[u("span",{class:"affiliation-info-row-label clickable-action-text clickable-action-negative",onClick:t[2]||(t[2]=ke(r=>s.deleteAffiliationRequest(),["stop"]))},w(e.getVeevaMessage("DELETE_AFFILIATION_BUTTON")),1)])):b("",!0)])}const Wa=z(Uu,[["render",Yu],["__scopeId","data-v-a334bc02"]]),Qu={name:"AffiliationTile",components:{AffiliationInfo:Wa,PlatformIcon:Se},props:{aff:{type:Object,default:()=>{}},parentId:{type:String,default:""},showInfo:{type:Boolean,default:!1},canViewNode:{type:Boolean,default:!1}},emits:["toggle-accounts","ping-account","delete-affiliation-request","edit-affiliation","toggle-show-info"],computed:{...oe(["getVeevaMessage","getPicklistValueTranslation","canEditAffiliation","canDeleteAffiliation"]),affiliationTileCSS(){return{"not-visible":this.aff.isInHierarchy&&!this.relatedAcct.isVisible||this.relatedAcct.isCollapsed}},affiliationIconColor(){switch(this.aff.Relationship_Strength_vod__c){case"0":return"weak";case"1":return"medium";case"2":return"strong"}return"none"},relatedAcct:function(){return this.parentId===this.aff.To_Account_vod__c?this.aff.FromAcct:this.aff.ToAcct},isVisible:function(){return!this.aff.isInHierarchy||this.relatedAcct.isVisible&&!this.relatedAcct.isCollapsed}},methods:{toggleAffiliationInfo(){this.$emit("toggle-show-info",this.aff.UniqueId)}}},Xu=["src"],Zu={class:"account-info-container"},Ju={class:"account-name-text"},eh={class:"account-child-aff-count-container"},th={class:"account-aff-count-container"},ih={class:"influence-text"},nh={key:0,class:"target-account-button-container"},oh={class:"target-text"},sh={key:1,class:"affiliation-tile-show-info-padding"};function rh(e,t,i,n,o,s){const r=M("PlatformIcon"),a=M("AffiliationInfo");return g(),A("div",{class:"affiliation-tile-and-rows-container",onClick:t[4]||(t[4]=(...l)=>s.toggleAffiliationInfo&&s.toggleAffiliationInfo(...l))},[u("div",{class:W(["affiliation-tile-container",s.affiliationTileCSS])},[u("img",{src:s.relatedAcct.recordTypeResourceUrl,class:"account-icon"},null,8,Xu),u("div",Zu,[u("span",Ju,w(s.relatedAcct.fields.Formatted_Name_vod__c.value),1),u("div",eh,[u("div",th,[I(r,{"file-name":"affiliation-arrow",variant:s.affiliationIconColor,class:"influence-icon"},null,8,["variant"]),u("span",ih,w(e.getPicklistValueTranslation("Affiliation_vod__c","Influence_vod__c",i.aff.Influence_vod__c)),1)])])]),i.canViewNode?(g(),A("div",nh,[u("div",{class:"target-account-button",onClick:t[0]||(t[0]=ke(l=>e.$emit("ping-account",s.relatedAcct.UniqueId),["stop"]))},[I(r,{class:"target-icon","file-name":"target","is-platform-specific":!0}),u("span",oh,w(e.getVeevaMessage("VIEW")),1)])])):b("",!0)],2),i.showInfo?(g(),R(a,{key:0,aff:i.aff,"can-edit-affiliation":e.canEditAffiliation(i.aff.FromAcct.isInTerritory,i.aff.ToAcct.isInTerritory),"can-delete-affiliation":e.canDeleteAffiliation(i.aff.FromAcct.isInTerritory,i.aff.ToAcct.isInTerritory),"can-toggle-visibility":i.aff.isInHierarchy,"is-visible":s.isVisible,onToggleAccounts:t[1]||(t[1]=l=>e.$emit("toggle-accounts",s.relatedAcct.UniqueId)),onDeleteAffiliationRequest:t[2]||(t[2]=l=>e.$emit("delete-affiliation-request",l)),onEditAffiliation:t[3]||(t[3]=l=>e.$emit("edit-affiliation",l))},null,8,["aff","can-edit-affiliation","can-delete-affiliation","can-toggle-visibility","is-visible"])):b("",!0),i.showInfo?(g(),A("div",sh)):b("",!0)])}const ah=z(Qu,[["render",rh],["__scopeId","data-v-6446d585"]]),lh={name:"Spinner",props:{size:{type:String,default:"medium"},color:{type:String,default:"blue"}},computed:{spinnerCSS(){const e=[];return e.push(`color-${this.color}`),e.push(`size-${this.size}`),e}}},Ka=e=>(Ht("data-v-47eac95e"),e=e(),Bt(),e),ch=Ka(()=>u("div",{class:"slds-spinner__dot-a"},null,-1)),dh=Ka(()=>u("div",{class:"slds-spinner__dot-b"},null,-1)),fh=[ch,dh];function uh(e,t,i,n,o,s){return g(),A("div",{class:W(["slds-spinner",s.spinnerCSS])},fh,2)}const Ya=z(lh,[["render",uh],["__scopeId","data-v-47eac95e"]]),hh={name:"AffiliationTileDivider",components:{Spinner:Ya},props:{isLoading:{type:Boolean,default:!1}},computed:{...oe(["getVeevaMessage"]),spinnerColor(){return this.platform==="vault"?"black":"gray"},platform(){return"salesforce"}}},gh=e=>(Ht("data-v-7685b97a"),e=e(),Bt(),e),ph=gh(()=>u("div",{class:"divider-top-padding"},null,-1)),mh={class:"divider-body"},_h={class:"divider-body-text"};function Ah(e,t,i,n,o,s){const r=M("Spinner");return g(),A("div",null,[ph,u("div",mh,[u("span",_h,w(e.getVeevaMessage("OUTSIDE_AFFILIATIONS")),1),i.isLoading?(g(),R(r,{key:0,color:s.spinnerColor,size:"small",class:"divider-spinner"},null,8,["color"])):b("",!0)])])}const yh=z(hh,[["render",Ah],["__scopeId","data-v-7685b97a"]]);function vh(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var i=e.indexOf("Trident/");if(i>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0?parseInt(e.substring(o+5,e.indexOf(".",o)),10):-1}let Zi;function vo(){vo.init||(vo.init=!0,Zi=vh()!==-1)}var Vn={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){vo(),Xo(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Zi&&this.$el.appendChild(e),e.data="about:blank",Zi||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Zi&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const bh=$c();Ht("data-v-b329ee4c");const wh={class:"resize-observer",tabindex:"-1"};Bt();const Ih=bh((e,t,i,n,o,s)=>(g(),R("div",wh)));Vn.render=Ih;Vn.__scopeId="data-v-b329ee4c";Vn.__file="src/components/ResizeObserver.vue";function Ji(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ji=function(t){return typeof t}:Ji=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function Th(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ch(e,t,i){return t&&hr(e.prototype,t),i&&hr(e,i),e}function gr(e){return Sh(e)||Mh(e)||kh(e)||Oh()}function Sh(e){if(Array.isArray(e))return bo(e)}function Mh(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kh(e,t){if(e){if(typeof e=="string")return bo(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bo(e,t)}}function bo(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Oh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eh(e){var t;return typeof e=="function"?t={callback:e}:t=e,t}function Fh(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,o,s,r=function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];if(s=d,!(n&&l===o)){var h=i.leading;typeof h=="function"&&(h=h(l,o)),(!n||l!==o)&&h&&e.apply(void 0,[l].concat(gr(s))),o=l,clearTimeout(n),n=setTimeout(function(){e.apply(void 0,[l].concat(gr(s))),n=0},t)}};return r._clear=function(){clearTimeout(n),n=null},r}function Qa(e,t){if(e===t)return!0;if(Ji(e)==="object"){for(var i in e)if(!Qa(e[i],t[i]))return!1;return!0}return!1}var Nh=function(){function e(t,i,n){Th(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(i,n)}return Ch(e,[{key:"createObserver",value:function(i,n){var o=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=Eh(i),this.callback=function(a,l){o.options.callback(a,l),a&&o.options.once&&(o.frozen=!0,o.destroyObserver())},this.callback&&this.options.throttle){var s=this.options.throttleOptions||{},r=s.leading;this.callback=Fh(this.callback,this.options.throttle,{leading:function(l){return r==="both"||r==="visible"&&l||r==="hidden"&&!l}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(a){var l=a[0];if(a.length>1){var c=a.find(function(f){return f.isIntersecting});c&&(l=c)}if(o.callback){var d=l.isIntersecting&&l.intersectionRatio>=o.threshold;if(d===o.oldResult)return;o.oldResult=d,o.callback(d,l)}},this.options.intersection),Xo(function(){o.observer&&o.observer.observe(o.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e}();function Xa(e,t,i){var n=t.value;if(n)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var o=new Nh(e,n,i);e._vue_visibilityState=o}}function Rh(e,t,i){var n=t.value,o=t.oldValue;if(!Qa(n,o)){var s=e._vue_visibilityState;if(!n){Za(e);return}s?s.createObserver(n,i):Xa(e,{value:n},i)}}function Za(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var Vh={beforeMount:Xa,updated:Rh,unmounted:Za};function Lh(e){return{all:e=e||new Map,on:function(t,i){var n=e.get(t);n&&n.push(i)||e.set(t,[i])},off:function(t,i){var n=e.get(t);n&&n.splice(n.indexOf(i)>>>0,1)},emit:function(t,i){(e.get(t)||[]).slice().map(function(n){n(i)}),(e.get("*")||[]).slice().map(function(n){n(t,i)})}}}var Dh={itemsLimit:1e3},xh=/(auto|scroll)/;function Ja(e,t){return e.parentNode===null?t:Ja(e.parentNode,t.concat([e]))}var Jn=function(t,i){return getComputedStyle(t,null).getPropertyValue(i)},Ph=function(t){return Jn(t,"overflow")+Jn(t,"overflow-y")+Jn(t,"overflow-x")},$h=function(t){return xh.test(Ph(t))};function pr(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=Ja(e.parentNode,[]),i=0;i<t.length;i+=1)if($h(t[i]))return t[i];return document.scrollingElement||document.documentElement}}function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}var el={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function tl(){return this.items.length&&wo(this.items[0])!=="object"}var Io=!1;if(typeof window<"u"){Io=!1;try{var Hh=Object.defineProperty({},"passive",{get:function(){Io=!0}});window.addEventListener("test",null,Hh)}catch{}}let Bh=0;var ms={name:"RecycleScroller",components:{ResizeObserver:Vn},directives:{ObserveVisibility:Vh},props:{...el,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},t=this.items,i=this.sizeField,n=this.minItemSize;let o=1e4,s=0,r;for(let a=0,l=t.length;a<l;a++)r=t[a][i]||n,r<o&&(o=r),s+=r,e[a]={accumulator:s,size:r};return this.$_computedMinItemSize=o,e}return[]},simpleArray:tl,itemIndexByKey(){const{keyField:e,items:t}=this,i={};for(let n=0,o=t.length;n<o;n++)i[t[n][e]]=n;return i}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,i,n,o){const s=Wo({id:Bh++,index:t,used:!0,key:n,type:o}),r=na({item:i,position:0,nr:s});return e.push(r),r},unuseView(e,t=!1){const i=this.$_unusedViews,n=e.nr.type;let o=i.get(n);o||(o=[],i.set(n,o)),o.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:i}=this.updateVisibleItems(!1,!0);i||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const i=this.itemSize,n=this.gridItems||1,o=this.itemSecondarySize||i,s=this.$_computedMinItemSize,r=this.typeField,a=this.simpleArray?null:this.keyField,l=this.items,c=l.length,d=this.sizes,f=this.$_views,h=this.$_unusedViews,_=this.pool,T=this.itemIndexByKey;let y,V,L,Y,x;if(!c)y=V=Y=x=L=0;else if(this.$_prerender)y=Y=0,V=x=Math.min(this.prerender,l.length),L=null;else{const G=this.getScroll();if(t){let ge=G.start-this.$_lastUpdateScrollPosition;if(ge<0&&(ge=-ge),i===null&&ge<s||ge<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=G.start;const he=this.buffer;G.start-=he,G.end+=he;let ie=0;if(this.$refs.before&&(ie=this.$refs.before.scrollHeight,G.start-=ie),this.$refs.after){const ge=this.$refs.after.scrollHeight;G.end+=ge}if(i===null){let ge,me=0,Ke=c-1,ee=~~(c/2),ae;do ae=ee,ge=d[ee].accumulator,ge<G.start?me=ee:ee<c-1&&d[ee+1].accumulator>G.start&&(Ke=ee),ee=~~((me+Ke)/2);while(ee!==ae);for(ee<0&&(ee=0),y=ee,L=d[c-1].accumulator,V=ee;V<c&&d[V].accumulator<G.end;V++);for(V===-1?V=l.length-1:(V++,V>c&&(V=c)),Y=y;Y<c&&ie+d[Y].accumulator<G.start;Y++);for(x=Y;x<c&&ie+d[x].accumulator<G.end;x++);}else{y=~~(G.start/i*n);const ge=y%n;y-=ge,V=Math.ceil(G.end/i*n),Y=Math.max(0,Math.floor((G.start-ie)/i*n)),x=Math.floor((G.end-ie)/i*n),y<0&&(y=0),V>c&&(V=c),Y<0&&(Y=0),x>c&&(x=c),L=Math.ceil(c/n)*i}}V-y>Dh.itemsLimit&&this.itemsLimitError(),this.totalSize=L;let P;const de=y<=this.$_endIndex&&V>=this.$_startIndex;if(de)for(let G=0,he=_.length;G<he;G++)P=_[G],P.nr.used&&(e&&(P.nr.index=T[P.item[a]]),(P.nr.index==null||P.nr.index<y||P.nr.index>=V)&&this.unuseView(P));const Q=de?null:new Map;let te,se,be;for(let G=y;G<V;G++){te=l[G];const he=a?te[a]:te;if(he==null)throw new Error(`Key is ${he} on item (keyField is '${a}')`);if(P=f.get(he),!i&&!d[G].size){P&&this.unuseView(P);continue}se=te[r];let ie=h.get(se),ge=!1;if(!P)de?ie&&ie.length?P=ie.pop():P=this.addView(_,G,te,he,se):(be=Q.get(se)||0,(!ie||be>=ie.length)&&(P=this.addView(_,G,te,he,se),this.unuseView(P,!0),ie=h.get(se)),P=ie[be],Q.set(se,be+1)),f.delete(P.nr.key),P.nr.used=!0,P.nr.index=G,P.nr.key=he,P.nr.type=se,f.set(he,P),ge=!0;else if(!P.nr.used&&(P.nr.used=!0,ge=!0,ie)){const me=ie.indexOf(P);me!==-1&&ie.splice(me,1)}P.item=te,ge&&(G===l.length-1&&this.$emit("scroll-end"),G===0&&this.$emit("scroll-start")),i===null?(P.position=d[G-1].accumulator,P.offset=0):(P.position=Math.floor(G/n)*i,P.offset=G%n*o)}return this.$_startIndex=y,this.$_endIndex=V,this.emitUpdate&&this.$emit("update",y,V,Y,x),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:de}},getListenerTarget(){let e=pr(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:t}=this,i=t==="vertical";let n;if(this.pageMode){const o=e.getBoundingClientRect(),s=i?o.height:o.width;let r=-(i?o.top:o.left),a=i?window.innerHeight:window.innerWidth;r<0&&(a+=r,r=0),r+a>s&&(a=s-r),n={start:r,end:r+a}}else i?n={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:n={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return n},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,Io?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const i=this.gridItems||1;this.itemSize===null?t=e>0?this.sizes[e-1].accumulator:0:t=Math.floor(e/i)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let i,n,o;if(this.pageMode){const s=pr(this.$el),r=s.tagName==="HTML"?0:s[t.scroll],a=s.getBoundingClientRect(),c=this.$el.getBoundingClientRect()[t.start]-a[t.start];i=s,n=t.scroll,o=e+r+c}else i=this.$el,n=t.scroll,o=e;i[n]=o},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}};const Uh={key:0,ref:"before",class:"vue-recycle-scroller__slot"},jh={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function zh(e,t,i,n,o,s){const r=M("ResizeObserver"),a=qc("observe-visibility");return yt((g(),A("div",{class:W(["vue-recycle-scroller",{ready:o.ready,"page-mode":i.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...l)=>s.handleScroll&&s.handleScroll(...l))},[e.$slots.before?(g(),A("div",Uh,[et(e.$slots,"before")],512)):b("v-if",!0),(g(),R(Bs(i.listTag),{ref:"wrapper",style:xt({[e.direction==="vertical"?"minHeight":"minWidth"]:o.totalSize+"px"}),class:W(["vue-recycle-scroller__item-wrapper",i.listClass])},{default:pe(()=>[(g(!0),A(B,null,xe(o.pool,l=>(g(),R(Bs(i.itemTag),os({key:l.nr.id,style:o.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${l.position}px) translate${e.direction==="vertical"?"X":"Y"}(${l.offset}px)`,width:i.gridItems?`${e.direction==="vertical"&&i.itemSecondarySize||i.itemSize}px`:void 0,height:i.gridItems?`${e.direction==="horizontal"&&i.itemSecondarySize||i.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[i.itemClass,{hover:!i.skipHover&&o.hoverKey===l.nr.key}]]},cd(i.skipHover?{}:{mouseenter:()=>{o.hoverKey=l.nr.key},mouseleave:()=>{o.hoverKey=null}})),{default:pe(()=>[et(e.$slots,"default",{item:l.item,index:l.nr.index,active:l.nr.used})]),_:2},1040,["style","class"]))),128)),et(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(g(),A("div",jh,[et(e.$slots,"after")],512)):b("v-if",!0),I(r,{onNotify:s.handleResize},null,8,["onNotify"])],34)),[[a,s.handleVisibilityChange]])}ms.render=zh;ms.__file="src/components/RecycleScroller.vue";var Ei={name:"DynamicScroller",components:{RecycleScroller:ms},provide(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e)){for(const t of e)if(t.target&&t.target.$_vs_onResize){let i,n;if(t.borderBoxSize){const o=t.borderBoxSize[0];i=o.inlineSize,n=o.blockSize}else i=t.contentRect.width,n=t.contentRect.height;t.target.$_vs_onResize(t.target.$_vs_id,i,n)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...el,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:tl,itemsWithSize(){const e=[],{items:t,keyField:i,simpleArray:n}=this,o=this.vscrollData.sizes,s=t.length;for(let r=0;r<s;r++){const a=t[r],l=n?r:a[i];let c=o[l];typeof c>"u"&&!this.$_undefinedMap[l]&&(c=0),e.push({item:a,id:l,size:c})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,t){const i=this.$el.scrollTop;let n=0,o=0;const s=Math.min(e.length,t.length);for(let a=0;a<s&&!(n>=i);a++)n+=t[a].size||this.minItemSize,o+=e[a].size||this.minItemSize;const r=o-n;r!==0&&(this.$el.scrollTop+=r)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=Lh()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t=void 0){const i=this.simpleArray?t??this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(t)})};requestAnimationFrame(t)})}}};function qh(e,t,i,n,o,s){const r=M("RecycleScroller");return g(),R(r,os({ref:"scroller",items:s.itemsWithSize,"min-item-size":i.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:s.onScrollerResize,onVisible:s.onScrollerVisible}),{default:pe(({item:a,index:l,active:c})=>[et(e.$slots,"default",oc(Fa({item:a.item,index:l,active:c,itemWithSize:a})))]),before:pe(()=>[et(e.$slots,"before")]),after:pe(()=>[et(e.$slots,"after")]),empty:pe(()=>[et(e.$slots,"empty")]),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])}Ei.render=qh;Ei.__file="src/components/DynamicScroller.vue";var Ln={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(e,t){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const i=this.vscrollData.sizes[t],n=this.vscrollData.sizes[e];i!=null&&i!==n&&this.applySize(i)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){const t=this.$el.offsetWidth,i=this.$el.offsetHeight;this.applyWidthHeight(t,i)}this.$_pendingSizeUpdate=null})},applyWidthHeight(e,t){const i=~~(this.vscrollParent.direction==="vertical"?t:e);i&&this.size!==i&&this.applySize(i)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(e,t,i){this.id===e&&this.applyWidthHeight(t,i)}},render(){return Bd(this.tag,this.$slots.default())}};Ln.__file="src/components/DynamicScrollerItem.vue";const Gh={name:"AccountDetail",components:{DetailModalHeader:Ga,Button:ot,AccountInfo:gs,AffiliationTile:ah,AffiliationTileDivider:yh,AccountTile:ps,DynamicScroller:Ei,DynamicScrollerItem:Ln},props:{account:{type:Object,default:()=>{}}},emits:["redirect","add-affiliation","add-to-territory","close-detail","toggle-accounts","ping-account","delete-affiliation-request","edit-affiliation","load-children","load-related-objects","load-ooh-accounts","launch-affiliation-view"],data(){return{selectedTab:"Info",isLoadingRelatedObjectInfo:!1,isLoadingOOHAffiliations:!1,toggledAccountInfo:null,toggledAffiliationInfo:null}},computed:{...oe(["getVeevaMessage","getObjectMetadata","getIsTimelineEnabled","getIsAddToTerritoryEnabled","hasAccessToAffiliations","hasAccessToOOHAffiliations","getIsAffiliationViewEnabled","canCreateAffiliations"]),affiliationTabLabel(){var e,t;return((t=(e=this.getObjectMetadata("Affiliation_vod__c"))==null?void 0:e.objectInfo)==null?void 0:t.labelPlural)??"Affiliations"},filteredAffiliations(){const e=this.account.Affiliations.filter(o=>!(this.account.UniqueId===o.To_Account_vod__c?o.FromAcct:o.ToAcct).isFiltered),t=[],i=[];e.forEach(o=>{o.isInHierarchy?t.push(o):i.push(o)}),t.sort((o,s)=>{const r=this.account.UniqueId===o.To_Account_vod__c?o.FromAcct:o.ToAcct,a=this.account.UniqueId===s.To_Account_vod__c?s.FromAcct:s.ToAcct;return r.fields.Formatted_Name_vod__c.value.localeCompare(a.fields.Formatted_Name_vod__c.value,void 0,{sensitivity:"base"})}),i.sort((o,s)=>o.ToAcct.fields.Formatted_Name_vod__c.value.localeCompare(s.ToAcct.fields.Formatted_Name_vod__c.value,void 0,{sensitivity:"base"}));const n=this.isLoadingOOHAffiliations||i.length>0?[{isDivider:!0,UniqueId:"divider"}]:[];return[...t,...n,...i]},filteredChildrenAccounts(){return this.account.Children.filter(e=>!e.isFiltered)},canLaunchAllAffiliationView(){return!(!this.getIsAffiliationViewEnabled||this.platform==="ipad"&&!this.account.isInTerritory)},platform(){return"salesforce"}},watch:{account:{immediate:!0,handler(e,t){e.shouldTriggerRelatedObjectLoad?(this.isLoadingRelatedObjectInfo=!0,this.$emit("load-related-objects",{accountId:this.account.Id,isPersonType:this.account.recordType.IsPersonType})):this.isLoadingRelatedObjectInfo=!1,e.shouldTriggerOOHAffiliationLoad&&this.hasAccessToOOHAffiliations?(this.isLoadingOOHAffiliations=!0,this.$emit("load-ooh-accounts",this.account.Id)):this.isLoadingOOHAffiliations=!1,(e==null?void 0:e.UniqueId)!==(t==null?void 0:t.UniqueId)&&(this.selectedTab="Info")}}},methods:{switchTab(e){this.toggledAccountInfo=null,this.toggledAffiliationInfo=null,e==="Children"&&this.account.Children.length===0&&this.account.ChildrenIds.length>0&&this.$emit("load-children",this.account.Id),this.selectedTab=e},changeToggledAccountInfo(e){this.toggledAccountInfo===e?this.toggledAccountInfo=null:this.toggledAccountInfo=e},changeToggledAffiliationInfo(e){this.toggledAffiliationInfo===e?this.toggledAffiliationInfo=null:this.toggledAffiliationInfo=e}}},Wh={class:"account-detail-modal modal-drop-shadow"},Kh={class:"account-detail-tab-grouping"},Yh={class:"account-detail-tab-title two-line"},Qh={class:"account-detail-tab-title two-line"},Xh={class:"account-detail-tab-title two-line"},Zh={class:"account-detail-body"},Jh={key:0,class:"empty-message"},eg={key:0,class:"empty-message"},tg={key:0,class:"account-detail-footer"};function ig(e,t,i,n,o,s){const r=M("DetailModalHeader"),a=M("AccountInfo"),l=M("AffiliationTileDivider"),c=M("AffiliationTile"),d=M("DynamicScrollerItem"),f=M("DynamicScroller"),h=M("AccountTile"),_=M("Button");return g(),A("div",Wh,[I(r,{title:i.account.fields.Formatted_Name_vod__c.value,onCloseDetail:t[0]||(t[0]=T=>e.$emit("close-detail"))},null,8,["title"]),u("div",{class:W(["account-detail-tabs-container",e.hasAccessToAffiliations?"account-detail-tab-third":"account-detail-tab-half"])},[u("div",Kh,[u("div",{class:W(["account-detail-tab",{"account-detail-tab-selected":o.selectedTab==="Info"}]),onClick:t[1]||(t[1]=T=>s.switchTab("Info"))},[u("span",Yh,w(e.getVeevaMessage("INFO")),1)],2),e.hasAccessToAffiliations?(g(),A("div",{key:0,class:W(["account-detail-tab",{"account-detail-tab-selected":o.selectedTab==="Affiliations"}]),onClick:t[2]||(t[2]=T=>s.switchTab("Affiliations"))},[u("span",Qh,w(s.affiliationTabLabel),1)],2)):b("",!0),u("div",{class:W(["account-detail-tab",{"account-detail-tab-selected":o.selectedTab==="Children"}]),onClick:t[3]||(t[3]=T=>s.switchTab("Children"))},[u("span",Xh,w(e.getVeevaMessage("CHILDREN")),1)],2)])],2),u("div",Zh,[o.selectedTab==="Info"?(g(),R(a,{key:0,account:i.account,"can-toggle-visibility":!1,"can-launch-account-detail":i.account.isInTerritory,"can-launch-account-timeline":i.account.isInTerritory&&e.getIsTimelineEnabled,"can-create-affiliation":i.account.isInTerritory&&e.canCreateAffiliations,"can-add-to-territory":!i.account.isInTerritory&&e.getIsAddToTerritoryEnabled,"is-loading-related-objects":o.isLoadingRelatedObjectInfo,"can-launch-affiliation-view":s.canLaunchAllAffiliationView,onAddAffiliation:t[4]||(t[4]=T=>e.$emit("add-affiliation",T)),onLaunchAffiliationView:t[5]||(t[5]=T=>e.$emit("launch-affiliation-view",T)),onAddToTerritory:t[6]||(t[6]=T=>e.$emit("add-to-territory",T)),onRedirect:t[7]||(t[7]=T=>e.$emit("redirect",T))},null,8,["account","can-launch-account-detail","can-launch-account-timeline","can-create-affiliation","can-add-to-territory","is-loading-related-objects","can-launch-affiliation-view"])):o.selectedTab==="Affiliations"?(g(),A(B,{key:1},[s.filteredAffiliations.length===0?(g(),A("div",Jh,w(e.getVeevaMessage("NO_AFFILIATIONS")),1)):(g(),R(f,{key:1,items:s.filteredAffiliations,"min-item-size":20,"key-field":"UniqueId",class:"affiliation-container"},{default:pe(({item:T,index:y,active:V})=>[I(d,{item:T,active:V,"data-index":y},{default:pe(()=>[T.isDivider?(g(),R(l,{key:0,"is-loading":o.isLoadingOOHAffiliations},null,8,["is-loading"])):(g(),R(c,{key:1,aff:T,"parent-id":i.account.UniqueId,"show-info":o.toggledAffiliationInfo===T.UniqueId,"can-view-node":T.isInHierarchy,onToggleAccounts:t[8]||(t[8]=L=>e.$emit("toggle-accounts",L)),onPingAccount:t[9]||(t[9]=L=>e.$emit("ping-account",L)),onDeleteAffiliationRequest:t[10]||(t[10]=L=>e.$emit("delete-affiliation-request",L)),onEditAffiliation:t[11]||(t[11]=L=>e.$emit("edit-affiliation",L)),onToggleShowInfo:s.changeToggledAffiliationInfo},null,8,["aff","parent-id","show-info","can-view-node","onToggleShowInfo"]))]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"]))],64)):o.selectedTab==="Children"?(g(),A(B,{key:2},[i.account.Children.length===0?(g(),A("div",eg,w(e.getVeevaMessage("NO_CHILD_ACCOUNTS")),1)):(g(),R(f,{key:1,items:s.filteredChildrenAccounts,"min-item-size":54,"key-field":"UniqueId",class:"account-children-container"},{default:pe(({item:T,index:y,active:V})=>[I(d,{item:T,active:V,"data-index":y},{default:pe(()=>[I(h,{account:T,"show-info":o.toggledAccountInfo===T.UniqueId,class:"account-detail-row",onToggleAccounts:t[12]||(t[12]=L=>e.$emit("toggle-accounts",L)),onPingAccount:t[13]||(t[13]=L=>e.$emit("ping-account",L)),onRedirect:t[14]||(t[14]=L=>e.$emit("redirect",L)),onLoadRelatedObjects:t[15]||(t[15]=L=>e.$emit("load-related-objects",L)),onToggleShowInfo:s.changeToggledAccountInfo},null,8,["account","show-info","onToggleShowInfo"])]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"]))],64)):b("",!0)]),s.platform!=="ipad"?(g(),A("div",tg,[I(_,{label:e.getVeevaMessage("CLOSE"),onClick:t[16]||(t[16]=T=>e.$emit("close-detail"))},null,8,["label"])])):b("",!0)])}const ng=z(Gh,[["render",ig],["__scopeId","data-v-56594a0f"]]),og={name:"ActionMenuButton",components:{PlatformIcon:Se},props:{iconName:{type:String,default:""},label:{type:String,default:""},isActive:{type:Boolean,default:!1},invertColors:{type:Boolean,default:!1}},emits:["toggle-modal"],computed:{actionIconColorVariant(){if(this.invertColors)return"white";switch("salesforce"){case"salesforce":return"blue";case"vault":return"black";case"ipad":return"gray"}return""},dropDownIconColorVariant(){if(this.invertColors)return"white";switch("salesforce"){case"salesforce":return"blue";case"vault":return"black";case"ipad":return"black"}return""},platform(){return"salesforce"}}},sg={id:"action-icon-with-label"},rg={id:"action-icon-label",class:"one-line"},ag={class:"dropdown-container"};function lg(e,t,i,n,o,s){const r=M("PlatformIcon");return g(),A("button",{class:W(["action-button",{"action-button-selected":i.invertColors,"action-button-active":i.isActive}]),onClick:t[0]||(t[0]=a=>e.$emit("toggle-modal"))},[u("div",sg,[I(r,{id:"action-icon","file-name":i.iconName,"is-platform-specific":!0,variant:s.actionIconColorVariant},null,8,["file-name","variant"]),u("span",rg,w(i.label),1)]),u("div",ag,[I(r,{id:"dropdown-icon","file-name":"dropdown","is-platform-specific":!0,variant:s.dropDownIconColorVariant},null,8,["variant"]),s.platform==="ipad"&&i.invertColors?(g(),R(r,{key:0,class:"modal-arrow","file-name":"modal-arrow","is-platform-specific":!0})):b("",!0)])],2)}const cg=z(og,[["render",lg],["__scopeId","data-v-b0648790"]]),dg={name:"SearchBar",components:{PlatformIcon:Se},expose:["focusSearchBar"],emits:["search","clear-search"],data(){return{queryString:""}},computed:{...oe(["getVeevaMessage"]),platform(){return"salesforce"}},methods:{triggerSearch(){this.queryString===""?this.$emit("clear-search"):this.$emit("search",this.queryString)},clearSearchTermAndResults(){this.queryString="",this.$emit("clear-search")},focusSearchBar(){var e,t,i;switch(this.platform){case"salesforce":(e=this.$refs.salesforceInput)==null||e.focus();break;case"vault":(t=this.$refs.vaultInput)==null||t.focus();break;case"ipad":(i=this.$refs.ipadInput)==null||i.focus();break}}}},fg={id:"search-input-container"},ug=["placeholder"],hg=["placeholder"],gg=["placeholder"];function pg(e,t,i,n,o,s){const r=M("PlatformIcon");return g(),A("div",fg,[s.platform==="salesforce"?(g(),A(B,{key:0},[yt(u("input",{id:"search-input",ref:"salesforceInput","onUpdate:modelValue":t[0]||(t[0]=a=>o.queryString=a),type:"text",placeholder:e.getVeevaMessage("FIND_BUTTON"),onKeydown:t[1]||(t[1]=Xn((...a)=>s.triggerSearch&&s.triggerSearch(...a),["enter"]))},null,40,ug),[[Xi,o.queryString]]),u("span",{class:"right-search-icon-container",onClick:t[2]||(t[2]=(...a)=>s.triggerSearch&&s.triggerSearch(...a))},[I(r,{"file-name":"search","is-platform-specific":!0,variant:"gray",class:"search-icon"})])],64)):s.platform==="vault"?(g(),A(B,{key:1},[yt(u("input",{id:"search-input",ref:"vaultInput","onUpdate:modelValue":t[3]||(t[3]=a=>o.queryString=a),type:"text",placeholder:e.getVeevaMessage("FIND_BUTTON"),onKeydown:t[4]||(t[4]=Xn((...a)=>s.triggerSearch&&s.triggerSearch(...a),["enter"]))},null,40,hg),[[Xi,o.queryString]]),o.queryString.length>0?(g(),A("span",{key:0,class:"clear-search-icon-container",onClick:t[5]||(t[5]=(...a)=>s.clearSearchTermAndResults&&s.clearSearchTermAndResults(...a))},[I(r,{id:"clear-search-icon","file-name":"close-x","is-platform-specific":!0})])):b("",!0),u("div",{class:"right-search-icon-container",onClick:t[6]||(t[6]=(...a)=>s.triggerSearch&&s.triggerSearch(...a))},[I(r,{"file-name":"search","is-platform-specific":!0,variant:"black",class:"search-icon"})])],64)):(g(),A(B,{key:2},[u("span",{class:"left-search-icon-container",onClick:t[7]||(t[7]=(...a)=>s.triggerSearch&&s.triggerSearch(...a))},[I(r,{"file-name":"search","is-platform-specific":!0,variant:"gray",class:"search-icon"})]),yt(u("input",{id:"search-input",ref:"ipadInput","onUpdate:modelValue":t[8]||(t[8]=a=>o.queryString=a),type:"text",placeholder:e.getVeevaMessage("FIND_BUTTON"),onKeydown:t[9]||(t[9]=Xn((...a)=>s.triggerSearch&&s.triggerSearch(...a),["enter"]))},null,40,gg),[[Xi,o.queryString]]),o.queryString.length>0?(g(),A("span",{key:0,class:"right-search-icon-container",onClick:t[10]||(t[10]=(...a)=>s.clearSearchTermAndResults&&s.clearSearchTermAndResults(...a))},[I(r,{id:"clear-search-icon","file-name":"search-exit","is-platform-specific":!0})])):b("",!0)],64))])}const mg=z(dg,[["render",pg],["__scopeId","data-v-219a81f9"]]),_g={name:"SearchModal",components:{Button:ot,SearchBar:mg},props:{hasSearched:{type:Boolean,default:!1},hasResults:{type:Boolean,default:!1}},emits:["search","clear-search","close-modal"],computed:{...oe(["getVeevaMessage"]),platform(){return"salesforce"}},mounted(){var e;(e=this.$refs.searchBar)==null||e.focusSearchBar()}},Ag={id:"search-modal",class:"modal-drop-shadow"},yg={id:"search-header-container"},vg={id:"search-header"},bg={class:"two-line"},wg={id:"search-container"},Ig={key:0,class:"no-search-triggered"},Tg={key:1,class:"empty-search-results"},Cg={key:2,class:"non-empty-search-results"};function Sg(e,t,i,n,o,s){const r=M("Button"),a=M("SearchBar");return g(),A("div",Ag,[u("div",yg,[s.platform==="ipad"?(g(),R(r,{key:0,id:"search-cancel-button",label:e.getVeevaMessage("CANCEL"),onClick:t[0]||(t[0]=l=>e.$emit("close-modal"))},null,8,["label"])):b("",!0),u("div",vg,[u("span",bg,w(e.getVeevaMessage("SEARCH")),1)])]),u("div",wg,[I(a,{ref:"searchBar",onSearch:t[1]||(t[1]=l=>e.$emit("search",l)),onClearSearch:t[2]||(t[2]=l=>e.$emit("clear-search"))},null,512)]),i.hasSearched?i.hasResults?(g(),A("div",Cg,[et(e.$slots,"default",{},void 0,!0)])):(g(),A("div",Tg,w(e.getVeevaMessage("NO_SEARCH_RESULTS")),1)):(g(),A("div",Ig))])}const il=z(_g,[["render",Sg],["__scopeId","data-v-24bf742d"]]),Mg={name:"HierarchyViewSearchModal",components:{BaseSearchModal:il,AccountTile:ps,DynamicScroller:Ei,DynamicScrollerItem:Ln},props:{results:{type:Array,default:null}},emits:["toggle-accounts","ping-account","redirect","search","clear-search","close-modal","load-related-objects"],data(){return{toggledAccountInfo:null}},methods:{changeToggledAccountInfo(e){this.toggledAccountInfo===e?this.toggledAccountInfo=null:this.toggledAccountInfo=e}}};function kg(e,t,i,n,o,s){const r=M("AccountTile"),a=M("DynamicScrollerItem"),l=M("DynamicScroller"),c=M("BaseSearchModal");return g(),R(c,{"has-searched":i.results!=null,"has-results":i.results!=null&&i.results.length!==0,onSearch:t[4]||(t[4]=d=>e.$emit("search",d)),onClearSearch:t[5]||(t[5]=d=>e.$emit("clear-search",d)),onCloseModal:t[6]||(t[6]=d=>e.$emit("close-modal",d))},{default:pe(()=>[I(l,{items:i.results,"min-item-size":54,"key-field":"UniqueId",class:"search-results-scroll-container"},{default:pe(({item:d,index:f,active:h})=>[I(a,{item:d,active:h,"data-index":f},{default:pe(()=>[I(r,{account:d,"show-info":o.toggledAccountInfo===d.UniqueId,onToggleAccounts:t[0]||(t[0]=_=>e.$emit("toggle-accounts",_)),onPingAccount:t[1]||(t[1]=_=>e.$emit("ping-account",_)),onRedirect:t[2]||(t[2]=_=>e.$emit("redirect",_)),onLoadRelatedObjects:t[3]||(t[3]=_=>e.$emit("load-related-objects",_)),onToggleShowInfo:s.changeToggledAccountInfo},null,8,["account","show-info","onToggleShowInfo"])]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"])]),_:1},8,["has-searched","has-results"])}const Og=z(Mg,[["render",kg],["__scopeId","data-v-168c60cc"]]),Eg={name:"FilterPicklist",components:{PlatformIcon:Se,Checkbox:Oi},props:{label:{type:String,required:!0},modelValue:{type:Array,required:!0},options:{type:Array,required:!0}},emits:["update:model-value"],data(){return{isPicklistToggled:!1}},computed:{shouldHighlightTitle(){return this.modelValue.length>0}},methods:{toggleCheckboxValue(e){const t=[...this.modelValue],i=t.indexOf(e);i!==-1?t.splice(i,1):t.push(e),this.$emit("update:model-value",t)}}},Fg={key:0,class:"filter-picklist-checkboxes"};function Ng(e,t,i,n,o,s){const r=M("PlatformIcon"),a=M("Checkbox");return g(),A(B,null,[u("div",{class:"filter-body-section-row",onClick:t[0]||(t[0]=l=>o.isPicklistToggled=!o.isPicklistToggled)},[I(r,{"file-name":"chevron-right","is-platform-specific":!0,class:W([{"chevron-icon-selected":o.isPicklistToggled},"chevron-icon"])},null,8,["class"]),u("span",{class:W(["filter-picklist-label two-line",{"filter-picklist-label-selected":s.shouldHighlightTitle}])},w(i.label),3)]),o.isPicklistToggled?(g(),A("div",Fg,[(g(!0),A(B,null,xe(i.options,l=>(g(),R(a,{key:l.value,label:l.label,"model-value":i.modelValue.includes(l.value),"onUpdate:modelValue":c=>s.toggleCheckboxValue(l.value)},null,8,["label","model-value","onUpdate:modelValue"]))),128))])):b("",!0)],64)}const Rg=z(Eg,[["render",Ng],["__scopeId","data-v-be57a2b6"]]),Vg={name:"FilterModal",components:{Checkbox:Oi,FilterPicklist:Rg,Button:ot},props:{availableFilters:{type:Object,default:()=>{}},initiallySelectedFilterValues:{type:Object,default:()=>{}}},emits:["apply-filter","close-modal"],data(){return{selectedFilterValues:null}},computed:{...oe(["getVeevaMessage","getPicklistValueTranslation","getObjectLabel","getFieldLabel","hasAccessToAffiliations"]),platform(){return"salesforce"}},created(){this.selectedFilterValues=JSON.parse(JSON.stringify(this.initiallySelectedFilterValues)),this.initializeDynamicModelValuesIfNeeded()},methods:{initializeDynamicModelValuesIfNeeded(){for(const e of Object.keys(this.availableFilters.affiliationFilters.fieldPicklists))this.selectedFilterValues.affiliationFilters.fieldPicklists[e]||(this.selectedFilterValues.affiliationFilters.fieldPicklists[e]=[])},clearFilters(){this.selectedFilterValues.accountFilters.custom.showKeyStakeholder&&(this.selectedFilterValues.accountFilters.custom.showKeyStakeholder=!1),this.selectedFilterValues.accountFilters.custom.showAcctWithAff&&(this.selectedFilterValues.accountFilters.custom.showAcctWithAff=!1),this.selectedFilterValues.accountFilters.custom.specialties&&(this.selectedFilterValues.accountFilters.custom.specialties=[]),this.selectedFilterValues.accountFilters.custom.territories&&(this.selectedFilterValues.accountFilters.custom.territories=[]),this.selectedFilterValues.accountFilters.custom.recordTypes&&(this.selectedFilterValues.accountFilters.custom.recordTypes=[]),this.selectedFilterValues.affiliationFilters.custom.showAffWithInf&&(this.selectedFilterValues.affiliationFilters.custom.showAffWithInf=!1);for(let e of Object.keys(this.selectedFilterValues.affiliationFilters.fieldPicklists))this.selectedFilterValues.affiliationFilters.fieldPicklists[e]=[]},applyFilter(){this.$emit("apply-filter",this.selectedFilterValues),this.$emit("close-modal")},shouldDisplayFilterPicklist(e){return e&&e.filter(t=>t.value).length>0}}},Lg={id:"filter-modal",class:"modal-drop-shadow"},Dg={id:"filter-header-container"},xg={id:"filter-clear-button"},Pg={id:"filter-header",class:"two-line"},$g={id:"filter-apply-button"},Hg={id:"filter-body-container"},Bg={class:"filter-body-section-title-and-divider"},Ug={class:"filter-body-section-title"},jg={class:"filter-body-section-container"},zg={class:"filter-body-section-title-and-divider"},qg={class:"filter-body-section-title"},Gg={class:"filter-body-section-container"},Wg={key:0,id:"filter-footer-container"};function Kg(e,t,i,n,o,s){const r=M("Button"),a=M("Checkbox"),l=M("FilterPicklist");return g(),A("div",Lg,[u("div",Dg,[u("div",xg,[s.platform==="ipad"?(g(),R(r,{key:0,class:"button-width-override",label:e.getVeevaMessage("FILTER_CLEAR_BUTTON"),onClick:s.clearFilters},null,8,["label","onClick"])):b("",!0)]),u("span",Pg,w(e.getVeevaMessage("FILTER")),1),u("div",$g,[s.platform==="ipad"?(g(),R(r,{key:0,class:"button-width-override",label:e.getVeevaMessage("FILTER_APPLY_BUTTON"),onClick:s.applyFilter},null,8,["label","onClick"])):b("",!0)])]),u("div",Hg,[u("div",Bg,[u("div",Ug,w(e.getObjectLabel("Account")),1)]),u("div",jg,[i.availableFilters.accountFilters.custom.showKeyStakeholder?(g(),R(a,{key:0,modelValue:o.selectedFilterValues.accountFilters.custom.showKeyStakeholder,"onUpdate:modelValue":t[0]||(t[0]=c=>o.selectedFilterValues.accountFilters.custom.showKeyStakeholder=c),label:e.getVeevaMessage("ALWAYS_SHOW_KEY_STAKEHOLDERS"),class:"filter-body-section-row"},null,8,["modelValue","label"])):b("",!0),i.availableFilters.accountFilters.custom.showAcctWithAff?(g(),R(a,{key:1,modelValue:o.selectedFilterValues.accountFilters.custom.showAcctWithAff,"onUpdate:modelValue":t[1]||(t[1]=c=>o.selectedFilterValues.accountFilters.custom.showAcctWithAff=c),label:e.getVeevaMessage("ONLY_SHOW_ACCOUNTS_WITH_AFFILIATIONS"),class:"filter-body-section-row"},null,8,["modelValue","label"])):b("",!0),s.shouldDisplayFilterPicklist(i.availableFilters.accountFilters.custom.specialties)?(g(),R(l,{key:2,modelValue:o.selectedFilterValues.accountFilters.custom.specialties,"onUpdate:modelValue":t[2]||(t[2]=c=>o.selectedFilterValues.accountFilters.custom.specialties=c),options:i.availableFilters.accountFilters.custom.specialties,label:e.getVeevaMessage("SPECIALTIES_FILTER")},null,8,["modelValue","options","label"])):b("",!0),s.shouldDisplayFilterPicklist(i.availableFilters.accountFilters.custom.territories)?(g(),R(l,{key:3,modelValue:o.selectedFilterValues.accountFilters.custom.territories,"onUpdate:modelValue":t[3]||(t[3]=c=>o.selectedFilterValues.accountFilters.custom.territories=c),options:i.availableFilters.accountFilters.custom.territories,label:e.getVeevaMessage("TERRITORIES_FILTER")},null,8,["modelValue","options","label"])):b("",!0),s.shouldDisplayFilterPicklist(i.availableFilters.accountFilters.custom.recordTypes)?(g(),R(l,{key:4,modelValue:o.selectedFilterValues.accountFilters.custom.recordTypes,"onUpdate:modelValue":t[4]||(t[4]=c=>o.selectedFilterValues.accountFilters.custom.recordTypes=c),options:i.availableFilters.accountFilters.custom.recordTypes,label:e.getVeevaMessage("ACCT_TYPE_LABEL")},null,8,["modelValue","options","label"])):b("",!0)]),e.hasAccessToAffiliations?(g(),A(B,{key:0},[u("div",zg,[u("div",qg,w(e.getObjectLabel("Affiliation_vod__c")),1)]),u("div",Gg,[i.availableFilters.affiliationFilters.custom.showAffWithInf?(g(),R(a,{key:0,modelValue:o.selectedFilterValues.affiliationFilters.custom.showAffWithInf,"onUpdate:modelValue":t[5]||(t[5]=c=>o.selectedFilterValues.affiliationFilters.custom.showAffWithInf=c),label:e.getVeevaMessage("ONLY_SHOW_AFFILIATIONS_WITH_INFLUENCE"),class:"filter-body-section-row"},null,8,["modelValue","label"])):b("",!0),(g(!0),A(B,null,xe(Object.keys(i.availableFilters.affiliationFilters.fieldPicklists),c=>(g(),A(B,{key:c},[s.shouldDisplayFilterPicklist(i.availableFilters.affiliationFilters.fieldPicklists[c])?(g(),R(l,{key:0,modelValue:o.selectedFilterValues.affiliationFilters.fieldPicklists[c],"onUpdate:modelValue":d=>o.selectedFilterValues.affiliationFilters.fieldPicklists[c]=d,options:i.availableFilters.affiliationFilters.fieldPicklists[c],label:e.getFieldLabel("Affiliation_vod__c",c)},null,8,["modelValue","onUpdate:modelValue","options","label"])):b("",!0)],64))),128))])],64)):b("",!0)]),s.platform!=="ipad"?(g(),A("div",Wg,[I(r,{label:e.getVeevaMessage("FILTER_CLEAR_BUTTON"),class:"filter-modal-button",variant:"secondary",onClick:s.clearFilters},null,8,["label","onClick"]),I(r,{label:e.getVeevaMessage("FILTER_APPLY_BUTTON"),class:"filter-modal-button",onClick:s.applyFilter},null,8,["label","onClick"])])):b("",!0)])}const nl=z(Vg,[["render",Kg],["__scopeId","data-v-98e2a2be"]]),Yg={name:"Toggle",props:{modelValue:{type:Boolean,required:!0},label:{type:String,default:""}},emits:["update:modelValue"]},Qg=e=>(Ht("data-v-3dcf6435"),e=e(),Bt(),e),Xg={class:"field-container"},Zg={class:"toggle-label-text two-line"},Jg={class:"form-switch"},ep=["checked"],tp=Qg(()=>u("i",null,null,-1));function ip(e,t,i,n,o,s){return g(),A("div",Xg,[u("span",Zg,w(i.label),1),u("label",Jg,[u("input",{checked:i.modelValue,type:"checkbox",onInput:t[0]||(t[0]=r=>e.$emit("update:modelValue",r.target.checked))},null,40,ep),tp])])}const np=z(Yg,[["render",ip],["__scopeId","data-v-3dcf6435"]]),op={name:"SettingsModal",components:{Button:ot,Checkbox:Oi,Toggle:np},emits:["toggle-affiliations","show-primary","close-modal"],data(){return{shouldShowAffiliations:!1,shouldShowOnlyPrimaryRelationships:!0,toggleShowAffiliationsTimeoutHandler:null,toggleShowOnlyPrimaryRelationshipsTimeoutHandler:null}},computed:{...oe(["getVeevaMessage","hasAccessToAffiliations"]),platform(){return"salesforce"}},watch:{shouldShowAffiliations(e){this.toggleShowAffiliations(e)},shouldShowOnlyPrimaryRelationships(e){this.toggleShowOnlyPrimaryRelationships(e)}},methods:{...ki(["showLoadingModal"]),toggleShowAffiliations(e){this.showLoadingModal(),this.toggleShowAffiliationsTimeoutHandler&&clearTimeout(this.toggleShowAffiliationsTimeoutHandler),this.toggleShowAffiliationsTimeoutHandler=setTimeout(()=>{this.$emit("toggle-affiliations",e)},200)},toggleShowOnlyPrimaryRelationships(e){this.showLoadingModal(),this.toggleShowOnlyPrimaryRelationshipsTimeoutHandler&&clearTimeout(this.toggleShowOnlyPrimaryRelationshipsTimeoutHandler),this.toggleShowOnlyPrimaryRelationshipsTimeoutHandler=setTimeout(()=>{this.$emit("show-primary",e)},200)}}},sp={id:"settings-modal",class:"modal-drop-shadow"},rp={id:"settings-header-container"},ap={id:"settings-header"},lp={class:"two-line"},cp={class:"settings-section"},dp={key:0,class:"toggle-setting-row-container"},fp={class:"toggle-setting-row-container"};function up(e,t,i,n,o,s){const r=M("Button"),a=M("Toggle"),l=M("Checkbox");return g(),A("div",sp,[u("div",rp,[s.platform==="ipad"?(g(),R(r,{key:0,id:"settings-cancel-button",label:e.getVeevaMessage("CANCEL"),onClick:t[0]||(t[0]=c=>e.$emit("close-modal"))},null,8,["label"])):b("",!0),u("div",ap,[u("span",lp,w(e.getVeevaMessage("SETTINGS")),1)])]),u("div",cp,[s.platform==="ipad"?(g(),A(B,{key:0},[e.hasAccessToAffiliations?(g(),A("div",dp,[I(a,{modelValue:o.shouldShowAffiliations,"onUpdate:modelValue":t[1]||(t[1]=c=>o.shouldShowAffiliations=c),label:e.getVeevaMessage("TOGGLE_AFFILIATIONS"),class:"toggle-setting-row"},null,8,["modelValue","label"])])):b("",!0),u("div",fp,[I(a,{modelValue:o.shouldShowOnlyPrimaryRelationships,"onUpdate:modelValue":t[2]||(t[2]=c=>o.shouldShowOnlyPrimaryRelationships=c),label:e.getVeevaMessage("SHOW_PRIMARY_RELATIONSHIP"),class:"toggle-setting-row"},null,8,["modelValue","label"])])],64)):(g(),A(B,{key:1},[e.hasAccessToAffiliations?(g(),R(l,{key:0,modelValue:o.shouldShowAffiliations,"onUpdate:modelValue":t[3]||(t[3]=c=>o.shouldShowAffiliations=c),label:e.getVeevaMessage("TOGGLE_AFFILIATIONS")},null,8,["modelValue","label"])):b("",!0),I(l,{modelValue:o.shouldShowOnlyPrimaryRelationships,"onUpdate:modelValue":t[4]||(t[4]=c=>o.shouldShowOnlyPrimaryRelationships=c),label:e.getVeevaMessage("SHOW_PRIMARY_RELATIONSHIP")},null,8,["modelValue","label"])],64))])])}const hp=z(op,[["render",up],["__scopeId","data-v-334edd95"]]),gp={name:"LegendModal",components:{PlatformIcon:Se,Button:ot},props:{includeHierarchyNodeInformation:{type:Boolean,default:!0}},emits:["close-modal"],computed:{...oe(["getVeevaMessage","getObjectLabel","getPicklistValueTranslation","hasAccessToAffiliations"]),platform(){return"salesforce"}}},pp={id:"legend-modal",class:"modal-drop-shadow"},mp={id:"legend-header-container"},_p={id:"legend-header"},Ap={class:"two-line"},yp={id:"legend-body-container"},vp={class:"legend-body-section"},bp={class:"legend-body-section-title-and-divider"},wp={class:"legend-body-section-title"},Ip={class:"legend-body-section-rows"},Tp={key:0,class:"legend-body-section-row"},Cp={class:"legend-icon-wrapper"},Sp={class:"legend-row-text two-line"},Mp={key:1,class:"legend-body-section-row"},kp={class:"legend-icon-wrapper"},Op={class:"legend-row-text"},Ep={key:2,class:"legend-body-section-row"},Fp={class:"legend-icon-wrapper"},Np={class:"legend-row-text"},Rp={key:3,class:"legend-body-section-row"},Vp={class:"legend-icon-wrapper"},Lp={class:"legend-row-text one-line"},Dp={class:"legend-body-section-row"},xp={class:"legend-icon-wrapper"},Pp={class:"legend-row-text"},$p={key:4,class:"legend-body-section-row"},Hp={class:"legend-icon-wrapper"},Bp={class:"legend-row-text"},Up={class:"legend-body-section"},jp={class:"legend-body-section-title-and-divider"},zp={class:"legend-body-section-title"},qp={class:"legend-body-section-rows"},Gp={class:"legend-body-section-row"},Wp={class:"legend-icon-wrapper"},Kp={class:"legend-row-text"},Yp={class:"legend-body-section-row"},Qp={class:"legend-icon-wrapper"},Xp={class:"legend-row-text"},Zp={class:"legend-body-section"},Jp={class:"legend-body-section-title-and-divider"},em={class:"legend-body-section-title"},tm={class:"legend-body-section-rows"},im={class:"legend-body-section-row"},nm={class:"legend-icon-wrapper"},om={class:"legend-row-text"},sm={class:"legend-body-section-row"},rm={class:"legend-icon-wrapper"},am={class:"legend-row-text"},lm={class:"legend-body-section-row"},cm={class:"legend-icon-wrapper"},dm={class:"legend-row-text"},fm={class:"legend-body-section-row"},um={class:"legend-icon-wrapper"},hm={class:"legend-row-text"};function gm(e,t,i,n,o,s){const r=M("Button"),a=M("PlatformIcon");return g(),A("div",pp,[u("div",mp,[s.platform==="ipad"?(g(),R(r,{key:0,id:"legend-cancel-button",label:e.getVeevaMessage("CLOSE"),onClick:t[0]||(t[0]=l=>e.$emit("close-modal"))},null,8,["label"])):b("",!0),u("div",_p,[u("span",Ap,w(e.getVeevaMessage("LEGEND")),1)])]),u("div",yp,[u("div",vp,[u("div",bp,[u("div",wp,w(e.getObjectLabel("Account")),1)]),u("div",Ip,[i.includeHierarchyNodeInformation?(g(),A("div",Tp,[u("div",Cp,[I(a,{"file-name":"root-account",class:"legend-icon"})]),u("span",Sp,w(e.getVeevaMessage("ROOT_ACCOUNT_LEGEND")),1)])):b("",!0),i.includeHierarchyNodeInformation?(g(),A("div",Mp,[u("div",kp,[I(a,{"file-name":"key-stakeholder-account",class:"legend-icon"})]),u("span",Op,w(e.getVeevaMessage("KEY_STAKEHOLDER_LEGEND")),1)])):b("",!0),i.includeHierarchyNodeInformation?(g(),A("div",Ep,[u("div",Fp,[I(a,{"file-name":"unfiltered-parent-account",class:"legend-icon"})]),u("span",Np,w(e.getVeevaMessage("UNFILTERED_PARENT_LEGEND")),1)])):b("",!0),i.includeHierarchyNodeInformation?(g(),A("div",Rp,[u("div",Vp,[I(a,{"file-name":"child-count",variant:"blue",class:"legend-icon"})]),u("span",Lp,w(e.getVeevaMessage("CHILDREN_ICON_LEGEND")),1)])):b("",!0),u("div",Dp,[u("div",xp,[I(a,{"file-name":"affiliation-arrow",variant:"black",class:"legend-icon"})]),u("span",Pp,w(e.getVeevaMessage("AFFILIATIONS_ICON_LEGEND")),1)]),i.includeHierarchyNodeInformation?(g(),A("div",$p,[u("div",Hp,[I(a,{"file-name":"duplicate-account-link",class:"legend-icon"})]),u("span",Bp,w(e.getVeevaMessage("MULTIPLE_RELATIONSHIPS_LEGEND")),1)])):b("",!0)])]),e.hasAccessToAffiliations?(g(),A(B,{key:0},[u("div",Up,[u("div",jp,[u("div",zp,w(e.getVeevaMessage("AFFILIATION_INFLUENCE")),1)]),u("div",qp,[u("div",Gp,[u("div",Wp,[I(a,{"file-name":"affiliation-legend-inf",class:"legend-icon"})]),u("span",Kp,w(e.getVeevaMessage("HAS_INFLUENCE_LEGEND")),1)]),u("div",Yp,[u("div",Qp,[I(a,{"file-name":"affiliation-legend-no-inf",class:"legend-icon"})]),u("span",Xp,w(e.getVeevaMessage("NO_INFLUENCE_LEGEND")),1)])])]),u("div",Zp,[u("div",Jp,[u("div",em,w(e.getVeevaMessage("AFFILIATION_STRENGTH")),1)]),u("div",tm,[u("div",im,[u("div",nm,[I(a,{"file-name":"affiliation-legend-strength",variant:"none",class:"legend-icon"})]),u("span",om,w(e.getVeevaMessage("NONE_NO_DASH")),1)]),u("div",sm,[u("div",rm,[I(a,{"file-name":"affiliation-legend-strength",variant:"weak",class:"legend-icon"})]),u("span",am,w(e.getPicklistValueTranslation("Affiliation_vod__c","Relationship_Strength_vod__c","0")),1)]),u("div",lm,[u("div",cm,[I(a,{"file-name":"affiliation-legend-strength",variant:"medium",class:"legend-icon"})]),u("span",dm,w(e.getPicklistValueTranslation("Affiliation_vod__c","Relationship_Strength_vod__c","1")),1)]),u("div",fm,[u("div",um,[I(a,{"file-name":"affiliation-legend-strength",variant:"strong",class:"legend-icon"})]),u("span",hm,w(e.getPicklistValueTranslation("Affiliation_vod__c","Relationship_Strength_vod__c","2")),1)])])])],64)):b("",!0)])])}const ol=z(gp,[["render",gm],["__scopeId","data-v-ab0cde95"]]);class pm{constructor(){this.selectAccountFilters={custom:{showKeyStakeholder:!1,showAcctWithAff:!1,specialties:[],territories:[]}},this.showOnlyPrimary=!0}setShowOnlyPrimary(t){this.showOnlyPrimary=t}shouldShowOnlyPrimary(){return this.showOnlyPrimary}loadConfigIfHasChanged(t){const i=!this.areAccountFiltersEqual(this.selectAccountFilters,t);return i&&(this.selectAccountFilters=t),i}areAccountFiltersEqual(t,i){return!(t.custom.showKeyStakeholder!==i.custom.showKeyStakeholder||t.custom.showAcctWithAff!==i.custom.showAcctWithAff||!this.arraysContainSameElements(t.custom.specialties,i.custom.specialties)||!this.arraysContainSameElements(t.custom.territories,i.custom.territories))}arraysContainSameElements(t,i){if(!t&&!i)return!0;if(!t||!i||(t==null?void 0:t.length)!==(i==null?void 0:i.length))return!1;const n=t.slice().sort(),o=i.slice().sort();for(let s=0;s<n.length;s++)if(n[s]!==o[s])return!1;return!0}meetsCriteria(t){return this.selectAccountFilters.custom.showKeyStakeholder&&t.isKeyStakeholder?!0:!(this.selectAccountFilters.custom.showAcctWithAff&&t.Affiliations.length===0||!this.meetsPrimaryCriteria(t)||!this.meetsSpecialtyCriteria(t)||!this.meetsTerritoryCriteria(t))}meetsPrimaryCriteria(t){return!this.showOnlyPrimary||t.parentIsPrimary||t.isBestChild}meetsSpecialtyCriteria(t){var i,n,o,s,r,a,l,c;return this.selectAccountFilters.custom.specialties.length===0||((i=t.fields.Specialty_1_vod__c)==null?void 0:i.value)!==void 0&&this.selectAccountFilters.custom.specialties.includes((n=t.fields.Specialty_1_vod__c)==null?void 0:n.value)||((o=t.fields.Specialty_2_vod__c)==null?void 0:o.value)!==void 0&&this.selectAccountFilters.custom.specialties.includes((s=t.fields.Specialty_2_vod__c)==null?void 0:s.value)||((r=t.fields.Group_Specialty_1_vod__c)==null?void 0:r.value)!==void 0&&this.selectAccountFilters.custom.specialties.includes((a=t.fields.Group_Specialty_1_vod__c)==null?void 0:a.value)||((l=t.fields.Group_Specialty_2_vod__c)==null?void 0:l.value)!==void 0&&this.selectAccountFilters.custom.specialties.includes((c=t.fields.Group_Specialty_2_vod__c)==null?void 0:c.value)}meetsTerritoryCriteria(t){let i=!1;return this.selectAccountFilters.custom.territories.length===0?i=!0:t.territories===void 0||t.territories.length===0?i=!1:i=this.selectAccountFilters.custom.territories.some(n=>t.territories.includes(n)),i}}function mm(e){let t=0;return e.custom.showKeyStakeholder&&(t+=1),e.custom.showAcctWithAff&&(t+=1),e.custom.territories&&(t+=e.custom.territories.length),e.custom.specialties&&(t+=e.custom.specialties.length),t}class _m{constructor(){this.selectedAffiliationFilters={custom:{showAffWithInf:!1},fieldPicklists:{}}}loadConfigIfHasChanged(t){const i=!this.areAffiliationFiltersEqual(this.selectedAffiliationFilters,t);return i&&(this.selectedAffiliationFilters=t),i}areAffiliationFiltersEqual(t,i){if(t.custom.showAffWithInf!==i.custom.showAffWithInf)return!1;const n=Object.keys(t.fieldPicklists),o=Object.keys(i.fieldPicklists);if(!this.arraysContainSameElements(n,o))return!1;for(const s of n){const r=t.fieldPicklists[s],a=i.fieldPicklists[s];if(!this.arraysContainSameElements(r,a))return!1}return!0}arraysContainSameElements(t,i){if((t==null?void 0:t.length)!==(i==null?void 0:i.length))return!1;const n=t.slice().sort(),o=i.slice().sort();for(let s=0;s<n.length;s++)if(n[s]!==o[s])return!1;return!0}meetsCriteria(t){if(this.selectedAffiliationFilters.custom.showAffWithInf&&t.Influence_vod__c!=="Has influence"&&t.Influence_vod__c!=="Is influenced")return!1;for(const i of Object.keys(this.selectedAffiliationFilters.fieldPicklists)){if(this.selectedAffiliationFilters.fieldPicklists[i].length===0)continue;const n=t[i];if(!n||Array.isArray(n)&&n.length===0){if(!this.selectedAffiliationFilters.fieldPicklists[i].includes(null))return!1}else if(Array.isArray(n)){let o=!1;for(const s of n)if(this.selectedAffiliationFilters.fieldPicklists[i].includes(s)){o=!0;break}if(!o)return!1}else if(!this.selectedAffiliationFilters.fieldPicklists[i].includes(n))return!1}return!0}}function Am(e){let t=0;e.custom.showAffWithInf&&(t+=1);for(const i of Object.keys(e.fieldPicklists))e.fieldPicklists[i]&&(t+=e.fieldPicklists[i].length);return t}const ym={name:"ActionMenu",components:{ActionMenuButton:cg,HierarchyViewSearchModal:Og,FilterModal:nl,SettingsModal:hp,LegendModal:ol},props:{searchResult:{type:Array,default:()=>[]},availableFilterValues:{type:Object,default:()=>{}}},emits:["toggle-accounts","ping-account","redirect","search","clear-search","apply-filter","toggle-affiliations","show-primary","load-related-objects"],data(){return{selected:null}},computed:{...oe(["getVeevaMessage","getHierarchyViewSelectedFilters"]),activeFilterCount(){return mm(this.getHierarchyViewSelectedFilters.accountFilters)+Am(this.getHierarchyViewSelectedFilters.affiliationFilters)},filterButtonLabel(){let e=this.getVeevaMessage("FILTER");return this.activeFilterCount>0&&(e+=` (${this.activeFilterCount})`),e}},methods:{handleActionMenuClick(e){this.selected==="search"&&this.$emit("clear-search"),this.selected===e?this.selected=null:this.selected=e}}},vm={id:"action-menu-container"},bm={class:"action-button-and-modal-container"},wm={class:"action-button-and-modal-container"},Im={class:"action-button-and-modal-container"},Tm={class:"action-button-and-modal-container"};function Cm(e,t,i,n,o,s){const r=M("ActionMenuButton"),a=M("HierarchyViewSearchModal"),l=M("FilterModal"),c=M("SettingsModal"),d=M("LegendModal");return g(),A("div",vm,[u("div",bm,[I(r,{"icon-name":"search",label:e.getVeevaMessage("SEARCH"),"invert-colors":o.selected==="search",onToggleModal:t[0]||(t[0]=f=>s.handleActionMenuClick("search"))},null,8,["label","invert-colors"]),o.selected==="search"?(g(),R(a,{key:0,class:"search-modal-placement",results:i.searchResult,onToggleAccounts:t[1]||(t[1]=f=>e.$emit("toggle-accounts",f)),onPingAccount:t[2]||(t[2]=f=>e.$emit("ping-account",f)),onRedirect:t[3]||(t[3]=f=>e.$emit("redirect",f)),onSearch:t[4]||(t[4]=f=>e.$emit("search",f)),onClearSearch:t[5]||(t[5]=f=>e.$emit("clear-search")),onCloseModal:t[6]||(t[6]=f=>s.handleActionMenuClick(null)),onLoadRelatedObjects:t[7]||(t[7]=f=>e.$emit("load-related-objects",f))},null,8,["results"])):b("",!0)]),u("div",wm,[I(r,{"icon-name":"filter",label:s.filterButtonLabel,"is-active":s.activeFilterCount>0,"invert-colors":o.selected==="filter",onToggleModal:t[8]||(t[8]=f=>s.handleActionMenuClick("filter"))},null,8,["label","is-active","invert-colors"]),o.selected==="filter"?(g(),R(l,{key:0,class:"filter-modal-placement","available-filters":i.availableFilterValues,"initially-selected-filter-values":e.getHierarchyViewSelectedFilters,onApplyFilter:t[9]||(t[9]=f=>e.$emit("apply-filter",f)),onCloseModal:t[10]||(t[10]=f=>s.handleActionMenuClick(null))},null,8,["available-filters","initially-selected-filter-values"])):b("",!0)]),u("div",Im,[I(r,{"icon-name":"settings",label:e.getVeevaMessage("SETTINGS"),"invert-colors":o.selected==="settings",onToggleModal:t[11]||(t[11]=f=>s.handleActionMenuClick("settings"))},null,8,["label","invert-colors"]),yt(I(c,{class:"settings-modal-placement",onToggleAffiliations:t[12]||(t[12]=f=>e.$emit("toggle-affiliations",f)),onShowPrimary:t[13]||(t[13]=f=>e.$emit("show-primary",f)),onCloseModal:t[14]||(t[14]=f=>s.handleActionMenuClick(null))},null,512),[[rs,o.selected==="settings"]])]),u("div",Tm,[I(r,{"icon-name":"legend",label:e.getVeevaMessage("LEGEND"),"invert-colors":o.selected==="legend",onToggleModal:t[15]||(t[15]=f=>s.handleActionMenuClick("legend"))},null,8,["label","invert-colors"]),o.selected==="legend"?(g(),R(d,{key:0,class:"legend-modal-placement",onCloseModal:t[16]||(t[16]=f=>s.handleActionMenuClick(null))})):b("",!0)])])}const Sm=z(ym,[["render",Cm],["__scopeId","data-v-8ea9a017"]]),Mm={name:"GraphMenu",components:{PlatformIcon:Se},emits:["zoom-in","zoom-out","fit"],computed:{platform(){return"salesforce"}}},km={id:"lower-graph-container"};function Om(e,t,i,n,o,s){const r=M("PlatformIcon");return g(),A("div",km,[s.platform!=="ipad"?(g(),A("button",{key:0,id:"zoom-in-button",class:"lower-graph-button",onClick:t[0]||(t[0]=a=>e.$emit("zoom-in"))},[I(r,{id:"zoom-in-icon","file-name":"zoom-in","is-platform-specific":!0})])):b("",!0),s.platform!=="ipad"?(g(),A("button",{key:1,id:"zoom-out-button",class:"lower-graph-button",onClick:t[1]||(t[1]=a=>e.$emit("zoom-out"))},[I(r,{id:"zoom-out-icon","file-name":"zoom-out","is-platform-specific":!0})])):b("",!0),u("button",{id:"fit-button",class:"lower-graph-button",onClick:t[2]||(t[2]=a=>e.$emit("fit"))},[I(r,{id:"fit-icon","file-name":"target","is-platform-specific":!0})])])}const Em=z(Mm,[["render",Om],["__scopeId","data-v-b75e906a"]]),Fm={name:"BaseModal",components:{PlatformIcon:Se,Button:ot},props:{title:{type:String,default:""},removeTitleLineClamp:{type:Boolean,default:!1},successBtnMessage:{type:String,default:""},cancelBtnMessage:{type:String,default:""},onlyCancel:{type:Boolean,default:!1},disableSuccess:{type:Boolean,default:!1},modalSize:{type:String,default:"medium"}},emits:["success","cancel","scroll"],computed:{...oe(["getVeevaMessage"]),successBtnMessageOrDefault(){return this.successBtnMessage||this.getVeevaMessage("OK")},cancelBtnMessageOrDefault(){return this.cancelBtnMessage||this.getVeevaMessage("CANCEL")},modalClasses(){return{"modal-small":this.modalSize==="small","modal-medium":this.modalSize==="medium"}},platform(){return"salesforce"}}},Nm={class:"modal-background"},Rm={key:0,class:"modal-cancel-button-container"},Vm={class:"modal-header"},Lm={key:0,id:"modal-header-cancel-button"},Dm={key:2,id:"modal-header-success-button"},xm={key:1,class:"modal-footer"};function Pm(e,t,i,n,o,s){const r=M("PlatformIcon"),a=M("Button");return g(),A("div",Nm,[u("div",{class:W(["modal",s.modalClasses])},[s.platform==="salesforce"?(g(),A("div",Rm,[I(r,{"file-name":"close-x","is-platform-specific":!0,class:"modal-cancel-x-button",onClick:t[0]||(t[0]=l=>e.$emit("cancel"))})])):b("",!0),u("div",Vm,[s.platform==="ipad"?(g(),A("div",Lm,[I(a,{label:s.cancelBtnMessageOrDefault,onClick:t[1]||(t[1]=l=>e.$emit("cancel"))},null,8,["label"])])):b("",!0),u("span",{id:"modal-header-text",class:W(i.removeTitleLineClamp?"":"two-line")},w(i.title),3),s.platform==="vault"?(g(),R(r,{key:1,id:"vault-header-close","file-name":"close-x","is-platform-specific":!0,onClick:t[2]||(t[2]=l=>e.$emit("cancel"))})):b("",!0),s.platform==="ipad"&&!i.onlyCancel?(g(),A("div",Dm,[I(a,{label:s.successBtnMessageOrDefault,disabled:i.disableSuccess,onClick:t[3]||(t[3]=l=>e.$emit("success"))},null,8,["label","disabled"])])):b("",!0)]),u("div",{class:"modal-body",onScrollPassive:t[4]||(t[4]=l=>e.$emit("scroll"))},[et(e.$slots,"default",{},void 0,!0)],32),s.platform!=="ipad"?(g(),A("div",xm,[i.onlyCancel?(g(),R(a,{key:0,label:s.cancelBtnMessageOrDefault,onClick:t[5]||(t[5]=l=>e.$emit("cancel"))},null,8,["label"])):(g(),A(B,{key:1},[I(a,{label:s.cancelBtnMessageOrDefault,variant:"secondary",onClick:t[6]||(t[6]=l=>e.$emit("cancel"))},null,8,["label"]),I(a,{label:s.successBtnMessageOrDefault,disabled:i.disableSuccess,onClick:t[7]||(t[7]=l=>e.$emit("success"))},null,8,["label","disabled"])],64))])):b("",!0)],2)])}const Dn=z(Fm,[["render",Pm],["__scopeId","data-v-7201d4aa"]]),$m={name:"AddToTerritory",components:{BaseModal:Dn,AccountTile:ps,Checkbox:Oi},props:{account:{type:Object,default:()=>{}},useHierarchySpecificInformation:{type:Boolean,default:!0}},emits:["add-to-territory","close-modal"],data(){return{selectedTerritories:{}}},computed:{...oe(["getUserTerritories","getVeevaMessage","hasAccessToAffiliations"]),sortedAvailableTerritories(){return this.getUserTerritories.sort((t,i)=>{let n=t.Name.toLowerCase(),o=i.Name.toLowerCase();return n<o?-1:n>o?1:0})},hasNoTerritories(){return this.sortedAvailableTerritories.length===0},hasOneTerritory(){return this.sortedAvailableTerritories.length===1},disableAddTerrButton(){return!this.hasOneTerritory&&Object.keys(this.selectedTerritories).filter(e=>this.selectedTerritories[e]).length===0}},created(){for(const e of this.sortedAvailableTerritories)this.selectedTerritories[e.Id]=!1},methods:{toggleSelected(e){this.selectedTerritories[e]=!this.selectedTerritories[e]},addToTerr(){const e=this.hasOneTerritory?[this.sortedAvailableTerritories[0].Id]:Object.keys(this.selectedTerritories).filter(t=>this.selectedTerritories[t]);this.$emit("add-to-territory",{accountId:this.account.Id,terrsToAdd:e}),this.$emit("close-modal")}}},Hm={class:"territory-options"},Bm={key:0,class:"territory-message"},Um={key:1,class:"territory-message"};function jm(e,t,i,n,o,s){const r=M("AccountTile"),a=M("Checkbox"),l=M("BaseModal");return g(),R(l,{title:e.getVeevaMessage("GAS_ADD_TO_TERRITORY"),"cancel-btn-message":s.hasOneTerritory?e.getVeevaMessage("NO"):e.getVeevaMessage("CANCEL"),"success-btn-message":s.hasOneTerritory?e.getVeevaMessage("YES"):e.getVeevaMessage("OK"),"only-cancel":s.hasNoTerritories,"disable-success":s.disableAddTerrButton,onCancel:t[0]||(t[0]=c=>e.$emit("close-modal")),onSuccess:s.addToTerr},{default:pe(()=>[I(r,{account:i.account,"read-only":!0,"use-hierarchy-specific-information":i.useHierarchySpecificInformation,class:"account-tile-add-to-terr"},null,8,["account","use-hierarchy-specific-information"]),u("div",Hm,[s.hasNoTerritories?(g(),A("span",Bm,w(e.getVeevaMessage("GAS_NO_TERRITORY_ALIGNED_ERROR")),1)):s.hasOneTerritory?(g(),A("span",Um,w(e.getVeevaMessage("CONFIRM_ADD_ACCOUNT")),1)):(g(!0),A(B,{key:2},xe(s.sortedAvailableTerritories,c=>(g(),R(a,{key:c.Id,"model-value":o.selectedTerritories[c.Id],label:c.Name,"onUpdate:modelValue":d=>s.toggleSelected(c.Id)},null,8,["model-value","label","onUpdate:modelValue"]))),128))])]),_:1},8,["title","cancel-btn-message","success-btn-message","only-cancel","disable-success","onSuccess"])}const sl=z($m,[["render",jm],["__scopeId","data-v-3c03b3ed"]]),zm={name:"AffiliationDiagram",props:{fromAccount:{type:Object,required:!0},toAccount:{type:Object,required:!0},relationshipStrength:{type:String,default:null},influence:{type:String,default:null},canClickAccountNames:{type:Boolean,default:!1},canChangeToAccount:{type:Boolean,default:!1}},emits:["change-to-account","from-account-click","to-account-click"],computed:{...oe(["getVeevaMessage"]),arrowStyle(){let e;switch(this.relationshipStrength){case null:case void 0:e="light-blue";break;case"0":e="medium-blue";break;case"1":e="dark-blue";break;case"2":e="black";break;default:e="light-blue"}let t=!1;switch(this.influence){case null:case void 0:case"":case"No influence":t=!0;break}return{[e]:!0,"no-influence-dash":t}}},methods:{emitFromAccountClickIfAllowed(){this.canClickAccountNames&&this.$emit("from-account-click")},emitToAccountClickIfAllowed(){this.canClickAccountNames&&this.$emit("to-account-click")}}},qm=e=>(Ht("data-v-259bff5e"),e=e(),Bt(),e),Gm={class:"icon-header-container"},Wm=["src"],Km={class:"affiliation-link"},Ym=["id"],Qm=qm(()=>u("polyline",{points:"0,3 2,1.25 0, -.5",fill:"none","stroke-width":"1","stroke-linecap":"round",transform:"matrix(1,0,0,1,0.8333333333333334,1.25)","stroke-linejoin":"round"},null,-1)),Xm=[Qm],Zm=["marker-end"],Jm=["marker-end"],e_={key:2,x1:"5",y1:"15",x2:"100",y2:"15",stroke:"#000","stroke-width":"4","stroke-linecap":"round"},t_=["src"],i_={class:"affiliatiated-account-names-container"},n_={class:"from-account-name affiliated-account-text"},o_={class:"to-account-name affiliated-account-text"};function s_(e,t,i,n,o,s){var r,a;return g(),A("div",null,[u("div",Gm,[u("img",{class:W(["record-type-icon",i.canClickAccountNames?"pointer-cursor clickable-area-expander-small":""]),src:i.fromAccount.recordTypeResourceUrl,onClick:t[0]||(t[0]=(...l)=>s.emitFromAccountClickIfAllowed&&s.emitFromAccountClickIfAllowed(...l))},null,10,Wm),u("div",Km,[(g(),A("svg",{height:"25px",width:"105px",class:W(s.arrowStyle)},[u("defs",null,[u("marker",{id:`arrow-head-${e.$.uid}`,markerWidth:"5",markerHeight:"8",refX:"2.5",refY:"2.5",viewBox:"0 0 5 5",orient:"auto"},Xm,8,Ym)]),i.influence==="Is influenced"?(g(),A("line",{key:0,x1:"100",y1:"15",x2:"5",y2:"15",stroke:"#000","stroke-width":"4","stroke-linecap":"round","marker-end":`url(#arrow-head-${e.$.uid})`},null,8,Zm)):i.influence==="Has influence"?(g(),A("line",{key:1,x1:"5",y1:"15",x2:"100",y2:"15",stroke:"#000","stroke-width":"4","stroke-linecap":"round","marker-end":`url(#arrow-head-${e.$.uid})`},null,8,Jm)):(g(),A("line",e_))],2))]),u("img",{class:W(["record-type-icon",i.canClickAccountNames?"pointer-cursor clickable-area-expander-small":""]),src:i.toAccount.recordTypeResourceUrl,onClick:t[1]||(t[1]=(...l)=>s.emitToAccountClickIfAllowed&&s.emitToAccountClickIfAllowed(...l))},null,10,t_)]),u("div",i_,[u("div",n_,[u("div",{id:"from-account-name-text",class:W(["two-line",i.canClickAccountNames?"clickable-account-text":""]),onClick:t[2]||(t[2]=(...l)=>s.emitFromAccountClickIfAllowed&&s.emitFromAccountClickIfAllowed(...l))},w((r=i.fromAccount.fields)==null?void 0:r.Formatted_Name_vod__c.value),3)]),u("div",o_,[u("div",{id:"to-account-name-text",class:W(["two-line",i.canClickAccountNames?"clickable-account-text":""]),onClick:t[3]||(t[3]=(...l)=>s.emitToAccountClickIfAllowed&&s.emitToAccountClickIfAllowed(...l))},w((a=i.toAccount.fields)==null?void 0:a.Formatted_Name_vod__c.value),3),i.canChangeToAccount?(g(),A("div",{key:0,class:W(["change-to-account-button",i.canClickAccountNames?"clickable-account-text":""]),onClick:t[4]||(t[4]=l=>e.$emit("change-to-account"))},w(e.getVeevaMessage("CHANGE_TO_ACCOUNT")),3)):b("",!0)])])])}const rl=z(zm,[["render",s_],["__scopeId","data-v-259bff5e"]]),al=""+new URL("../icons/checkmarkGray.png",import.meta.url).href,r_={name:"Picklist",props:{field:{type:Object,default:()=>{}},scroll:Boolean},emits:["value-change"],data(){return{displayValue:"",showSelection:!1,selectedValue:"",defaultHover:!1,values:[],dropdownPosition:{left:0,width:0,top:0}}},computed:{...oe(["getVeevaMessage"]),isEditable(){return this.field.mode==="e"&&this.field.metadata.updateable||this.field.mode==="n"&&this.field.metadata.createable}},watch:{selectedValue:{immediate:!0,deep:!0,handler(e){let t=this.field.picklistInfo.find(i=>i.value===e);t?this.displayValue=t.label:this.displayValue=this.getVeevaMessage("NONE"),this.$emit("value-change",{fieldName:this.field.metadata.apiName,value:e})}},field:{immediate:!0,deep:!0,handler(e){for(let i of e.picklistInfo)this.values.push({value:i.value,label:i.label});(!e.required||e.mode==="e"&&!e.value)&&this.values.unshift({value:"",label:this.getVeevaMessage("NONE")});let t="";if(e.mode==="e"){let i=e.value;i&&(t=i)}else{const i=e.picklistInfo.find(n=>n.defaultValue);i&&(t=i.value)}t===""&&this.values.length>0&&(t=this.values[0].value),this.selectedValue=t}},scroll:{immediate:!0,deep:!1,handler(){this.showSelection&&this.positionDropdown()}}},methods:{selectValue(e){this.selectedValue=e,this.showSelection=!1},toggleShowSelection(){this.showSelection||(this.positionDropdown(),this.defaultHover=!0),this.showSelection=!this.showSelection,this.$nextTick(()=>{this.positionDropdown()})},closeSelection(){this.showSelection=!1},positionDropdown(){const e=this.$refs.wrapperDropdown,t=this.$refs.dropdown,i=e.getBoundingClientRect(),n=t.getBoundingClientRect();this.dropdownPosition.left=i.left,this.dropdownPosition.width=i.width,this.isDropdownBelowScreenBounds(i,n)?this.dropdownPosition.top=i.top-n.height-1:this.dropdownPosition.top=i.bottom+1},isDropdownBelowScreenBounds(e,t){let i=window.innerHeight||document.documentElement.clientHeight;return i-=62,e.bottom+t.height>=i}}},a_={class:"field-label"},l_={key:0,class:"red"},c_={class:"value-section"},d_={key:0},f_={class:"display-value"},u_=["onClick"],h_={class:"checkmark-container"},g_={key:0,class:"checkmark-icon",src:al},p_={key:1,class:"read-only value-section"};function m_(e,t,i,n,o,s){return g(),A("div",null,[u("div",a_,[i.field.required?(g(),A("span",l_,"* ")):b("",!0),Si(w(i.field.metadata.label),1)]),u("div",c_,[s.isEditable?(g(),A("div",d_,[u("div",{ref:"wrapperDropdown",class:"wrapper-dropdown",tabindex:"0",onBlur:t[2]||(t[2]=(...r)=>s.closeSelection&&s.closeSelection(...r))},[u("div",{class:"dropdown-value noselect",onClick:t[0]||(t[0]=(...r)=>s.toggleShowSelection&&s.toggleShowSelection(...r))},[u("span",f_,w(o.displayValue),1)]),u("div",{ref:"dropdown",class:W([{"zero-width":!o.showSelection},"dropdown noselect"]),style:xt({left:o.dropdownPosition.left+"px",top:o.dropdownPosition.top+"px",width:o.dropdownPosition.width+"px"})},[u("ul",null,[(g(!0),A(B,null,xe(o.values,r=>(g(),A("li",{key:r.value,class:W({hover:o.defaultHover&&o.selectedValue===r.value}),onClick:a=>s.selectValue(r.value),onMouseenter:t[1]||(t[1]=a=>o.defaultHover=!1)},[u("span",h_,[o.selectedValue===r.value?(g(),A("img",g_)):b("",!0)]),u("span",null,w(r.label),1)],42,u_))),128))])],6)],544)])):(g(),A("div",p_,w(o.displayValue),1))])])}const __=z(r_,[["render",m_],["__scopeId","data-v-4df82d03"]]),A_={name:"MultiPicklist",props:{field:{type:Object,default:()=>{}},scroll:Boolean},emits:["value-change"],data(){return{displayValue:"",showSelection:!1,selectedValues:[],defaultHover:!1,values:[],dropdownPosition:{left:0,width:0,top:0}}},computed:{...oe(["getVeevaMessage"]),isEditable(){return this.field.mode==="e"&&this.field.metadata.updateable||this.field.mode==="n"&&this.field.metadata.createable}},watch:{selectedValues:{immediate:!0,deep:!0,handler(e){let t="";e.length===0?t=this.getVeevaMessage("NONE"):e.length===1?t=this.field.picklistInfo.find(i=>i.value===e[0]).label:t=this.getVeevaMessage("SELECTED_VALUES").replace("{0}",e.length),this.displayValue=t,this.$emit("value-change",{fieldName:this.field.metadata.apiName,value:e})}},field:{immediate:!0,deep:!0,handler(e){for(let t of e.picklistInfo)this.values.push({value:t.value,label:t.label});e.value?this.selectedValues=e.value.slice():this.selectedValues=[]}},scroll:{immediate:!0,deep:!1,handler(){this.showSelection&&this.positionDropdown()}}},methods:{toggleValue(e){const t=this.selectedValues.indexOf(e);t>-1?this.selectedValues.splice(t,1):this.selectedValues.push(e)},toggleShowSelection(){this.showSelection||(this.positionDropdown(),this.defaultHover=!0),this.showSelection=!this.showSelection},closeSelection(){this.showSelection=!1},isSelectedValue(e){return this.selectedValues.indexOf(e)>-1},positionDropdown(){const e=this.$refs.wrapperDropdown,t=this.$refs.dropdown,i=e.getBoundingClientRect(),n=t.getBoundingClientRect();this.dropdownPosition.left=i.left,this.dropdownPosition.width=i.width,this.isDropdownBelowScreenBounds(i,n)?this.dropdownPosition.top=i.top-n.height-1:this.dropdownPosition.top=i.bottom+1},isDropdownBelowScreenBounds(e,t){let i=window.innerHeight||document.documentElement.clientHeight;return i-=62,e.bottom+t.height>=i}}},y_={class:"field-label"},v_={key:0,class:"red"},b_={class:"value-section"},w_={key:0},I_={class:"display-value"},T_=["onClick"],C_={class:"checkmark-container"},S_={key:0,class:"checkmark-icon",src:al},M_={key:1,class:"read-only value-section"};function k_(e,t,i,n,o,s){return g(),A("div",null,[u("div",y_,[i.field.required?(g(),A("span",v_,"* ")):b("",!0),Si(w(i.field.metadata.label),1)]),u("div",b_,[s.isEditable?(g(),A("div",w_,[u("div",{ref:"wrapperDropdown",class:"wrapper-dropdown",tabindex:"0",onBlur:t[2]||(t[2]=(...r)=>s.closeSelection&&s.closeSelection(...r))},[u("div",{class:"dropdown-value noselect",onClick:t[0]||(t[0]=(...r)=>s.toggleShowSelection&&s.toggleShowSelection(...r))},[u("span",I_,w(o.displayValue),1)]),u("div",{ref:"dropdown",class:W([{"zero-width":!o.showSelection},"dropdown noselect"]),style:xt({left:o.dropdownPosition.left+"px",top:o.dropdownPosition.top+"px",width:o.dropdownPosition.width+"px"})},[u("ul",null,[(g(!0),A(B,null,xe(o.values,r=>(g(),A("li",{key:r.value,class:W({hover:o.defaultHover&&s.isSelectedValue(r.value)}),onClick:a=>s.toggleValue(r.value),onMouseenter:t[1]||(t[1]=a=>o.defaultHover=!1)},[u("span",C_,[s.isSelectedValue(r.value)?(g(),A("img",S_)):b("",!0)]),u("span",null,w(r.label),1)],42,T_))),128))])],6)],544)])):(g(),A("div",M_,w(o.displayValue),1))])])}const O_=z(A_,[["render",k_],["__scopeId","data-v-38a64ad9"]]),E_={name:"TextArea",props:{field:{type:Object,default:()=>{}}},emits:["value-change"],data(){return{value:""}},computed:{isEditable(){return this.field.mode==="e"&&this.field.metadata.updateable||this.field.mode==="n"&&this.field.metadata.createable}},watch:{field:{immediate:!0,deep:!0,handler(e){let t=e.value;t&&(this.value=t)}},value:{immediate:!0,deep:!0,handler(e){this.$emit("value-change",{fieldName:this.field.metadata.apiName,value:e})}}}},F_={class:"field-container"},N_={class:"field-label"},R_={key:0,class:"red"},V_={class:"value-section"},L_={key:0},D_=["maxlength"],x_={key:1,class:"read-only value-section"};function P_(e,t,i,n,o,s){return g(),A("div",F_,[u("div",N_,[i.field.required?(g(),A("span",R_,"* ")):b("",!0),Si(w(i.field.metadata.label),1)]),u("div",V_,[s.isEditable?(g(),A("div",L_,[yt(u("textarea",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.value=r),maxlength:i.field.metadata.length,cols:"1",rows:"2",class:"text-body"},null,8,D_),[[Xi,o.value]])])):(g(),A("div",x_,w(o.value),1))])])}const $_=z(E_,[["render",P_],["__scopeId","data-v-e776226f"]]),H_=["Influence_vod__c","Relationship_Strength_vod__c","Role_vod__c","Therapeutic_Area_vod__c"],B_={name:"ModifyAffiliation",components:{BaseModal:Dn,AffiliationDiagram:rl,Button:ot,PlatformIcon:Se,Picklist:__,MultiPicklist:O_,TextArea:$_},emits:["update-affiliation","create-affiliation","enter-node-selection","close-node-selection","account-search","close-modal"],data(){return{affValues:{},fieldsToEdit:[],saveDisabled:!0,scroll:!1}},computed:{...oe(["getVeevaMessage","getAffiliationQueryFields","getZvodAffiliationFields","getFieldMetadata","getAffiliationToEdit","getModifyAffiliationSelectMode","getModifyAffiliationMode","getChangeToAccountAction","getToAccount","getFromAccount"]),selectAffiliationMessage(){var e;return this.getVeevaMessage("SELECT_TO_ACCOUNT_AFFILIATION").replace("{0}",(e=this.getFromAccount.fields)==null?void 0:e.Formatted_Name_vod__c.value)},platform(){return"salesforce"}},created(){this.fieldsToEdit=this.getFieldsToEdit()},methods:{getFieldsToEdit(){var i,n;const e=[...H_,...this.getZvodAffiliationFields,"Comments_vod__c"],t=[];for(const o of e){const s=this.getFieldMetadata("Affiliation_vod__c",o);if(!s||this.getModifyAffiliationMode==="n"&&!s.createable)continue;this.platform==="vault"&&o==="comments__v"&&(s==null?void 0:s.dataType)==="STRING"&&(s.dataType="textarea");const r={metadata:s,mode:this.getModifyAffiliationMode,required:s.required};(((i=s.dataType)==null?void 0:i.toLowerCase())==="picklist"||((n=s.dataType)==null?void 0:n.toLowerCase())==="multipicklist")&&(r.picklistInfo=s.picklistValues),r.value=this.getAffiliationToEdit[o],t.push(r)}return t},handleSaveAffiliationClick(){this.getModifyAffiliationMode==="e"?this.updateAffiliation():this.createAffiliation()},updateAffiliation(){let e={Id:this.getAffiliationToEdit.Id};for(let t of Object.keys(this.affValues)){const i=this.getFormattedValue(t,this.getAffiliationToEdit[t]),n=this.getFormattedValue(t,this.affValues[t]);i!==n&&(e[t]=n)}this.$emit("update-affiliation",e)},createAffiliation(){let e={};e.From_Account_vod__c=this.getFromAccount.Id,e.To_Account_vod__c=this.getToAccount.Id;for(let t of Object.keys(this.affValues)){const i=this.getFormattedValue(t,this.affValues[t]);i&&i!==""&&(e[t]=i)}this.$emit("create-affiliation",e)},closeSelectMode(){this.$emit("close-node-selection"),this.getToAccount.Id||this.$emit("close-modal")},fieldValueChange(e){this.affValues[e.fieldName]=e.value,this.validate()},validate(){var t;let e=!1;for(let i of this.fieldsToEdit)if(i.required){const n=this.affValues[i.metadata.apiName];(((t=i.metadata.dataType)==null?void 0:t.toLowerCase())==="multipicklist"&&n&&n.length===0||!n)&&(e=!0)}this.saveDisabled=e},getFormattedValue(e,t){var n;let i="";return t&&(((n=this.getFieldMetadata("Affiliation_vod__c",e).dataType)==null?void 0:n.toLowerCase())==="multipicklist"?i=t.sort().join(";"):i=t),i},fireScrollEvent(){this.scroll=!this.scroll},changeToAccount(){this.getChangeToAccountAction==="node-select"?this.$emit("enter-node-selection",this.getFromAccount):this.getChangeToAccountAction==="account-search"&&this.$emit("account-search")}}},U_={class:"modify-affiliation-body"},j_={class:"field-values-container"},z_={key:0},q_={class:"select-modal"},G_={class:"select-modal-header"},W_={class:"select-modal-header-text"},K_={class:"two-line"},Y_={class:"select-modal-body"},Q_={key:0,class:"select-modal-footer"};function X_(e,t,i,n,o,s){const r=M("AffiliationDiagram"),a=M("Picklist"),l=M("MultiPicklist"),c=M("TextArea"),d=M("BaseModal"),f=M("Button"),h=M("PlatformIcon");return g(),A("div",null,[yt(I(d,{title:e.getModifyAffiliationMode==="n"?e.getVeevaMessage("ADD_AFFILIATION"):e.getVeevaMessage("EDIT_AFFILIATION"),"cancel-btn-message":e.getVeevaMessage("CANCEL"),"success-btn-message":e.getVeevaMessage("SAVE"),"disable-success":o.saveDisabled,onCancel:t[3]||(t[3]=_=>e.$emit("close-modal")),onSuccess:s.handleSaveAffiliationClick,onScroll:s.fireScrollEvent},{default:pe(()=>[u("div",U_,[I(r,{"from-account":e.getFromAccount,"to-account":e.getToAccount,"relationship-strength":o.affValues.Relationship_Strength_vod__c,influence:o.affValues.Influence_vod__c,"can-change-to-account":e.getModifyAffiliationMode==="n",onChangeToAccount:s.changeToAccount},null,8,["from-account","to-account","relationship-strength","influence","can-change-to-account","onChangeToAccount"]),u("div",j_,[(g(!0),A(B,null,xe(o.fieldsToEdit,_=>{var T,y,V;return g(),A("div",{key:_.metadata.apiName,class:"field-value"},[((T=_.metadata.dataType)==null?void 0:T.toLowerCase())==="picklist"?(g(),R(a,{key:0,field:_,scroll:o.scroll,onValueChange:t[0]||(t[0]=L=>s.fieldValueChange(L))},null,8,["field","scroll"])):((y=_.metadata.dataType)==null?void 0:y.toLowerCase())==="multipicklist"?(g(),R(l,{key:1,field:_,scroll:o.scroll,onValueChange:t[1]||(t[1]=L=>s.fieldValueChange(L))},null,8,["field","scroll"])):((V=_.metadata.dataType)==null?void 0:V.toLowerCase())==="textarea"?(g(),R(c,{key:2,field:_,onValueChange:t[2]||(t[2]=L=>s.fieldValueChange(L))},null,8,["field"])):b("",!0)])}),128))])])]),_:1},8,["title","cancel-btn-message","success-btn-message","disable-success","onSuccess","onScroll"]),[[rs,!e.getModifyAffiliationSelectMode]]),e.getModifyAffiliationSelectMode?(g(),A("div",z_,[u("div",q_,[u("div",G_,[s.platform==="ipad"?(g(),R(f,{key:0,id:"select-modal-header-cancel",label:e.getVeevaMessage("CANCEL"),onClick:s.closeSelectMode},null,8,["label","onClick"])):b("",!0),u("div",W_,[u("span",K_,w(e.getVeevaMessage("ADD_AFFILIATION")),1)]),s.platform==="vault"?(g(),R(h,{key:1,id:"vault-account-detail-header-close","file-name":"close-x","is-platform-specific":!0,onClick:s.closeSelectMode},null,8,["onClick"])):b("",!0)]),u("div",Y_,w(s.selectAffiliationMessage),1),s.platform!=="ipad"?(g(),A("div",Q_,[I(f,{label:e.getVeevaMessage("CANCEL"),onClick:s.closeSelectMode},null,8,["label","onClick"])])):b("",!0)])])):b("",!0)])}const ll=z(B_,[["render",X_],["__scopeId","data-v-70b5b4a6"]]),Z_={name:"AffiliationDeleteModal",components:{BaseModal:Dn},props:{affiliationDeleteRequest:{type:Object,required:!0}},emits:["affiliation-delete-cancel","affiliation-delete-confirm"],computed:{...oe(["getVeevaMessage"])}},J_={class:"confirm-delete-modal-body"};function eA(e,t,i,n,o,s){const r=M("BaseModal");return g(),R(r,{title:e.getVeevaMessage("DELETE_AFFILIATION"),"cancel-btn-message":e.getVeevaMessage("CANCEL"),"success-btn-message":e.getVeevaMessage("OK"),onCancel:t[0]||(t[0]=a=>e.$emit("affiliation-delete-cancel")),onSuccess:t[1]||(t[1]=a=>e.$emit("affiliation-delete-confirm",i.affiliationDeleteRequest.affiliationIdToDelete))},{default:pe(()=>[u("div",J_,w(i.affiliationDeleteRequest.deleteRequestMessage),1)]),_:1},8,["title","cancel-btn-message","success-btn-message"])}const cl=z(Z_,[["render",eA],["__scopeId","data-v-2dc3ac92"]]);class Ve{static async getInitializeData(){}static async getObjectMetadata(){}static async getLoadInitialHier(){}static async getLoadDownHier(){}static async getLoadUpHier(){}static async getBatchData(t){}static async getLoadInitialBatch(){}static async getLoadDownBatch(){}static async getLoadUpBatch(){}static async getAccountRelatedObjectLoad(t){}static async getOOHAccountLoad(t,i){}static async getAffiliationViewDataLoad(t){}static async getPerformAccountSearch(){}static getCreateRecordResponse(t,i){return{command:"createRecord",result:{id:"dummyId",success:!0},object:t,fieldData:i}}static getUpdateRecordResponse(t,i){return{command:"updateRecord",result:{id:"dummyId",success:!0},object:t,fieldData:i}}static getDeleteRecordResponse(t,i){return{command:"deleteRecord",result:{id:i,success:!0},object:t}}}const tA=e=>e.isDebugMode,iA=e=>e.isPlatformReadyToRecieveMessages,nA=e=>e.platformContainerUUID,oA=e=>e.messageService,sA=e=>e.ui.loading,rA=e=>e.ui.error,aA=e=>e.ui.errorMessage,lA=e=>e.ui.errorDetail,cA=e=>e.ui.addToTerr,dA=e=>e.modifyAffiliation.mode,fA=e=>e.modifyAffiliation.selectMode,uA=e=>e.modifyAffiliation.changeToAccountAction,hA=e=>e.modifyAffiliation.fromAccount,gA=e=>e.modifyAffiliation.toAccount,pA=e=>e.modifyAffiliation.affToEdit,mA=e=>e.query.personAccountDisplayFields,_A=e=>e.query.businessAccountDisplayFields,AA=e=>e.query.personAccountDisplayFields.filter(t=>t.split(".")[0]!=="Account").length>0,yA=e=>e.query.businessAccountDisplayFields.filter(t=>t.split(".")[0]!=="Account").length>0,vA=e=>{const t=e.query.personAccountDisplayFields.filter(s=>s.split(".")[0]==="Account").map(s=>s.split(".")[1]),i=e.query.businessAccountDisplayFields.filter(s=>s.split(".")[0]==="Account").map(s=>s.split(".")[1]),n=[];e.query.accountIdentifiers.secondary&&n.push(e.query.accountIdentifiers.secondary),e.query.accountIdentifiers.tertiary&&n.push(e.query.accountIdentifiers.tertiary);const o=new Set([...e.query.requiredAccountQueryFields,...t,...i,...n]);return Array.from(o)},bA=e=>t=>{const n=(t?e.query.personAccountDisplayFields:e.query.businessAccountDisplayFields).filter(s=>s.split(".")[0]!=="Account"),o={};for(let s of n){const[r,a]=s.split(".");o[r]?o[r].push(a):o[r]=[a]}return o},wA=e=>e.query.accountIdentifiers.secondary,IA=e=>e.query.accountIdentifiers.tertiary,TA=(e,t)=>(i,n)=>{var r,a,l;if(!i)return"";let o;if(i===Fe.SECONDARY?o=t.getAccountSecondaryIdentifier:i===Fe.TERTIARY&&(o=t.getAccountTertiaryIdentifier),!o)return"";const s=t.getFieldMetadata("Account",o);if(!s)return"";switch(s.dataType.toLowerCase()){case"picklist":{const c=(r=n.fields[o])==null?void 0:r.value;return t.getPicklistValueTranslation("Account",o,c)}}return((a=n.fields[o])==null?void 0:a.displayValue)??((l=n.fields[o])==null?void 0:l.value)},CA=e=>e.query.affiliationFieldsToQuery,SA=e=>e.query.zvodAffiliationFields,MA=e=>e.addToTerr.userTerritories,kA=e=>t=>e.addToTerr.userTerritories?e.addToTerr.userTerritories.find(i=>i.Id==t).Name:void 0,OA=e=>t=>e.objectMetadata[t],EA=e=>t=>{var i,n;return((n=(i=e.objectMetadata[t])==null?void 0:i.objectInfo)==null?void 0:n.label)??t},FA=e=>(t,i)=>{var n,o,s;return(s=(o=(n=e.objectMetadata[t])==null?void 0:n.objectInfo)==null?void 0:o.fields)==null?void 0:s[i]},NA=e=>(t,i)=>{var n,o,s,r;return((r=(s=(o=(n=e.objectMetadata[t])==null?void 0:n.objectInfo)==null?void 0:o.fields)==null?void 0:s[i])==null?void 0:r.label)??i},RA=e=>(t,i,n)=>{var r,a,l,c,d;const o=(l=(a=(r=e.objectMetadata[t])==null?void 0:r.objectInfo)==null?void 0:a.fields)==null?void 0:l[i],s=(d=(c=o==null?void 0:o.picklistValues)==null?void 0:c.find(f=>f.value===n))==null?void 0:d.label;return s||n},VA=e=>(t,i)=>{var o,s,r;const n=(r=(s=(o=e.objectMetadata[t])==null?void 0:o.objectInfo)==null?void 0:s.recordTypeInfos)==null?void 0:r[i];return n==null?void 0:n.name},LA=e=>t=>e.veevaMessages[t]?e.veevaMessages[t]:"",DA=e=>e.search.hierarchyView.term,xA=e=>e.search.affiliationView.term,PA=e=>e.appConfigOverrides.isTimelineEnabled,$A=e=>e.appConfigOverrides.isTerritoryLoadingModalEnabled,HA=e=>e.appConfigOverrides.isAddToTerritoryEnabled,BA=e=>e.appConfigOverrides.isUpdateDeleteOOTAffiliationEnabled,UA=e=>e.appConfigOverrides.hasAccessToAffiliations,jA=e=>e.appConfigOverrides.hasAccessToOOHAffiliations,zA=e=>e.appConfigOverrides.isAffiliationViewEnabled,qA=(e,t)=>{var i,n;return e.appConfigOverrides.hasAccessToAffiliations&&((n=(i=t.getObjectMetadata("Affiliation_vod__c"))==null?void 0:i.objectInfo)==null?void 0:n.createable)},GA=(e,t)=>(i,n)=>{var o,s;return!e.appConfigOverrides.isUpdateDeleteOOTAffiliationEnabled&&(!i||!n)?!1:(s=(o=t.getObjectMetadata("Affiliation_vod__c"))==null?void 0:o.objectInfo)==null?void 0:s.updateable},WA=(e,t)=>(i,n)=>{var s;if(!e.appConfigOverrides.isUpdateDeleteOOTAffiliationEnabled&&(!i||!n))return!1;const o=(s=t.getObjectMetadata("Affiliation_vod__c"))==null?void 0:s.objectInfo;return(o==null?void 0:o.deletable)&&(o==null?void 0:o.updateable)&&(o==null?void 0:o.fields.destroy_vod__c)&&(o==null?void 0:o.fields.destroy_vod__c.updateable)},KA=e=>e.filter.filterableAffiliationFields,YA=e=>e.filter.hierarchyView.selectedFilters,QA=e=>e.filter.affiliationView.selectedFilters,XA=e=>e.filter.affiliationView.avilableFilters,ZA={isDebugMode:tA,isPlatformReadyToRecieveMessages:iA,getPlatformContainerUUID:nA,getMessageService:oA,isGraphLoading:sA,getGraphErrorState:rA,getGraphErrorMessage:aA,getGraphErrorDetail:lA,getAddToTerrState:cA,getModifyAffiliationMode:dA,getModifyAffiliationSelectMode:fA,getChangeToAccountAction:uA,getFromAccount:hA,getToAccount:gA,getAffiliationToEdit:pA,getPersonAccountDisplayFields:mA,getBusinessAccountDisplayFields:_A,getShouldPersonAccountLazyLoad:AA,getShouldBusinessAccountLazyLoad:yA,getAccountQueryFields:vA,getAccountRelatedQueryFields:bA,getAccountSecondaryIdentifier:wA,getAccountTertiaryIdentifier:IA,getAccountIdentifierValue:TA,getAffiliationQueryFields:CA,getZvodAffiliationFields:SA,getIsTimelineEnabled:PA,getIsTerritoryLoadingModalEnabled:$A,getIsAddToTerritoryEnabled:HA,getIsUpdateDeleteOOTAffiliationEnabled:BA,getUserTerritories:MA,getTerritoryName:kA,getObjectMetadata:OA,getObjectLabel:EA,getFieldMetadata:FA,getFieldLabel:NA,getPicklistValueTranslation:RA,getRecordTypeName:VA,getVeevaMessage:LA,getHierarchyViewSearchTerm:DA,getAffiliationViewSearchTerm:xA,hasAccessToAffiliations:UA,hasAccessToOOHAffiliations:jA,canCreateAffiliations:qA,canEditAffiliation:GA,canDeleteAffiliation:WA,getIsAffiliationViewEnabled:zA,getFilterableAffiliationFields:KA,getHierarchyViewSelectedFilters:YA,getAffiliationViewSelectedFilters:QA,getAffiliationViewAvailableFilters:XA};function JA(e,t){e.isPlatformReadyToRecieveMessages=t}function ey(e,t){e.platformContainerUUID=t}function ty(e,t){e.messageService=t}function iy(e,t){e.ui.loading=t}function ny(e,t){e.ui.error=t}function oy(e,t){e.ui.addToTerr=t}function sy(e,t){e.ui.errorDetail=t}function ry(e,t){e.ui.errorMessage=t}function ay(e,t){let i=Object.keys(t);for(let n of i){const o=n.toUpperCase();e.veevaMessages[o]&&(e.veevaMessages[o]=t[n])}}function ly(e,t){e.addToTerr.userTerritories=t}function cy(e,t){e.objectMetadata=t}function dy(e,t){e.modifyAffiliation.mode=t}function fy(e,t){e.modifyAffiliation.selectMode=t}function uy(e,t){e.modifyAffiliation.changeToAccountAction=t}function hy(e,t){e.modifyAffiliation.fromAccount=t}function gy(e,t){e.modifyAffiliation.toAccount=t}function py(e,t){e.modifyAffiliation.affToEdit=t}function my(e,t){e.query.personAccountDisplayFields=t.personAccountDisplayFields,e.query.businessAccountDisplayFields=t.businessAccountDisplayFields,e.query.accountIdentifiers.secondary=t.accountIdentifiers.secondary,e.query.accountIdentifiers.tertiary=t.accountIdentifiers.tertiary,e.query.zvodAffiliationFields=t.customAffiliationPicklistFields}function _y(e,t){e.query.affiliationFieldsToQuery=t}function Ay(e,t){e.query.zvodAffiliationFields=t}function yy(e,t){e.search.hierarchyView.term=t}function vy(e,t){e.search.affiliationView.term=t}function by(e,t){e.appConfigOverrides.isTimelineEnabled=t}function wy(e,t){e.appConfigOverrides.isTerritoryLoadingModalEnabled=t}function Iy(e,t){e.appConfigOverrides.isAddToTerritoryEnabled=t}function Ty(e,t){e.appConfigOverrides.isUpdateDeleteOOTAffiliationEnabled=t}function Cy(e,t){e.appConfigOverrides.hasAccessToAffiliations=t}function Sy(e,t){e.appConfigOverrides.hasAccessToOOHAffiliations=t}function My(e,t){e.appConfigOverrides.isAffiliationViewEnabled=t}function ky(e,t){e.filter.filterableAffiliationFields=t}function Oy(e,t){e.filter.hierarchyView.selectedFilters=t}function Ey(e,t){e.filter.affiliationView.selectedFilters=t}function Fy(e,t){e.filter.affiliationView.avilableFilters=t}const Ny={setIsPlatformReadyToRecieveMessages:JA,setPlatformContainerUUID:ey,setMessageService:ty,setGraphLoadingState:iy,setGraphErrorState:ny,setAddToTerrState:oy,setGraphErrorDetail:sy,setGraphErrorMessage:ry,setVeevaMessages:ay,setUserTerritories:ly,setObjectMetadata:cy,setModifyAffiliationMode:dy,setModifyAffiliationSelectMode:fy,setChangeToAccountAction:uy,setFromAccount:hy,setToAccount:gy,setAffiliationToEdit:py,setDisplayFieldOverrides:my,setAffiliationQueryFields:_y,setZvodAffiliationFields:Ay,setIsTimelineEnabled:by,setIsTerritoryLoadingModalEnabled:wy,setIsAddToTerritoryEnabled:Iy,setIsUpdateDeleteOOTAffiliationEnabled:Ty,setHierarchyViewSearchTerm:yy,setAffiliationViewSearchTerm:vy,setHasAccessToAffiliations:Cy,setHasAccessToOOHAffiliations:Sy,setIsAffiliationViewEnabled:My,setFilterableAffiliationFields:ky,setHierarchyViewSelectedFilters:Oy,setAffiliationViewSelectedFilters:Ey,setAffiliationViewAvailableFilters:Fy};class Ry{constructor(){this.handler=null}sendPing(){this.sendMessage({command:"ping"})}sendInitialLoadRequest(){this.sendMessage({command:"initGraph"})}sendObjectMetadataRequest(){this.sendMessage({command:"objectMetadata"})}sendInitialHierarchyRequest(t){this.sendMessage({command:"loadInitialHierarchy",rootId:t})}sendHierarchyRequest(t,i){this.sendMessage({command:"loadHierarchy",ids:i,parentId:t})}sendParentHierarchyRequest(t){this.sendMessage({command:"loadParentHierarchy",childId:t})}sendAccountLoadRequest(t,i,n,o){this.sendMessage({command:"loadAccountBatch",batchId:t,accountIds:i,accountFields:n,affiliationFields:o})}sendAccountCount(t){this.sendMessage({command:"updateNumberAccounts",numberAccounts:t})}showAccountCount(t){this.sendMessage({command:"shouldShowAccountCount",shouldShowAccountCount:t})}sendCreateAffiliationRequest(t){this.sendMessage({command:"createRecord",object:"Affiliation_vod__c",fieldData:t})}sendUpdateAffiliationRequest(t){this.sendMessage({command:"updateRecord",object:"Affiliation_vod__c",fieldData:t})}sendDeleteAffiliationRequest(t){this.sendMessage({command:"deleteRecord",object:"Affiliation_vod__c",id:t})}sendRedirectRequest(t,i){this.sendMessage({command:"redirect",type:t,location:i})}sendAddToTerrRequest({accountId:t,terrsToAdd:i}){this.sendMessage({command:"addAccountToTerritories",accountId:t,terrsToAdd:i})}sendHasInternetConnectionRequest(){this.sendMessage({command:"hasInternetConnection"})}sendLoadRelatedAccountObjectsRequest(t,i){this.sendMessage({command:"loadAccountRelatedObjectFields",accountId:t,relatedObjectFields:i})}sendLoadOutOfHierarchyAccountsRequest(t,i,n){this.sendMessage({command:"loadOutOfHierarchyAccounts",originAccountId:t,accountIds:i,accountFields:n})}sendAffiliationViewDataRequest(t,i,n){this.sendMessage({command:"loadAffiliationViewData",rootAccountId:t,accountFields:i,affiliationFields:n})}performAccountSearch(t,i){this.sendMessage({command:"performAccountSearch",fromAccountId:t,accountFields:i})}addMessageHandler(t){window.addEventListener("message",t,!1)}sendMessage(t){t.uuid=Ae.getters.getPlatformContainerUUID,window.parent.postMessage(JSON.stringify(t),"*")}resolveMessageWithMockedData(t){switch(t.command){case"ping":this.handler({command:"ping"});break;case"initGraph":Ve.getInitializeData().then(i=>this.handler(i));break;case"objectMetadata":Ve.getObjectMetadata().then(i=>this.handler(i));break;case"loadInitialHierarchy":Ve.getLoadInitialHier().then(i=>this.handler(i));break;case"loadHierarchy":Ve.getLoadDownHier().then(i=>this.handler(i));break;case"loadParentHierarchy":Ve.getLoadUpHier().then(i=>this.handler(i));break;case"createRecord":this.handler(Ve.getCreateRecordResponse(t.object,t.fieldData));break;case"updateRecord":this.handler(Ve.getUpdateRecordResponse(t.object,t.fieldData));break;case"deleteRecord":this.handler(Ve.getDeleteRecordResponse(t.object,t.id));break;case"hasInternetConnection":this.handler({command:"hasInternetConnection",data:{hasInternetConnection:!0}});break;case"addAccountToTerritories":this.handler({command:"addAccountToTerritories",data:{accountId:t.accountId,success:!0,terrsToAdd:t.terrsToAdd}});break;case"loadAccountRelatedObjectFields":Ve.getAccountRelatedObjectLoad(t.accountId).then(i=>this.handler(i));break;case"loadOutOfHierarchyAccounts":Ve.getOOHAccountLoad(t.originAccountId,t.accountIds).then(i=>this.handler(i));break;case"loadAffiliationViewData":Ve.getAffiliationViewDataLoad(t.rootAccountId).then(i=>this.handler(i));break;case"performAccountSearch":Ve.getPerformAccountSearch().then(i=>this.handler(i));break}}}function Vy(e){e.commit("setMessageService",new Ry(!1))}function Ly(e){e.commit("setGraphLoadingState",!0)}function Dy(e){e.commit("setGraphLoadingState",!1)}function xy(e,{errorMessage:t,errorDetailMessage:i,hideLoading:n}){n&&e.commit("setGraphLoadingState",!1),e.commit("setGraphErrorMessage",t),e.commit("setGraphErrorDetail",i),e.commit("setGraphErrorState",!0)}function Py({commit:e,getters:t},{platformErrorResult:i,hideLoading:n}){n&&e("setGraphLoadingState",!1);const{errorMessage:o,errorDetail:s}=jy(i,t);e("setGraphErrorMessage",o),e("setGraphErrorDetail",s),e("setGraphErrorState",!0)}function $y(e){e.commit("setGraphErrorState",!1)}function Hy(e,{changeToAccountAction:t,fromAccount:i,toAccount:n}){e.commit("setModifyAffiliationMode","n"),e.commit("setChangeToAccountAction",t),e.commit("setFromAccount",i),e.commit("setToAccount",n),e.commit("setAffiliationToEdit",{})}function By(e,{fromAccount:t,toAccount:i,affiliation:n}){e.commit("setModifyAffiliationMode","e"),e.commit("setFromAccount",t),e.commit("setToAccount",i),e.commit("setAffiliationToEdit",n)}function Uy({commit:e,getters:t}){const i=["Id","From_Account_vod__c","To_Account_vod__c"],o=["Influence_vod__c","Relationship_Strength_vod__c","Role_vod__c","Therapeutic_Area_vod__c","Child_affiliation_vod__c","Comments_vod__c"].filter(a=>t.getFieldMetadata("Affiliation_vod__c",a)),r=["Influence_vod__c","Relationship_Strength_vod__c","Role_vod__c","Therapeutic_Area_vod__c"].filter(a=>t.getFieldMetadata("Affiliation_vod__c",a));e("setAffiliationQueryFields",[...i,...o,...t.getZvodAffiliationFields]),e("setFilterableAffiliationFields",[...r,...t.getZvodAffiliationFields])}function jy(e,t){var s,r,a,l;let i="";e.errors.length>0&&e.errors[0].body&&e.errors[0].body.message&&(i=e.errors[0].body.message),i===""&&(i=t.getVeevaMessage("AFFILIATION_ERROR"));let n="";const o=(a=(r=(s=e.errors)==null?void 0:s[0])==null?void 0:r.body)==null?void 0:a.output;if(o){if(((l=o==null?void 0:o.errors)==null?void 0:l.length)>0)for(let c of o.errors)n+=c.message+`
`;if(o!=null&&o.fieldErrors)for(const c of Object.keys(o.fieldErrors)){const d=o.fieldErrors[c];if(d&&d.length>0)for(const f of d)n+=f.message+`
`}}return{errorMessage:i,errorDetail:n}}function zy({commit:e,getters:t},i){var h,_,T;const n=t.getAffiliationViewAvailableFilters,o=i.map(y=>y.toAccount.territories).flat(),s=((h=n.accountFilters.custom.territories)==null?void 0:h.map(y=>y.value))??[],r=[...new Set([...s,...o])];n.accountFilters.custom.territories=r.map(y=>({label:y,value:y})).sort((y,V)=>y.label.localeCompare(V.label,void 0,{sensitivity:"base"}));const a=i.map(y=>y.toAccount.recordType.Id),l=((_=n.accountFilters.custom.recordTypes)==null?void 0:_.map(y=>y.value))??[],c=[...new Set([...l,...a])];n.accountFilters.custom.recordTypes=c.map(y=>({label:t.getRecordTypeName("Account",y),value:y})).sort((y,V)=>y.label.localeCompare(V.label,void 0,{sensitivity:"base"}));const d=t.getFilterableAffiliationFields,f={label:t.getVeevaMessage("NONE_NO_DASH"),value:null};for(const y of d){const V=((T=n.affiliationFilters.fieldPicklists[y])==null?void 0:T.map(x=>x.value).filter(x=>x!==null))??[],L=i.map(x=>x.fields[y]).filter(x=>x).flat(),Y=[...new Set([...V,...L])];n.affiliationFilters.fieldPicklists[y]=Y.map(x=>({label:t.getPicklistValueTranslation("Affiliation_vod__c",y,x),value:x})).sort((x,P)=>x.label.localeCompare(P.label,void 0,{sensitivity:"base"})),n.affiliationFilters.fieldPicklists[y].unshift(f)}e("setAffiliationViewAvailableFilters",n)}function qy({commit:e}){e("setAffiliationViewAvailableFilters",{accountFilters:{custom:{territories:[],recordTypes:[]}},affiliationFilters:{custom:{showAffWithInf:!0},fieldPicklists:{}}}),e("setAffiliationViewSelectedFilters",{accountFilters:{custom:{territories:[],recordTypes:[]}},affiliationFilters:{custom:{showAffWithInf:!1},fieldPicklists:{}}})}const Gy={initializeMessageService:Vy,showLoadingModal:Ly,hideLoadingModal:Dy,openErrorModalWithMessage:xy,openErrorModalAndParsePlatformResult:Py,closeErrorModal:$y,launchNewAffiliationModal:Hy,launchEditAffiliationModal:By,setAffiliationFieldsToFilterAndQuery:Uy,addToAffiliationViewFilters:zy,resetAffiliationViewFilters:qy},Ae=Kf({state:{isDebugMode:!1,isPlatformReadyToRecieveMessages:!1,platformContainerUUID:"",messageService:null,appConfigOverrides:{isTimelineEnabled:!0,isTerritoryLoadingModalEnabled:!0,isAddToTerritoryEnabled:!0,isUpdateDeleteOOTAffiliationEnabled:!0,hasAccessToAffiliations:!0,hasAccessToOOHAffiliations:!0,isAffiliationViewEnabled:!1},ui:{loading:!0,error:!1,errorDetail:"",errorMessage:""},modifyAffiliation:{mode:"e",selectMode:!1,changeToAccountAction:"",fromAccount:{},toAccount:{},affToEdit:{}},objectMetadata:{},query:{requiredAccountQueryFields:["Formatted_Name_vod__c","Primary_Parent_vod__c","Specialty_1_vod__c","Specialty_2_vod__c","Group_Specialty_1_vod__c","Group_Specialty_2_vod__c","PersonEmail","Phone"],personAccountDisplayFields:[],businessAccountDisplayFields:[],accountIdentifiers:{secondary:null,tertiary:null},affiliationFieldsToQuery:[],zvodAffiliationFields:[],filterableAffiliationFields:[]},addToTerr:{userTerritories:[]},veevaMessages:{NAVIGATE_TO_ACCOUNT:"Account Detail",NAVIGATE_TO_TIMELINE:"Account Timeline",STAKEHOLDER_NAVIGATOR_PAGE_NAME:"Stakeholder Navigator",ACCOUNT_GROUPING_FILTERS:"Account Filters",AFFILIATION_GROUPING_FILTERS:"Affiliation Filters",ALWAYS_SHOW_KEY_STAKEHOLDERS:"Always Show Key Stakeholders",ONLY_SHOW_ACCOUNTS_WITH_AFFILIATIONS:"Only Show Accounts with Affiliations",SPECIALTIES_FILTER:"Specialties",TERRITORIES_FILTER:"Territories",ONLY_SHOW_AFFILIATIONS_WITH_INFLUENCE:"Only Show Affiliations with Influence",FILTER_CLEAR_BUTTON:"Clear",FILTER_APPLY_BUTTON:"Apply",TOGGLE_AFFILIATIONS:"Toggle Affiliations",ROOT_ACCOUNT_LEGEND:"Root Account for Graph",KEY_STAKEHOLDER_LEGEND:"Key Stakeholder",UNFILTERED_PARENT_LEGEND:"Unfiltered Parent Account",CHILDREN_ICON_LEGEND:"Number of Children",AFFILIATIONS_ICON_LEGEND:"Number of Affiliations",HAS_INFLUENCE_LEGEND:"Is/Has Influence",AFFILIATION_STRENGTH_0_LEGEND:"Strength: {0}",AFFILIATION_STRENGTH_1_LEGEND:"Strength: {0}",AFFILIATION_STRENGTH_2_LEGEND:"Strength: {0}",ACCOUNT_GROUPING_LEGEND:"Account",AFFILIATION_GROUPING_LEGEND:"Affiliation",FIND_BUTTON:"Find...",AFFILIATION_STRENGTH_NONE_LEGEND:"Strength: None",NO_INFLUENCE_LEGEND:"No Influence",NO_ACCOUNT_ACCESS:"Stakeholder Navigator cannot open because you do not have access to this Account.",NO_FLS_ACCESS:`Stakeholder Navigator cannot open because you do not have access to the following:

Objects: {0}

Object Fields: {1}`,LOADING_ERROR_GENERIC:"There was a problem loading the Stakeholder Navigator. Please contact your system administrator.",LIMIT_EXCEEDED:"Stakeholder Navigator could not load all accounts or relationships due to the number of accounts and relationships that exist for the parent account.",SHOW_PRIMARY_RELATIONSHIP:"Only Show Primary HCP Relationships",SHOW_AFFILIATIONS:"Show Affiliations",MULTIPLE_RELATIONSHIPS_LEGEND:"Multiple Parent Relationships",ADD_AFFILIATION:"Add Affiliation",EDIT_AFFILIATION:"Edit Affiliation",SELECT_TO_ACCOUNT:"Select an account to affiliate. Gray-striped accounts cannot be selected.",CHANGE_TO_ACCOUNT:"Change",DELETE_AFFILIATION:"Delete Affiliation?",DELETE_AFFILIATION_MESSAGE:"Are you sure you want to delete the affiliation between {0} and {1}?",SELECTED_VALUES:"{0} values selected",AFFILIATION_ERROR:"An error occurred while trying to update the record.",NO_CONNECTION_ADD_TO_TERRITORY:"You must be connected to the internet to add an account to your territory.",STAKEHOLDER_NAVIGATOR_ACCT_PLAN_TYPES:"",STAKEHOLDER_NAVIGATOR_ACCT_TYPES:"",ALL:"All",RECORD_TYPE_LABEL:"Record Type",OK:"OK",CANCEL:"Cancel",YES:"Yes",NO:"No",EDIT:"Edit",DELETE:"Delete",SAVE:"Save",NONE:"--None--",GAS_SELECT_TERRITORIES:"Select Territories",GAS_ASSIGNMENT_SUCCESSFUL:"Territory assignment successful.",GAS_ASSIGNMENT_ERROR:"Territory assignment failed.",GAS_ADD_TO_TERRITORY:"Add to Territory",GAS_NO_TERRITORY_ALIGNED_ERROR:"Unable to assign to a territory because the user is not aligned to any territories.",CONFIRM_ADD_ACCOUNT:"Add this account to your territory?",INFO:"Info",CHILDREN:"Children",VIEW:"View",CLOSE:"Close",HIDE_ACCOUNT:"Hide Account",SHOW_ACCOUNT:"Show Account",SEARCH:"Search",SETTINGS:"Settings",FILTER:"Filter",LEGEND:"Legend",NO_AFFILIATIONS:"No Affiliations",NO_CHILD_ACCOUNTS:"No Child Accounts",SELECT_TO_ACCOUNT_AFFILIATION:"Select an account to affiliate with {0}.",DELETE_AFFILIATION_BUTTON:"Delete Affiliation",AFFILIATION_INFLUENCE:"Affiliation Influence",AFFILIATION_STRENGTH:"Affiliation Strength",NONE_NO_DASH:"None",OUTSIDE_AFFILIATIONS:"Outside Affiliations",VIEW_ALL_AFFILIATIONS:"View All Affiliations",AFFILIATION_RESULTS_COUNT:"{0} - {1} of {2} affiliations",BACK:"Back",BACK_TO_HIERARCHY_VIEW:"Back to Hierarchy View",ACCT_TYPE_LABEL:"Account Type",NO_SEARCH_RESULTS:"No results found"},filter:{filterableAffiliationFields:[],hierarchyView:{selectedFilters:{accountFilters:{custom:{showKeyStakeholder:!1,showAcctWithAff:!1,specialties:[],territories:[]}},affiliationFilters:{custom:{showAffWithInf:!1},fieldPicklists:{}}}},affiliationView:{selectedFilters:{accountFilters:{custom:{territories:[],recordTypes:[]}},affiliationFilters:{custom:{showAffWithInf:!1},fieldPicklists:{}}},avilableFilters:{accountFilters:{custom:{territories:[],recordTypes:[]}},affiliationFilters:{custom:{showAffWithInf:!0},fieldPicklists:{}}}}},search:{hierarchyView:{term:""},affiliationView:{term:""}},graph:{search:{term:""}}},getters:ZA,mutations:Ny,actions:Gy});class Wy{constructor(){this.cachedNodes={},this.cachedAffs=[],this.expandSet={},this.collapseSet={},this.c,this.nodeSelectMode=!1,this.fromAccountId=""}init(t){this.initGraph(t)}updateAffiliationDisplay(t){t?this.c.config.clinks=this.cachedAffs:this.c.config.clinks=[]}setNodeSelectMode(t,i){this.nodeSelectMode=t,i?this.fromAccountId=i:this.fromAccountId=""}updateGraphNodes(t){this.collapseArr=[],this.processNodes(t),this.c.expandCollapse("",[],this.collapseArr)}updateSingleNode(t){let i=this.createNode(t);this.c.update(i)}redrawChart(t,i){i&&this.c.get(i)!==null?this.c.center(i):(this.c.draw(),t&&this.c.fit())}removeLoadMoreNode(t){let i="loadmore-"+t;this.removeNode(i),this.redrawChart(!1)}removeLoadParentNode(t){let i="loadparent-"+t;this.removeNode(i)}setRedrawHandler(t){this.c.on("redraw",t)}setNodeOnClickHandler(t){this.c.on("click",t)}expandCollapseNodes(t,i,n){this.c.expandCollapse(t,i,n)}loadAffiliations(t){this.addAffiliations(t)}getNodeInfo(t){return this.c.getNode(t)}ping(t){this.c.ripple(t)}center(t){this.c.center(t),this.c.ripple(t)}search(t){return this.c.search(t,["field_0","field_1","field_2"],["id"])}fit(){this.c.fit()}zoomIn(){this.c.zoom(!0)}zoomOut(){this.c.zoom(!1)}initGraph(t){window.OrgChart.ESCAPE_HTML=!0,this.c=new window.OrgChart(document.getElementById("tree"),{template:"baseNode",layout:window.OrgChart.tree,enableTouch:!1,enableSearch:!1,sticky:!1,scaleMax:1.15,nodeBinding:{img_0:"img",field_0:"field_0",field_1:"field_1",field_2:"field_2",sortVal:"sortVal",numAff:"numAff",numChild:"numChild"},toolbar:{fullScreen:!1,zoom:!1,fit:!1,expandAll:!1},zoom:{speed:80,smooth:8},nodeMenu:{},tags:{loading:{template:"loadingNode"},unloadedChildren:{template:"unloadedChildren"},expandCollapse:{template:"expandCollapse"},loadParent:{template:"loadParentNode"},loadMore:{template:"loadMoreNode"},baseNodeLinked:{template:"baseNodeLinked"}},nodes:[this.createLoadingNode("root")],orderBy:"sortVal"}),this.setRedrawHandler(t.redrawHandler),this.setNodeOnClickHandler(t.nodeClick)}processNodes(t){t.Children.forEach(s=>{this.processNodes(s)});let i=this.createNode(t);const n=this.c.get(i.id)!==null,o=this.getNodeAction(i,t.isFiltered,n);this.setExpandCollapseStates(t),o!=="ignore"&&(this.addOrRemoveSupportingNodes(t),o==="add"?this.c.add(i):o=="update"?this.c.update(i):this.c.remove(i.id),this.cachedNodes[i.id]=i)}getNodeAction(t,i,n){let o="";const s=this.cachedNodes[t.id];return!n&&!i?o="add":n&&i?o="remove":n&&!i&&!this.nodeEqualityCheck(t,s)?o="update":o="ignore",o}setExpandCollapseStates(t){!t.isFiltered&&t.Children.length>0&&t.Children.forEach(i=>{(i.isCollapsed||t.isChildrenCollapsed||!i.isVisible)&&this.collapseArr.push(i.UniqueId)})}addOrRemoveSupportingNodes(t){const i="loadmore-"+t.Id,n=this.c.get(i)!==null;if(t.hasHiddenChildren&&!n){const r=this.createLoadMoreNode(t.Id);this.c.add(r)}else!t.hasHiddenChildren&&n&&this.c.remove(i);const o="loadparent-"+t.Id,s=this.c.get(o)!==null;if(t.hasUnloadedParent&&!s){const r=this.createLoadParentNode(t.Id);this.c.add(r)}else!t.hasUnloadedParent&&s&&this.c.remove(o)}addAffiliations(t){let i=[];t.forEach(n=>{const o=this.createAffiliationClink(n);i.push(o)}),this.cachedAffs=i}createAffiliationClink(t){const i=this.getClinkTemplate(t);let n=t.To_Account_vod__c,o=t.From_Account_vod__c;return t.Influence_vod__c==="Is influenced"&&(n=t.From_Account_vod__c,o=t.To_Account_vod__c),{to:n,from:o,template:i}}getClinkTemplate(t){return t.Influence_vod__c==="Has influence"||t.Influence_vod__c==="Is influenced"?"inf"+this.parseStrength(t.Relationship_Strength_vod__c):"noInf"+this.parseStrength(t.Relationship_Strength_vod__c)}parseStrength(t){let i="";return(t==="0"||t==="1"||t==="2")&&(i=t),i}createNode(t){const n=t.ChildrenIds.length>0&&t.Children.length===0&&!t.childrenLoaded?t.ChildrenIds.length:t.numberChildren,o=n>999?"999+":n+"",s=t.numberAffiliations>999?"999+":t.numberAffiliations+"",{secondaryIdentifierValue:r,tertiaryIdentifierValue:a}=this.getIdentifierValuesForNode(t);return{id:t.UniqueId,field_0:t.fields.Formatted_Name_vod__c.value??"",field_1:r??"",field_2:a??"",img:t.recordTypeResourceUrl,pid:t.ParentId,sortVal:t.sortVal,tags:this.getNodeTags(t),numChild:o,numAff:s}}getIdentifierValuesForNode(t){let i=Ae.getters.getAccountIdentifierValue(Fe.SECONDARY,t),n=Ae.getters.getAccountIdentifierValue(Fe.TERTIARY,t);return!i&&n&&(i=n,n=""),{secondaryIdentifierValue:i,tertiaryIdentifierValue:n}}getNodeTags(t){let i=[];return i.push(this.getNodeTemplate(t)),t.numberChildren>0&&(t.isChildrenCollapsed?i.push("collapsed"):i.push("expanded")),!t.meetsFilterCriteria&&!t.isInitialRoot&&i.push("filterException"),t.isInitialRoot&&i.push("initialRoot"),t.isKeyStakeholder&&i.push("keyStakeholder"),t.isSelected&&i.push("selected"),(t.ChildrenIds.length>0&&t.Children.length===0&&!t.childrenLoaded?t.ChildrenIds.length:t.numberChildren)>0&&i.push("hasChildren"),t.numberAffiliations>0&&i.push("hasAffiliation"),this.nodeSelectMode?(i.push("selectMode"),(!t.isInTerritory||t.Id===this.fromAccountId)&&i.push("disabled")):t.isInTerritory?i.push("inTerritory"):i.push("outOfTerritory"),i}getNodeTemplate(t){let i;return t.ChildrenIds.length>0&&t.Children.length===0&&!t.childrenLoaded?i="unloadedChildren":t.numberChildren>0?i="expandCollapse":t.isDuplicate?i="baseNodeLinked":i="baseNode",i}createLoadingNode(t){return{id:"loading-"+t,name:"",title:"",img:"",pid:t,tags:["loading"],sortVal:0}}createLoadMoreNode(t){return{id:"loadmore-"+t,name:"Load More",title:"",img:"",pid:t,tags:["loadMore"],sortVal:999999}}createLoadParentNode(t){return{id:"loadparent-"+t,name:"Load Parent",title:"",img:"",pid:"",tags:["loadParent"],sortVal:999999}}removeNode(t){this.c&&this.c.get(t)&&this.c.remove(t)}nodeEqualityCheck(t,i){return this.tagEqualityCheck(t.tags,i.tags)&&t.name===i.name&&t.title===i.title&&t.img===i.img&&t.pid===i.pid&&t.numChild===i.numChild&&t.numAff===i.numAff}tagEqualityCheck(t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++){let o=t[n],s=i[n];if(o!==s)return!1}return!0}}class Ky{constructor(){this.allNodes=[],this.currentValidAffs=[],this.affiliationMap={},this.nodeMapById={},this.nodeMapByAccount={},this.keyStakeholders=[],this.showAff=!1,this.chartRootId="",this.initialRootId="",this.hasTaggedInitialRoot=!1,this.EXPAND_LIMIT=10,this.affiliationFilter=new _m,this.accountFilter=new pm,this.filterValues=this.initializeFilterValues(),this.accountCount=0,this.hierarchy={},this.outOfHierarchyNodeMap={},this.affiliationIdToMirrorId={}}init(t,i){this.keyStakeholders=t,this.chartRootId=i,this.initialRootId=i}showAffiliations(){return this.showAff}addData(t){this.addDataToModel(t)}getAffiliations(){return this.currentValidAffs}toggleAffiliations(t){this.showAff=t}getTree(){let t=this.getNode(this.chartRootId);return t||(t=this.getNodesByAccount(this.chartRootId)[0]),t}expandNodeChildren(t){let i=this.getNode(t),n=[],o=0;for(let s of i.Children)s.isCollapsed&&!s.isPinned&&!i.isFiltered&&!s.isFiltered&&(o<this.EXPAND_LIMIT&&(s.isCollapsed=!1,s.isPinned=!0,n.push(s.UniqueId)),o++);return i.hasHiddenChildren=o>this.EXPAND_LIMIT,n}getNode(t){return this.nodeMapById[t]}getNodesByAccount(t){return this.nodeMapByAccount[t]??[]}setAffiliationFilter(t){const i=this.affiliationFilter.loadConfigIfHasChanged(t);return i&&this.populateNodeAffiliations(),i}setAccountFilter(t){return this.accountFilter.loadConfigIfHasChanged(t)}filterAccounts(){this.cleanNodeState(),this.applyAccountFilter(),this.postFilterProcessing(this.getTree()),this.reprocessCountsAndFlags()}filterByPrimary(t){this.accountFilter.setShowOnlyPrimary(t),this.filterAccounts()}getAvailableFilterValues(){const t=this.getAvailableAccountFilterValues(),i=this.getAvailableAffiliationFilterValues();return{accountFilters:t,affiliationFilters:i}}getAvailableAccountFilterValues(){const t=Object.keys(this.filterValues.account.territory).map(o=>({label:this.filterValues.account.territory[o].value,value:this.filterValues.account.territory[o].value})).sort((o,s)=>o.label.localeCompare(s.label,void 0,{sensitivity:"base"})),i={};for(const o of Object.keys(this.filterValues.account.specialty)){const s=this.filterValues.account.specialty[o].value;i[s]=this.filterValues.account.specialty[o]}const n=Object.keys(i).map(o=>({label:Ae.getters.getPicklistValueTranslation("Account",i[o].field,o),value:o})).sort((o,s)=>o.label.localeCompare(s.label,void 0,{sensitivity:"base"}));return{custom:{showAcctWithAff:!0,showKeyStakeholder:!0,territories:t,specialties:n}}}getAvailableAffiliationFilterValues(){const t={},i=Ae.getters.getFilterableAffiliationFields,n={label:Ae.getters.getVeevaMessage("NONE_NO_DASH"),value:null};for(const o of i)if(this.filterValues.affiliation[o]){const s=Object.values(this.filterValues.affiliation[o]).map(r=>({label:Ae.getters.getPicklistValueTranslation("Affiliation_vod__c",o,r.value),value:r.value})).sort((r,a)=>r.label.localeCompare(a.label,void 0,{sensitivity:"base"}));s.unshift(n),t[o]=s}return{custom:{showAffWithInf:!0},fieldPicklists:t}}addHierarchy(t){Object.assign(this.hierarchy,t)}getChildrenIdsFromHierarchy(t){let i=this.hierarchy[t];return i&&i.length>0?i:[]}getParentIdFromHierarchy(t){const i=Object.keys(this.hierarchy);for(let n of i){const o=this.hierarchy[n];if(o&&o.indexOf(t)>=0)return n}}setAccountsInTerritory(t,i){let n=this.getNodesByAccount(t);for(let o of n)o.isInTerritory=!0,o.recordTypeResourceUrl=this.getRecordTypeResourceUrl(o.recordType.DeveloperName,o.recordType.IsPersonType,o.isInTerritory),i.forEach(s=>o.territories.push(s)),o.territories.sort();return n}setAccountRelatedObjectFields(t,i){const n=this.getNodesByAccount(t);for(let o of n)o.shouldTriggerRelatedObjectLoad=!1,o.relatedObjectFields=i}getAccountsOOHAffiliationIds(t){const i=Object.values(this.affiliationMap).filter(o=>o.From_Account_vod__c===t).filter(o=>this.getNodesByAccount(o.To_Account_vod__c).length===0).map(o=>o.To_Account_vod__c),n=Object.values(this.affiliationMap).filter(o=>o.To_Account_vod__c===t).filter(o=>this.getNodesByAccount(o.From_Account_vod__c).length===0).map(o=>o.From_Account_vod__c);return[...new Set([...i,...n])]}setOOHAccountsAndPopulateAffiliations(t,i){const n=this.getNodesByAccount(t);for(const o of n)o.shouldTriggerOOHAffiliationLoad=!1;for(const o of i)o.recordTypeResourceUrl=this.getRecordTypeResourceUrl(o.recordType.DeveloperName,o.recordType.IsPersonType,o.isInTerritory),this.outOfHierarchyNodeMap[o.id]=o;this.populateNodeAffiliations()}initializeFilterValues(){return{account:{territory:{},specialty:{}},affiliation:{strength:{},role:{},therapeuticArea:{}}}}addDataToModel(t){let i=this.processNodes(t.accounts);if(this.markNodesLoaded(t.initialAccounts),t.newGraphRoot){let n=this.getTree();this.updateChartRootNode(n,t.newGraphRoot),i.push(n)}if(t.rootHasUnloadedParent){let n=this.getTree();n.ParentId="loadparent-"+this.chartRootId,n.hasUnloadedParent=!0}this.processAffiliations(t.affiliations),this.buildTreeModel(i,this.chartRootId),this.filterAccounts(),this.setChildrenVisibility(this.getTree())}markNodesLoaded(t){for(let i of t){let n=this.getNode(i);n&&(n.childrenLoaded=!0)}}updateChartRootNode(t,i){t.hasUnloadedParent=!1,t.ParentId=i,t.sortVal=-1,this.chartRootId=i}processNodes(t){let i=[];return t.forEach(n=>{let o=this.processNode(n);o&&i.push(o)}),i}processNode(t){let i=this.createNode(t);if(!this.getNode(i.UniqueId))return this.populateAccountFilterValues(i),this.allNodes.push(i),this.addNodeToAccountMap(i),this.nodeMapById[i.UniqueId]=i,i}addNodeToAccountMap(t){let i=this.getNodesByAccount(t.Id);i.push(t),i.length===1&&(this.nodeMapByAccount[t.Id]=i)}populateAccountFilterValues(t){var r,a,l,c;t.territories&&t.territories.length>0&&t.territories.forEach(d=>{const f=this.createFilterValue(d,"territory");this.filterValues.account.territory[f.key]=f});const i=(r=t.fields.Specialty_1_vod__c)==null?void 0:r.value,n=(a=t.fields.Specialty_2_vod__c)==null?void 0:a.value,o=(l=t.fields.Group_Specialty_1_vod__c)==null?void 0:l.value,s=(c=t.fields.Group_Specialty_2_vod__c)==null?void 0:c.value;if(i){const d=this.createFilterValue(i,"Specialty_1_vod__c");this.filterValues.account.specialty[d.key]=d}if(n){const d=this.createFilterValue(n,"Specialty_2_vod__c");this.filterValues.account.specialty[d.key]=d}if(o){const d=this.createFilterValue(o,"Group_Specialty_1_vod__c");this.filterValues.account.specialty[d.key]=d}if(s){const d=this.createFilterValue(s,"Group_Specialty_2_vod__c");this.filterValues.account.specialty[d.key]=d}}populateAffiliationFilterValues(t){const i=Ae.getters.getFilterableAffiliationFields;for(const n of i){const o=t[n];if(o){if(typeof o=="string"){const s=this.createFilterValue(t[n],n);this.filterValues.affiliation[n]||(this.filterValues.affiliation[n]={}),this.filterValues.affiliation[n][s.key]=s}else if(Array.isArray(o))for(const s of o){const r=this.createFilterValue(s,n);this.filterValues.affiliation[n]||(this.filterValues.affiliation[n]={}),this.filterValues.affiliation[n][r.key]=r}}}}createFilterValue(t,i){return{value:t,field:i,key:t+"-"+i}}createNode(t){let i=t;return i.shouldTriggerRelatedObjectLoad=i.recordType.IsPersonType?Ae.getters.getShouldPersonAccountLazyLoad:Ae.getters.getShouldBusinessAccountLazyLoad,i.shouldTriggerOOHAffiliationLoad=!1,i.Id=i.id,i.isSelected=!1,i.sortVal=0,i.isKeyStakeholder=this.keyStakeholders.indexOf(i.Id)>-1,!this.hasTaggedInitialRoot&&i.Id===this.initialRootId?(i.isInitialRoot=!0,this.hasTaggedInitialRoot=!0):i.isInitialRoot=!1,i.isInitiallyInTerritory=t.isInTerritory,i.isInTerritory=t.isInTerritory,i.recordTypeResourceUrl=this.getRecordTypeResourceUrl(i.recordType.DeveloperName,i.recordType.IsPersonType,i.isInTerritory),i.ParentId=t.parentId,i.territories=t.territories??[],i.UniqueId=i.recordType.IsPersonType?i.Id+"-"+i.ParentId:i.Id,i.parentIsPrimary=!i.recordType.IsPersonType||i.ParentId===i.fields.Primary_Parent_vod__c.value,i.isBestChild=!1,i.isDuplicate=!1,i.hasUnloadedParent=!1,i.ChildrenIds=this.getChildrenIdsFromHierarchy(i.Id),i.Children=[],i.Affiliations=[],i.numberChildren=0,i.numberAffiliations=0,i.childrenLoaded=!1,i.isVisible=!1,i.isCollapsed=!i.Id===this.chartRootId,i.isChildrenCollapsed=!1,i.hasHiddenChildren=!1,i.isPinned=i.Id===this.chartRootId,i.meetsFilterCriteria=!1,i.isFiltered=!0,this.accountCount++,i}processAffiliations(t){t.forEach(i=>{this.createAffiliation(i)}),this.populateNodeAffiliations()}createAffiliation(t){const i=t.From_Account_vod__c,n=t.To_Account_vod__c,o=t.Role_vod__c??"",s=`${n}-${i}-${o}`,r=`${i}-${n}-${o}`;if(!this.affiliationMap[s]&&!this.affiliationMap[r]){let a={};for(let l of Object.keys(t))a[l]=this.getAffiliationFieldValue(l,t);this.affiliationMap[s]=a,Ae.getters.getIsAffiliationViewEnabled&&this.cacheAffiliationIdToMirrorId(a.Id,a.Child_affiliation_vod__c)}}cacheAffiliationIdToMirrorId(t,i){t&&i&&(this.affiliationIdToMirrorId[t]=i,this.affiliationIdToMirrorId[i]=t)}getAffiliationFieldValue(t,i){var s;let n="";const o=Ae.getters.getFieldMetadata("Affiliation_vod__c",t);if(o){const r=i[t]??"";((s=o.dataType)==null?void 0:s.toLowerCase())==="multipicklist"?r===""?n=[]:n=r.split(";"):n=r}return n}updateAffiliationData(t,i){Object.keys(i).forEach(n=>{t[n]=this.getAffiliationFieldValue(n,i)})}updateMirrorAffiliationData(t,i){i.Influence_vod__c&&(i.Influence_vod__c==="Is influenced"?i.Influence_vod__c="Has influence":i.Influence_vod__c==="Has influence"&&(i.Influence_vod__c="Is influenced")),this.updateAffiliationData(t,i)}deleteAffiliation(t){Object.keys(this.affiliationMap).forEach(n=>{this.affiliationMap[n].Id===t&&delete this.affiliationMap[n]}),this.populateNodeAffiliations(),this.reprocessCountsAndFlags()}addAffiliation(t){this.createAffiliation(t),this.populateNodeAffiliations(),this.reprocessCountsAndFlags()}updateAffiliation(t){const i=t.Id,n=this.affiliationIdToMirrorId[i];Object.keys(this.affiliationMap).forEach(s=>{let r=this.affiliationMap[s];r.Id===i?this.updateAffiliationData(r,t):r.Id===n&&this.updateMirrorAffiliationData(r,t)}),this.populateNodeAffiliations()}populateNodeAffiliations(){this.clearNodeAffiliationData(),this.currentValidAffs=[],Object.keys(this.affiliationMap).forEach(i=>{let n=this.affiliationMap[i],o=this.getNodesByAccount(n.From_Account_vod__c),s=this.getNodesByAccount(n.To_Account_vod__c),r=this.outOfHierarchyNodeMap[n.To_Account_vod__c],a=this.outOfHierarchyNodeMap[n.From_Account_vod__c];if(o.length>0&&s.length>0){if(this.populateAffiliationFilterValues(n),this.affiliationFilter.meetsCriteria(n))for(let l of s)for(let c of o){let d=this.cloneAffiliation(n);d.ToAcct=l,d.FromAcct=c,d.To_Account_vod__c=l.UniqueId,d.From_Account_vod__c=c.UniqueId,d.isInHierarchy=!0,d.UniqueId=`${d.Id}--${l.UniqueId}--${c.UniqueId}`,this.currentValidAffs.push(d),c.Affiliations.push(d),l.Affiliations.push(d)}}else if(o.length>0&&r||s.length>0&&a)this.appendAffiliationsToOOHAccounts(n,o,s,r,a);else if(o.length>0&&s.length===0||o.length==0&&s.length>0)for(const l of[...o,...s])l.shouldTriggerOOHAffiliationLoad=!0})}appendAffiliationsToOOHAccounts(t,i,n,o,s){for(const r of i){let a=this.cloneAffiliation(t);a.FromAcct=r,a.ToAcct=o,a.From_Account_vod__c=r.UniqueId,a.To_Account_vod__c=o.id,a.UniqueId=`${a.Id}--${o.id}--${r.UniqueId}`,a.isInHierarchy=!1,r.Affiliations.push(a)}for(const r of n){let a=this.cloneAffiliation(t);a.FromAcct=s,a.ToAcct=r,a.From_Account_vod__c=s.id,a.To_Account_vod__c=r.UniqueId,a.UniqueId=`${a.Id}--${r.UniqueId}--${s.id}`,a.isInHierarchy=!1,r.Affiliations.push(a)}}cloneAffiliation(t){let i={};for(const n of Object.keys(t))i[n]=t[n];return i}parseStrengthToInt(t){let i=parseInt(t);return isNaN(i)||i<0?i=0:i>3&&(i=3),i}clearNodeAffiliationData(){Object.keys(this.nodeMapById).forEach(i=>{this.getNode(i).Affiliations=[]})}removeUnloadedChildrenFlag(t){let i=this.getNode(t);i&&(i.hasUnloadedChildren=!1)}buildTreeModel(t,i){t.forEach(n=>{if(!(i===n.Id)){let s=this.getNode(n.ParentId);s&&s.Children.push(n)}})}postFilterProcessing(t){let i=t.Children;if(i.length>0){t.childrenSorted||(i.sort(this.sortChildrenComparator),t.childrenSorted=!0);let n=0,o=0;for(let s=0;s<i.length;s++){let r=i[s];r.sortVal=s,r.isFiltered||o++,(!t.isVisible||t.isChildrenCollapsed)&&(r.isVisible=!1),!r.isFiltered&&!r.isPinned&&r.isCollapsed&&(n++,n<=this.EXPAND_LIMIT?r.isCollapsed=!1:t.hasHiddenChildren=!0),this.postFilterProcessing(r)}t.numberChildren=o}}setChildrenVisibility(t){t.Children.forEach(i=>{i.isVisible=!t.isChildrenCollapsed&&!t.isCollapsed&&t.isVisible,this.setChildrenVisibility(i)})}sortChildrenComparator(t,i){if(t.sortVal<i.sortVal)return-1;if(t.sortVal>i.sortVal)return 1;if(!t.recordType.IsPersonType&&i.recordType.IsPersonType)return-1;if(t.recordType.IsPersonType&&!i.recordType.IsPersonType)return 1;{let n=t.fields.Formatted_Name_vod__c.value.toUpperCase(),o=i.fields.Formatted_Name_vod__c.value.toUpperCase();return n<o?-1:n>o?1:0}}cleanNodeState(){this.allNodes.forEach(t=>{t.isPinned||(t.isCollapsed=t.UniqueId!==this.chartRootId),t.isVisible=!0,t.meetsFilterCriteria=!1,t.isFiltered=!0,t.hasHiddenChildren=!1,t.isBestChild=!1,t.isDuplicate=!1}),Object.keys(this.nodeMapByAccount).forEach(t=>{const i=this.getNodesByAccount(t);this.setBestChildForAccounts(i)})}setBestChildForAccounts(t){let i=t[0];if(t.length>1)for(let n=1;n<t.length;n++){let o=t[n];(o.parentIsPrimary||o.fields.Formatted_Name_vod__c.value.toUpperCase()<i.fields.Formatted_Name_vod__c.value.toUpperCase())&&(i=o)}i.isBestChild=!0}applyAccountFilter(){this.allNodes.forEach(t=>{const i=t.ChildrenIds.length>0&&t.Children.length==0&&!t.childrenLoaded||t.isInitialRoot,n=this.accountFilter.meetsCriteria(t);t.meetsFilterCriteria=n,(n||i)&&(t.isFiltered=!1,this.markParentsAsNotFiltered(t))})}markParentsAsNotFiltered(t){let i=this.getNode(t.ParentId);i&&i.isFiltered&&(i.isFiltered=!1,this.markParentsAsNotFiltered(i))}getRecordTypeResourceUrl(t,i,n){let o="";switch(t){case"Business_Professional_vod":o="business_professional";break;case"Professional_vod":o="professional";break;case"MCOPlan_vod":case"MCO_vod":o="mco";break;case"Practice_vod":o="private_practice";break;case"Hospital_vod":case"HospitalDepartment_vod":o="hospital";break;case"Pharmacy_vod":o="pharmacy";break;case"Laboratory_vod":o="laboratory";break;case"Organization_vod":case"Board_vod":o="board";break;case"Employer_vod":o="employer";break;case"ExtendedCare_vod":o="ambulatory";break;case"Institution_vod":o="institution";break;case"Publication_vod":o="publication";break;case"KOL_vod":o="kol";break;case"Wholesaler_vod":o="wholesaler";break;case"Government_Agency_vod":o="government";break;case"Distributor_vod":case"Distributor_Branch_vod":o="distributor";break;case"PersonAccount":o="person";break;default:i?o="person":o="business"}return n||(o+="-oot"),`icons/common/recordTypes/${o}.svg`}getAccountCount(){return this.accountCount}reprocessCountsAndFlags(){Object.keys(this.nodeMapByAccount).forEach(t=>{const i=this.getNodesByAccount(t),n=i.length>1&&!this.accountFilter.shouldShowOnlyPrimary();for(let o of i)o.isDuplicate=n,this.calculateAffCounts(o)})}calculateAffCounts(t){const i=t.Affiliations.filter(n=>!(t.UniqueId===n.To_Account_vod__c?n.FromAcct:n.ToAcct).isFiltered).filter(n=>n.isInHierarchy).length;t.numberAffiliations=i??0}}class Yy{constructor(t,i,n,o){this.loadComplete=!1,this.batches=this.createAccountBatches(t),this.rootHasUnloadedParent=i,this.newGraphRoot=n,this.accounts=[],this.affiliations=[],this.initialAccounts=o}createAccountBatches(t){let i=1e3,n=[],o=Math.ceil(t.length/i);for(let s=0;s<o;s++){let r=t.slice(s*i,(s+1)*i);n.push(this.createBatch(r))}return n}createBatch(t){return{batchId:t[0],accounts:t,isLoaded:!1}}getBatch(t){for(let i of this.batches)if(i.batchId==t)return i}isLoadComplete(){for(let t of this.batches)if(!t.isLoaded)return!1;return!0}loadBatch(t){let i=this.getBatch(t.batchId);return i&&!i.isLoaded&&(t.accounts&&(this.accounts=this.accounts.concat(t.accounts)),t.affiliations&&(this.affiliations=this.affiliations.concat(t.affiliations)),i.isLoaded=!0),this.isLoadComplete()}getData(){return{accounts:this.accounts,affiliations:this.affiliations,rootHasUnloadedParent:this.rootHasUnloadedParent,newGraphRoot:this.newGraphRoot,initialAccounts:this.initialAccounts}}getBatches(){return this.batches}}class Qy{constructor(){this.chart=new Wy,this.dataModel=new Ky,this.selected="none",this.accountLoader}init(t,i,n){this.dataModel.init(i,n),this.chart.init(t)}loadHierarchy(t,i){this.dataModel.addHierarchy(t.hierarchy);let n=[];i?n=this.getAccountsToLoadInitial(t.rootAccounts,t.hierarchy,t.depth):t.newGraphRoot?n=this.getAccountsToLoadUp(t.newGraphRoot,this.dataModel.getTree().Id,t.hierarchy):n=this.getAccountsToLoadDown(t.rootAccounts,t.parentId);let o=this.removeExistingNodes(n);const s=this.getLoadedAccounts(t,i);return o.length===0&&this.cancelLoadEvent(t,s),this.accountLoader=new Yy(o,t.rootHasUnloadedParent,t.newGraphRoot,s),this.accountLoader.getBatches()}getLoadedAccounts(t,i){let n=[];return t.newGraphRoot?n.push(t.newGraphRoot):t.rootAccounts&&t.rootAccounts.length>0&&(i?t.depth===2?n=t.rootAccounts.concat(this.dataModel.getChildrenIdsFromHierarchy(t.rootAccounts[0])):n=t.rootAccounts:n.push(t.parentId)),n}processLoadBatch(t){const i=this.accountLoader.loadBatch(t);return i&&this.addData(this.accountLoader.getData()),i}addData(t){this.dataModel.addData(t),this.updateNodes(t.rootId)}updateNodes(t){this.chart.updateGraphNodes(this.dataModel.getTree()),this.chart.loadAffiliations(this.dataModel.getAffiliations()),this.chart.updateAffiliationDisplay(this.dataModel.showAffiliations()),this.chart.redrawChart(!1,t)}toggleAffiliations(t){this.dataModel.toggleAffiliations(t),this.chart.updateAffiliationDisplay(this.dataModel.showAffiliations()),this.chart.redrawChart(!1)}toggleShowPrimary(t){this.dataModel.filterByPrimary(t),this.chart.updateGraphNodes(this.dataModel.getTree()),this.chart.updateAffiliationDisplay(this.dataModel.showAffiliations()),this.chart.redrawChart(!1)}removeExistingNodes(t){let i=[];return t.forEach(n=>{this.dataModel.getNode(n)||i.push(n)}),i}cancelLoadEvent(t,i){if(t.newGraphRoot){let n=this.dataModel.getTree();n.hasUnloadedParent=!1,this.chart.removeLoadParentNode(this.dataModel.getTree().UniqueId)}else i.forEach(n=>{let o=this.dataModel.getNode(n);o.childrenLoaded=!0})}getAccountsToLoadInitial(t,i,n){let o=[],s=[];return t.forEach(r=>{const a=i[r];a&&a.length>0&&a.forEach(l=>{s.push(l+"-"+r),o.push(l)}),s.push(r+"-root")}),n===2&&o.forEach(r=>{const a=i[r];a&&a.length>0&&a.forEach(l=>{s.push(l+"-"+r)})}),s}getAccountsToLoadUp(t,i,n){if(this.dataModel.getNodesByAccount(t).length>0)return[];let o=[t+"-root"];const s=n[t];return s&&s.forEach(r=>{r!==i&&o.push(r+"-"+t)}),o}getAccountsToLoadDown(t,i){let n=[];for(let o of t)n.push(o+"-"+i);return n}expandCollapseNodes(t){let i=this.dataModel.getNode(t);const n=i.isChildrenCollapsed,o=this.getUncollapsedNodes(i);n?(i.isChildrenCollapsed=!1,this.dataModel.setChildrenVisibility(i),this.chart.expandCollapseNodes("",o,[])):(i.isChildrenCollapsed=!0,this.dataModel.setChildrenVisibility(i),this.chart.expandCollapseNodes("",[],o)),this.chart.updateSingleNode(i),this.chart.redrawChart(!1)}getUncollapsedNodes(t){let i=[];return t.hasHiddenChildren&&i.push("loadmore-"+t.UniqueId),t.Children.forEach(n=>{n.isCollapsed||i.push(n.UniqueId)}),i}toggleAccountVisibility(t){let i=this.dataModel.getNode(t);if(!i||this.dataModel.chartRootId===t)return;if(i.isPinned=!0,i.isCollapsed||!i.isVisible){if(i.ParentId&&i.ParentId!=="root"){let o=this.dataModel.getNode(i.ParentId);this.expandChain(o)}i.isCollapsed&&this.expandSingleNode(i),this.chart.ping(t)}else this.chart.expandCollapseNodes("",[],[t]),i.isCollapsed=!0,this.dataModel.setChildrenVisibility(i)}expandSingleNode(t){let i=[];!t.isChildrenCollapsed&&t.Children.length>0&&i.push(...this.getUncollapsedNodes(t)),i.push(t.UniqueId),this.chart.expandCollapseNodes("",i,t.Children.map(n=>n.UniqueId)),t.isCollapsed=!1,this.dataModel.setChildrenVisibility(t)}expandChain(t){if(t&&(t.isCollapsed||!t.isVisible||t.isChildrenCollapsed)){if(t.ParentId&&t.ParentId!=="root"){let i=this.dataModel.getNode(t.ParentId);this.expandChain(i)}if(t.isCollapsed&&this.expandSingleNode(t),t.isChildrenCollapsed){const i=this.getUncollapsedNodes(t);t.isChildrenCollapsed=!1,this.chart.updateSingleNode(t),this.dataModel.setChildrenVisibility(t),this.chart.expandCollapseNodes("",i,[])}}}nodeClickHandler(t,i){let n="detailView";const o=i.node.id,s=o.split("-");if(s[0]==="loadmore"){this.chart.ping(o);let r=this.dataModel.getNode(s[1]);r&&this.expandSiblings(r.UniqueId,r.ParentId),n="loadMore"}else s[0]==="loadparent"&&(n="loadParent");return n}processFilterRequest(t){const i=this.dataModel.setAffiliationFilter(t.affiliationFilters),n=this.dataModel.setAccountFilter(t.accountFilters);i&&this.chart.loadAffiliations(this.dataModel.getAffiliations()),(n||i)&&(this.dataModel.filterAccounts(),this.chart.updateGraphNodes(this.dataModel.getTree()),this.chart.updateAffiliationDisplay(this.dataModel.showAffiliations()),this.chart.redrawChart(!1))}expandSiblings(t){const i=this.dataModel.expandNodeChildren(t);this.dataModel.getNode(t).hasHiddenChildren||this.chart.removeLoadMoreNode(t),i.forEach(o=>{let s=this.dataModel.getNode(o);this.expandSingleNode(s)})}deleteAffiliation(t){this.dataModel.deleteAffiliation(t),this.updateNodes()}createAffiliation(t){this.dataModel.addAffiliation(t),this.updateNodes()}updateAffiliation(t){this.dataModel.updateAffiliation(t),this.updateNodes()}getNodeCopyForAccountDetail(t){const i=this.dataModel.getNode(t);return{...i,Children:i.Children.map(o=>({...o})),Affiliations:i.Affiliations.map(o=>({...o}))}}getNodeDataModel(t){return this.dataModel.getNode(t)}navigateGraphFollowingBatchLoad(t,i){switch(t){case Nt.INITIAL:this.chart.fit();break;case Nt.UP:this.chart.fit();break;case Nt.DOWN:try{this.chart.center(i)}catch{}break}}fit(){this.chart.fit()}zoomIn(){this.chart.zoomIn()}zoomOut(){this.chart.zoomOut()}updateNodeSelected(t,i){let n=this.dataModel.getNode(t);n.isSelected=i,this.chart.updateSingleNode(n)}setAccountInTerritory(t,i){let n=this.dataModel.setAccountsInTerritory(t,i);for(let o of n)this.chart.updateSingleNode(o);this.chart.redrawChart(!1)}setAccountRelatedObjectFields(t,i){this.dataModel.setAccountRelatedObjectFields(t,i)}getAccountsOOHAffiliationIds(t){return this.dataModel.getAccountsOOHAffiliationIds(t)}setOOHAccountsAndPopulateAffiliations(t,i){this.dataModel.setOOHAccountsAndPopulateAffiliations(t,i)}selectAccount(t){this.selected!=="none"&&this.updateNodeSelected(this.selected,!1),this.selected=t,this.updateNodeSelected(this.selected,!0),this.chart.redrawChart(!1)}deselectAccount(){this.selected!=="none"&&(this.updateNodeSelected(this.selected,!1),this.chart.redrawChart(!1))}pingAccount(t){let i=this.dataModel.getNode(t);(i.isCollapsed||!i.isVisible)&&this.toggleAccountVisibility(t),this.chart.center(t)}getSearchResult(t){if(!t||t==="")return[];const i=this.chart.search(t);let n=[];return i.forEach(o=>{if(o&&o.id){let s=this.dataModel.getNode(o.id);s&&n.push(s)}}),n}getAvailableFilterValues(){return this.dataModel.getAvailableFilterValues()}getAccountCount(){return this.dataModel.getAccountCount()}getNodesToLoad(t){return this.dataModel.getNode(t).ChildrenIds}enterNodeSelectMode(t){this.chart.setNodeSelectMode(!0,t),this.chart.updateGraphNodes(this.dataModel.getTree()),this.chart.redrawChart(!1)}leaveNodeSelectMode(){this.chart.setNodeSelectMode(!1),this.chart.updateGraphNodes(this.dataModel.getTree()),this.chart.redrawChart(!1)}}var Xy={value:()=>{}};function dl(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new en(i)}function en(e){this._=e}function Zy(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",o=i.indexOf(".");if(o>=0&&(n=i.slice(o+1),i=i.slice(0,o)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}en.prototype=dl.prototype={constructor:en,on:function(e,t){var i=this._,n=Zy(e+"",i),o,s=-1,r=n.length;if(arguments.length<2){for(;++s<r;)if((o=(e=n[s]).type)&&(o=Jy(i[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<r;)if(o=(e=n[s]).type)i[o]=mr(i[o],e.name,t);else if(t==null)for(o in i)i[o]=mr(i[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new en(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var i=new Array(o),n=0,o,s;n<o;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,o=s.length;n<o;++n)s[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,s=n.length;o<s;++o)n[o].value.apply(t,i)}};function Jy(e,t){for(var i=0,n=e.length,o;i<n;++i)if((o=e[i]).name===t)return o.value}function mr(e,t,i){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=Xy,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var To="http://www.w3.org/1999/xhtml";const _r={svg:"http://www.w3.org/2000/svg",xhtml:To,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xn(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),_r.hasOwnProperty(t)?{space:_r[t],local:e}:e}function ev(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===To&&t.documentElement.namespaceURI===To?t.createElement(e):t.createElementNS(i,e)}}function tv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fl(e){var t=xn(e);return(t.local?tv:ev)(t)}function iv(){}function _s(e){return e==null?iv:function(){return this.querySelector(e)}}function nv(e){typeof e!="function"&&(e=_s(e));for(var t=this._groups,i=t.length,n=new Array(i),o=0;o<i;++o)for(var s=t[o],r=s.length,a=n[o]=new Array(r),l,c,d=0;d<r;++d)(l=s[d])&&(c=e.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Pe(n,this._parents)}function ul(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ov(){return[]}function hl(e){return e==null?ov:function(){return this.querySelectorAll(e)}}function sv(e){return function(){return ul(e.apply(this,arguments))}}function rv(e){typeof e=="function"?e=sv(e):e=hl(e);for(var t=this._groups,i=t.length,n=[],o=[],s=0;s<i;++s)for(var r=t[s],a=r.length,l,c=0;c<a;++c)(l=r[c])&&(n.push(e.call(l,l.__data__,c,r)),o.push(l));return new Pe(n,o)}function gl(e){return function(){return this.matches(e)}}function pl(e){return function(t){return t.matches(e)}}var av=Array.prototype.find;function lv(e){return function(){return av.call(this.children,e)}}function cv(){return this.firstElementChild}function dv(e){return this.select(e==null?cv:lv(typeof e=="function"?e:pl(e)))}var fv=Array.prototype.filter;function uv(){return Array.from(this.children)}function hv(e){return function(){return fv.call(this.children,e)}}function gv(e){return this.selectAll(e==null?uv:hv(typeof e=="function"?e:pl(e)))}function pv(e){typeof e!="function"&&(e=gl(e));for(var t=this._groups,i=t.length,n=new Array(i),o=0;o<i;++o)for(var s=t[o],r=s.length,a=n[o]=[],l,c=0;c<r;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Pe(n,this._parents)}function ml(e){return new Array(e.length)}function mv(){return new Pe(this._enter||this._groups.map(ml),this._parents)}function fn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}fn.prototype={constructor:fn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _v(e){return function(){return e}}function Av(e,t,i,n,o,s){for(var r=0,a,l=t.length,c=s.length;r<c;++r)(a=t[r])?(a.__data__=s[r],n[r]=a):i[r]=new fn(e,s[r]);for(;r<l;++r)(a=t[r])&&(o[r]=a)}function yv(e,t,i,n,o,s,r){var a,l,c=new Map,d=t.length,f=s.length,h=new Array(d),_;for(a=0;a<d;++a)(l=t[a])&&(h[a]=_=r.call(l,l.__data__,a,t)+"",c.has(_)?o[a]=l:c.set(_,l));for(a=0;a<f;++a)_=r.call(e,s[a],a,s)+"",(l=c.get(_))?(n[a]=l,l.__data__=s[a],c.delete(_)):i[a]=new fn(e,s[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(h[a])===l&&(o[a]=l)}function vv(e){return e.__data__}function bv(e,t){if(!arguments.length)return Array.from(this,vv);var i=t?yv:Av,n=this._parents,o=this._groups;typeof e!="function"&&(e=_v(e));for(var s=o.length,r=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var d=n[c],f=o[c],h=f.length,_=wv(e.call(d,d&&d.__data__,c,n)),T=_.length,y=a[c]=new Array(T),V=r[c]=new Array(T),L=l[c]=new Array(h);i(d,f,y,V,L,_,t);for(var Y=0,x=0,P,de;Y<T;++Y)if(P=y[Y]){for(Y>=x&&(x=Y+1);!(de=V[x])&&++x<T;);P._next=de||null}}return r=new Pe(r,n),r._enter=a,r._exit=l,r}function wv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Iv(){return new Pe(this._exit||this._groups.map(ml),this._parents)}function Tv(e,t,i){var n=this.enter(),o=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),i==null?s.remove():i(s),n&&o?n.merge(o).order():o}function Cv(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,o=i.length,s=n.length,r=Math.min(o,s),a=new Array(o),l=0;l<r;++l)for(var c=i[l],d=n[l],f=c.length,h=a[l]=new Array(f),_,T=0;T<f;++T)(_=c[T]||d[T])&&(h[T]=_);for(;l<o;++l)a[l]=i[l];return new Pe(a,this._parents)}function Sv(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],o=n.length-1,s=n[o],r;--o>=0;)(r=n[o])&&(s&&r.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(r,s),s=r);return this}function Mv(e){e||(e=kv);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var i=this._groups,n=i.length,o=new Array(n),s=0;s<n;++s){for(var r=i[s],a=r.length,l=o[s]=new Array(a),c,d=0;d<a;++d)(c=r[d])&&(l[d]=c);l.sort(t)}return new Pe(o,this._parents).order()}function kv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ov(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ev(){return Array.from(this)}function Fv(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],o=0,s=n.length;o<s;++o){var r=n[o];if(r)return r}return null}function Nv(){let e=0;for(const t of this)++e;return e}function Rv(){return!this.node()}function Vv(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var o=t[i],s=0,r=o.length,a;s<r;++s)(a=o[s])&&e.call(a,a.__data__,s,o);return this}function Lv(e){return function(){this.removeAttribute(e)}}function Dv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xv(e,t){return function(){this.setAttribute(e,t)}}function Pv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $v(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function Hv(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Bv(e,t){var i=xn(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?Dv:Lv:typeof t=="function"?i.local?Hv:$v:i.local?Pv:xv)(i,t))}function _l(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Uv(e){return function(){this.style.removeProperty(e)}}function jv(e,t,i){return function(){this.style.setProperty(e,t,i)}}function zv(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function qv(e,t,i){return arguments.length>1?this.each((t==null?Uv:typeof t=="function"?zv:jv)(e,t,i??"")):ei(this.node(),e)}function ei(e,t){return e.style.getPropertyValue(t)||_l(e).getComputedStyle(e,null).getPropertyValue(t)}function Gv(e){return function(){delete this[e]}}function Wv(e,t){return function(){this[e]=t}}function Kv(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function Yv(e,t){return arguments.length>1?this.each((t==null?Gv:typeof t=="function"?Kv:Wv)(e,t)):this.node()[e]}function Al(e){return e.trim().split(/^|\s+/)}function As(e){return e.classList||new yl(e)}function yl(e){this._node=e,this._names=Al(e.getAttribute("class")||"")}yl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vl(e,t){for(var i=As(e),n=-1,o=t.length;++n<o;)i.add(t[n])}function bl(e,t){for(var i=As(e),n=-1,o=t.length;++n<o;)i.remove(t[n])}function Qv(e){return function(){vl(this,e)}}function Xv(e){return function(){bl(this,e)}}function Zv(e,t){return function(){(t.apply(this,arguments)?vl:bl)(this,e)}}function Jv(e,t){var i=Al(e+"");if(arguments.length<2){for(var n=As(this.node()),o=-1,s=i.length;++o<s;)if(!n.contains(i[o]))return!1;return!0}return this.each((typeof t=="function"?Zv:t?Qv:Xv)(i,t))}function eb(){this.textContent=""}function tb(e){return function(){this.textContent=e}}function ib(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function nb(e){return arguments.length?this.each(e==null?eb:(typeof e=="function"?ib:tb)(e)):this.node().textContent}function ob(){this.innerHTML=""}function sb(e){return function(){this.innerHTML=e}}function rb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ab(e){return arguments.length?this.each(e==null?ob:(typeof e=="function"?rb:sb)(e)):this.node().innerHTML}function lb(){this.nextSibling&&this.parentNode.appendChild(this)}function cb(){return this.each(lb)}function db(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fb(){return this.each(db)}function ub(e){var t=typeof e=="function"?e:fl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function hb(){return null}function gb(e,t){var i=typeof e=="function"?e:fl(e),n=t==null?hb:typeof t=="function"?t:_s(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function pb(){var e=this.parentNode;e&&e.removeChild(this)}function mb(){return this.each(pb)}function _b(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ab(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yb(e){return this.select(e?Ab:_b)}function vb(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bb(e){return function(t){e.call(this,t,this.__data__)}}function wb(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function Ib(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,o=t.length,s;i<o;++i)s=t[i],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Tb(e,t,i){return function(){var n=this.__on,o,s=bb(t);if(n){for(var r=0,a=n.length;r<a;++r)if((o=n[r]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=i),o.value=t;return}}this.addEventListener(e.type,s,i),o={type:e.type,name:e.name,value:t,listener:s,options:i},n?n.push(o):this.__on=[o]}}function Cb(e,t,i){var n=wb(e+""),o,s=n.length,r;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(o=0,d=a[l];o<s;++o)if((r=n[o]).type===d.type&&r.name===d.name)return d.value}return}for(a=t?Tb:Ib,o=0;o<s;++o)this.each(a(n[o],t,i));return this}function wl(e,t,i){var n=_l(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,i):(o=n.document.createEvent("Event"),i?(o.initEvent(t,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Sb(e,t){return function(){return wl(this,e,t)}}function Mb(e,t){return function(){return wl(this,e,t.apply(this,arguments))}}function kb(e,t){return this.each((typeof t=="function"?Mb:Sb)(e,t))}function*Ob(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],o=0,s=n.length,r;o<s;++o)(r=n[o])&&(yield r)}var Il=[null];function Pe(e,t){this._groups=e,this._parents=t}function Fi(){return new Pe([[document.documentElement]],Il)}function Eb(){return this}Pe.prototype=Fi.prototype={constructor:Pe,select:nv,selectAll:rv,selectChild:dv,selectChildren:gv,filter:pv,data:bv,enter:mv,exit:Iv,join:Tv,merge:Cv,selection:Eb,order:Sv,sort:Mv,call:Ov,nodes:Ev,node:Fv,size:Nv,empty:Rv,each:Vv,attr:Bv,style:qv,property:Yv,classed:Jv,text:nb,html:ab,raise:cb,lower:fb,append:ub,insert:gb,remove:mb,clone:yb,datum:vb,on:Cb,dispatch:kb,[Symbol.iterator]:Ob};function Fb(e){return typeof e=="string"?new Pe([document.querySelectorAll(e)],[document.documentElement]):new Pe([ul(e)],Il)}function ys(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function Tl(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function Ni(){}var wi=.7,un=1/wi,Zt="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nb=/^#([0-9a-f]{3,8})$/,Rb=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),Vb=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),Lb=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${Ii}\\)$`),Db=new RegExp(`^rgba\\(${it},${it},${it},${Ii}\\)$`),xb=new RegExp(`^hsl\\(${Ii},${it},${it}\\)$`),Pb=new RegExp(`^hsla\\(${Ii},${it},${it},${Ii}\\)$`),Ar={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ys(Ni,Ti,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yr,formatHex:yr,formatHex8:$b,formatHsl:Hb,formatRgb:vr,toString:vr});function yr(){return this.rgb().formatHex()}function $b(){return this.rgb().formatHex8()}function Hb(){return Cl(this).formatHsl()}function vr(){return this.rgb().formatRgb()}function Ti(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=Nb.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?br(t):i===3?new Oe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?Bi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?Bi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rb.exec(e))?new Oe(t[1],t[2],t[3],1):(t=Vb.exec(e))?new Oe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lb.exec(e))?Bi(t[1],t[2],t[3],t[4]):(t=Db.exec(e))?Bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xb.exec(e))?Tr(t[1],t[2]/100,t[3]/100,1):(t=Pb.exec(e))?Tr(t[1],t[2]/100,t[3]/100,t[4]):Ar.hasOwnProperty(e)?br(Ar[e]):e==="transparent"?new Oe(NaN,NaN,NaN,0):null}function br(e){return new Oe(e>>16&255,e>>8&255,e&255,1)}function Bi(e,t,i,n){return n<=0&&(e=t=i=NaN),new Oe(e,t,i,n)}function Bb(e){return e instanceof Ni||(e=Ti(e)),e?(e=e.rgb(),new Oe(e.r,e.g,e.b,e.opacity)):new Oe}function Co(e,t,i,n){return arguments.length===1?Bb(e):new Oe(e,t,i,n??1)}function Oe(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}ys(Oe,Co,Tl(Ni,{brighter(e){return e=e==null?un:Math.pow(un,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wi:Math.pow(wi,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Oe(Rt(this.r),Rt(this.g),Rt(this.b),hn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wr,formatHex:wr,formatHex8:Ub,formatRgb:Ir,toString:Ir}));function wr(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}`}function Ub(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}${Ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ir(){const e=hn(this.opacity);return`${e===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${e===1?")":`, ${e})`}`}function hn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ot(e){return e=Rt(e),(e<16?"0":"")+e.toString(16)}function Tr(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new je(e,t,i,n)}function Cl(e){if(e instanceof je)return new je(e.h,e.s,e.l,e.opacity);if(e instanceof Ni||(e=Ti(e)),!e)return new je;if(e instanceof je)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,o=Math.min(t,i,n),s=Math.max(t,i,n),r=NaN,a=s-o,l=(s+o)/2;return a?(t===s?r=(i-n)/a+(i<n)*6:i===s?r=(n-t)/a+2:r=(t-i)/a+4,a/=l<.5?s+o:2-s-o,r*=60):a=l>0&&l<1?0:r,new je(r,a,l,e.opacity)}function jb(e,t,i,n){return arguments.length===1?Cl(e):new je(e,t,i,n??1)}function je(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}ys(je,jb,Tl(Ni,{brighter(e){return e=e==null?un:Math.pow(un,e),new je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wi:Math.pow(wi,e),new je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,o=2*i-n;return new Oe(eo(e>=240?e-240:e+120,o,n),eo(e,o,n),eo(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new je(Cr(this.h),Ui(this.s),Ui(this.l),hn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hn(this.opacity);return`${e===1?"hsl(":"hsla("}${Cr(this.h)}, ${Ui(this.s)*100}%, ${Ui(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cr(e){return e=(e||0)%360,e<0?e+360:e}function Ui(e){return Math.max(0,Math.min(1,e||0))}function eo(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const Sl=e=>()=>e;function zb(e,t){return function(i){return e+i*t}}function qb(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function Gb(e){return(e=+e)==1?Ml:function(t,i){return i-t?qb(t,i,e):Sl(isNaN(t)?i:t)}}function Ml(e,t){var i=t-e;return i?zb(e,i):Sl(isNaN(e)?t:e)}const Sr=function e(t){var i=Gb(t);function n(o,s){var r=i((o=Co(o)).r,(s=Co(s)).r),a=i(o.g,s.g),l=i(o.b,s.b),c=Ml(o.opacity,s.opacity);return function(d){return o.r=r(d),o.g=a(d),o.b=l(d),o.opacity=c(d),o+""}}return n.gamma=e,n}(1);function mt(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var So=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,to=new RegExp(So.source,"g");function Wb(e){return function(){return e}}function Kb(e){return function(t){return e(t)+""}}function Yb(e,t){var i=So.lastIndex=to.lastIndex=0,n,o,s,r=-1,a=[],l=[];for(e=e+"",t=t+"";(n=So.exec(e))&&(o=to.exec(t));)(s=o.index)>i&&(s=t.slice(i,s),a[r]?a[r]+=s:a[++r]=s),(n=n[0])===(o=o[0])?a[r]?a[r]+=o:a[++r]=o:(a[++r]=null,l.push({i:r,x:mt(n,o)})),i=to.lastIndex;return i<t.length&&(s=t.slice(i),a[r]?a[r]+=s:a[++r]=s),a.length<2?l[0]?Kb(l[0].x):Wb(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}var Mr=180/Math.PI,Mo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kl(e,t,i,n,o,s){var r,a,l;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(l=e*i+t*n)&&(i-=e*l,n-=t*l),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,l/=a),e*n<t*i&&(e=-e,t=-t,l=-l,r=-r),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*Mr,skewX:Math.atan(l)*Mr,scaleX:r,scaleY:a}}var ji;function Qb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Mo:kl(t.a,t.b,t.c,t.d,t.e,t.f)}function Xb(e){return e==null||(ji||(ji=document.createElementNS("http://www.w3.org/2000/svg","g")),ji.setAttribute("transform",e),!(e=ji.transform.baseVal.consolidate()))?Mo:(e=e.matrix,kl(e.a,e.b,e.c,e.d,e.e,e.f))}function Ol(e,t,i,n){function o(c){return c.length?c.pop()+" ":""}function s(c,d,f,h,_,T){if(c!==f||d!==h){var y=_.push("translate(",null,t,null,i);T.push({i:y-4,x:mt(c,f)},{i:y-2,x:mt(d,h)})}else(f||h)&&_.push("translate("+f+t+h+i)}function r(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(o(f)+"rotate(",null,n)-2,x:mt(c,d)})):d&&f.push(o(f)+"rotate("+d+n)}function a(c,d,f,h){c!==d?h.push({i:f.push(o(f)+"skewX(",null,n)-2,x:mt(c,d)}):d&&f.push(o(f)+"skewX("+d+n)}function l(c,d,f,h,_,T){if(c!==f||d!==h){var y=_.push(o(_)+"scale(",null,",",null,")");T.push({i:y-4,x:mt(c,f)},{i:y-2,x:mt(d,h)})}else(f!==1||h!==1)&&_.push(o(_)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),s(c.translateX,c.translateY,d.translateX,d.translateY,f,h),r(c.rotate,d.rotate,f,h),a(c.skewX,d.skewX,f,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(_){for(var T=-1,y=h.length,V;++T<y;)f[(V=h[T]).i]=V.x(_);return f.join("")}}}var Zb=Ol(Qb,"px, ","px)","deg)"),Jb=Ol(Xb,", ",")",")"),ti=0,di=0,li=0,El=1e3,gn,fi,pn=0,Lt=0,Pn=0,Ci=typeof performance=="object"&&performance.now?performance:Date,Fl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vs(){return Lt||(Fl(ew),Lt=Ci.now()+Pn)}function ew(){Lt=0}function mn(){this._call=this._time=this._next=null}mn.prototype=Nl.prototype={constructor:mn,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?vs():+i)+(t==null?0:+t),!this._next&&fi!==this&&(fi?fi._next=this:gn=this,fi=this),this._call=e,this._time=i,ko()},stop:function(){this._call&&(this._call=null,this._time=1/0,ko())}};function Nl(e,t,i){var n=new mn;return n.restart(e,t,i),n}function tw(){vs(),++ti;for(var e=gn,t;e;)(t=Lt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ti}function kr(){Lt=(pn=Ci.now())+Pn,ti=di=0;try{tw()}finally{ti=0,nw(),Lt=0}}function iw(){var e=Ci.now(),t=e-pn;t>El&&(Pn-=t,pn=e)}function nw(){for(var e,t=gn,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:gn=i);fi=e,ko(n)}function ko(e){if(!ti){di&&(di=clearTimeout(di));var t=e-Lt;t>24?(e<1/0&&(di=setTimeout(kr,e-Ci.now()-Pn)),li&&(li=clearInterval(li))):(li||(pn=Ci.now(),li=setInterval(iw,El)),ti=1,Fl(kr))}}function Or(e,t,i){var n=new mn;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,i),n}var ow=dl("start","end","cancel","interrupt"),sw=[],Rl=0,Er=1,Oo=2,tn=3,Fr=4,Eo=5,nn=6;function $n(e,t,i,n,o,s){var r=e.__transition;if(!r)e.__transition={};else if(i in r)return;rw(e,i,{name:t,index:n,group:o,on:ow,tween:sw,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Rl})}function bs(e,t){var i=We(e,t);if(i.state>Rl)throw new Error("too late; already scheduled");return i}function st(e,t){var i=We(e,t);if(i.state>tn)throw new Error("too late; already running");return i}function We(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function rw(e,t,i){var n=e.__transition,o;n[t]=i,i.timer=Nl(s,0,i.time);function s(c){i.state=Er,i.timer.restart(r,i.delay,i.time),i.delay<=c&&r(c-i.delay)}function r(c){var d,f,h,_;if(i.state!==Er)return l();for(d in n)if(_=n[d],_.name===i.name){if(_.state===tn)return Or(r);_.state===Fr?(_.state=nn,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete n[d]):+d<t&&(_.state=nn,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete n[d])}if(Or(function(){i.state===tn&&(i.state=Fr,i.timer.restart(a,i.delay,i.time),a(c))}),i.state=Oo,i.on.call("start",e,e.__data__,i.index,i.group),i.state===Oo){for(i.state=tn,o=new Array(h=i.tween.length),d=0,f=-1;d<h;++d)(_=i.tween[d].value.call(e,e.__data__,i.index,i.group))&&(o[++f]=_);o.length=f+1}}function a(c){for(var d=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(l),i.state=Eo,1),f=-1,h=o.length;++f<h;)o[f].call(e,d);i.state===Eo&&(i.on.call("end",e,e.__data__,i.index,i.group),l())}function l(){i.state=nn,i.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function aw(e,t){var i=e.__transition,n,o,s=!0,r;if(i){t=t==null?null:t+"";for(r in i){if((n=i[r]).name!==t){s=!1;continue}o=n.state>Oo&&n.state<Eo,n.state=nn,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]}s&&delete e.__transition}}function lw(e){return this.each(function(){aw(this,e)})}function cw(e,t){var i,n;return function(){var o=st(this,e),s=o.tween;if(s!==i){n=i=s;for(var r=0,a=n.length;r<a;++r)if(n[r].name===t){n=n.slice(),n.splice(r,1);break}}o.tween=n}}function dw(e,t,i){var n,o;if(typeof i!="function")throw new Error;return function(){var s=st(this,e),r=s.tween;if(r!==n){o=(n=r).slice();for(var a={name:t,value:i},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}s.tween=o}}function fw(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=We(this.node(),i).tween,o=0,s=n.length,r;o<s;++o)if((r=n[o]).name===e)return r.value;return null}return this.each((t==null?cw:dw)(i,e,t))}function ws(e,t,i){var n=e._id;return e.each(function(){var o=st(this,n);(o.value||(o.value={}))[t]=i.apply(this,arguments)}),function(o){return We(o,n).value[t]}}function Vl(e,t){var i;return(typeof t=="number"?mt:t instanceof Ti?Sr:(i=Ti(t))?(t=i,Sr):Yb)(e,t)}function uw(e){return function(){this.removeAttribute(e)}}function hw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gw(e,t,i){var n,o=i+"",s;return function(){var r=this.getAttribute(e);return r===o?null:r===n?s:s=t(n=r,i)}}function pw(e,t,i){var n,o=i+"",s;return function(){var r=this.getAttributeNS(e.space,e.local);return r===o?null:r===n?s:s=t(n=r,i)}}function mw(e,t,i){var n,o,s;return function(){var r,a=i(this),l;return a==null?void this.removeAttribute(e):(r=this.getAttribute(e),l=a+"",r===l?null:r===n&&l===o?s:(o=l,s=t(n=r,a)))}}function _w(e,t,i){var n,o,s;return function(){var r,a=i(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),l=a+"",r===l?null:r===n&&l===o?s:(o=l,s=t(n=r,a)))}}function Aw(e,t){var i=xn(e),n=i==="transform"?Jb:Vl;return this.attrTween(e,typeof t=="function"?(i.local?_w:mw)(i,n,ws(this,"attr."+e,t)):t==null?(i.local?hw:uw)(i):(i.local?pw:gw)(i,n,t))}function yw(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function vw(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function bw(e,t){var i,n;function o(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&vw(e,s)),i}return o._value=t,o}function ww(e,t){var i,n;function o(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&yw(e,s)),i}return o._value=t,o}function Iw(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=xn(e);return this.tween(i,(n.local?bw:ww)(n,t))}function Tw(e,t){return function(){bs(this,e).delay=+t.apply(this,arguments)}}function Cw(e,t){return t=+t,function(){bs(this,e).delay=t}}function Sw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Tw:Cw)(t,e)):We(this.node(),t).delay}function Mw(e,t){return function(){st(this,e).duration=+t.apply(this,arguments)}}function kw(e,t){return t=+t,function(){st(this,e).duration=t}}function Ow(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Mw:kw)(t,e)):We(this.node(),t).duration}function Ew(e,t){if(typeof t!="function")throw new Error;return function(){st(this,e).ease=t}}function Fw(e){var t=this._id;return arguments.length?this.each(Ew(t,e)):We(this.node(),t).ease}function Nw(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;st(this,e).ease=i}}function Rw(e){if(typeof e!="function")throw new Error;return this.each(Nw(this._id,e))}function Vw(e){typeof e!="function"&&(e=gl(e));for(var t=this._groups,i=t.length,n=new Array(i),o=0;o<i;++o)for(var s=t[o],r=s.length,a=n[o]=[],l,c=0;c<r;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new ct(n,this._parents,this._name,this._id)}function Lw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,o=i.length,s=Math.min(n,o),r=new Array(n),a=0;a<s;++a)for(var l=t[a],c=i[a],d=l.length,f=r[a]=new Array(d),h,_=0;_<d;++_)(h=l[_]||c[_])&&(f[_]=h);for(;a<n;++a)r[a]=t[a];return new ct(r,this._parents,this._name,this._id)}function Dw(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function xw(e,t,i){var n,o,s=Dw(t)?bs:st;return function(){var r=s(this,e),a=r.on;a!==n&&(o=(n=a).copy()).on(t,i),r.on=o}}function Pw(e,t){var i=this._id;return arguments.length<2?We(this.node(),i).on.on(e):this.each(xw(i,e,t))}function $w(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function Hw(){return this.on("end.remove",$w(this._id))}function Bw(e){var t=this._name,i=this._id;typeof e!="function"&&(e=_s(e));for(var n=this._groups,o=n.length,s=new Array(o),r=0;r<o;++r)for(var a=n[r],l=a.length,c=s[r]=new Array(l),d,f,h=0;h<l;++h)(d=a[h])&&(f=e.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,$n(c[h],t,i,h,c,We(d,i)));return new ct(s,this._parents,t,i)}function Uw(e){var t=this._name,i=this._id;typeof e!="function"&&(e=hl(e));for(var n=this._groups,o=n.length,s=[],r=[],a=0;a<o;++a)for(var l=n[a],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var h=e.call(d,d.__data__,f,l),_,T=We(d,i),y=0,V=h.length;y<V;++y)(_=h[y])&&$n(_,t,i,y,h,T);s.push(h),r.push(d)}return new ct(s,r,t,i)}var jw=Fi.prototype.constructor;function zw(){return new jw(this._groups,this._parents)}function qw(e,t){var i,n,o;return function(){var s=ei(this,e),r=(this.style.removeProperty(e),ei(this,e));return s===r?null:s===i&&r===n?o:o=t(i=s,n=r)}}function Ll(e){return function(){this.style.removeProperty(e)}}function Gw(e,t,i){var n,o=i+"",s;return function(){var r=ei(this,e);return r===o?null:r===n?s:s=t(n=r,i)}}function Ww(e,t,i){var n,o,s;return function(){var r=ei(this,e),a=i(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),ei(this,e))),r===l?null:r===n&&l===o?s:(o=l,s=t(n=r,a))}}function Kw(e,t){var i,n,o,s="style."+t,r="end."+s,a;return function(){var l=st(this,e),c=l.on,d=l.value[s]==null?a||(a=Ll(t)):void 0;(c!==i||o!==d)&&(n=(i=c).copy()).on(r,o=d),l.on=n}}function Yw(e,t,i){var n=(e+="")=="transform"?Zb:Vl;return t==null?this.styleTween(e,qw(e,n)).on("end.style."+e,Ll(e)):typeof t=="function"?this.styleTween(e,Ww(e,n,ws(this,"style."+e,t))).each(Kw(this._id,e)):this.styleTween(e,Gw(e,n,t),i).on("end.style."+e,null)}function Qw(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function Xw(e,t,i){var n,o;function s(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Qw(e,r,i)),n}return s._value=t,s}function Zw(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Xw(e,t,i??""))}function Jw(e){return function(){this.textContent=e}}function e0(e){return function(){var t=e(this);this.textContent=t??""}}function t0(e){return this.tween("text",typeof e=="function"?e0(ws(this,"text",e)):Jw(e==null?"":e+""))}function i0(e){return function(t){this.textContent=e.call(this,t)}}function n0(e){var t,i;function n(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&i0(o)),t}return n._value=e,n}function o0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,n0(e))}function s0(){for(var e=this._name,t=this._id,i=Dl(),n=this._groups,o=n.length,s=0;s<o;++s)for(var r=n[s],a=r.length,l,c=0;c<a;++c)if(l=r[c]){var d=We(l,t);$n(l,e,i,c,r,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ct(n,this._parents,e,i)}function r0(){var e,t,i=this,n=i._id,o=i.size();return new Promise(function(s,r){var a={value:r},l={value:function(){--o===0&&s()}};i.each(function(){var c=st(this,n),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),o===0&&s()})}var a0=0;function ct(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function Dl(){return++a0}var at=Fi.prototype;ct.prototype={constructor:ct,select:Bw,selectAll:Uw,selectChild:at.selectChild,selectChildren:at.selectChildren,filter:Vw,merge:Lw,selection:zw,transition:s0,call:at.call,nodes:at.nodes,node:at.node,size:at.size,empty:at.empty,each:at.each,on:Pw,attr:Aw,attrTween:Iw,style:Yw,styleTween:Zw,text:t0,textTween:o0,remove:Hw,tween:fw,delay:Sw,duration:Ow,ease:Fw,easeVarying:Rw,end:r0,[Symbol.iterator]:at[Symbol.iterator]};function l0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var c0={time:null,delay:0,duration:250,ease:l0};function d0(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function f0(e){var t,i;e instanceof ct?(t=e._id,e=e._name):(t=Dl(),(i=c0).time=vs(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,s=0;s<o;++s)for(var r=n[s],a=r.length,l,c=0;c<a;++c)(l=r[c])&&$n(l,e,t,c,r,i||d0(l,t));return new ct(n,this._parents,e,t)}Fi.prototype.interrupt=lw;Fi.prototype.transition=f0;function ui(e,t,i){this.k=e,this.x=t,this.y=i}ui.prototype={constructor:ui,scale:function(e){return e===1?this:new ui(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ui(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ui.prototype;const _n="#007AFF",Hn=(e,t,i)=>`
  <circle ${i?'class="'+i+'"':""} cx="${e}" cy="${t}" r="20" fill="#ffffff" stroke="#E0E0E0" stroke-width="1.35" /> 
  <line ${i?'class="'+i+'"':""} x1="${e-10}" y1="${t}" x2="${e+10}" y2="${t}" stroke="${_n}" stroke-width="2" stroke-linecap="round"/>
  <line ${i?'class="'+i+'"':""} x1="${e}" y1="${t+10}" x2="${e}" y2="${t-10}" stroke="${_n}" stroke-width="2" stroke-linecap="round"/>`,u0=(e,t,i)=>`
  <circle ${i?'class="'+i+'"':""} cx="${e}" cy="${t}" r="20" fill="#ffffff" stroke="#E0E0E0" stroke-width="1.35" />
  <line ${i?'class="'+i+'"':""} x1="${e-7.1}" y1="${t-7.1}" x2="${e+7.1}" y2="${t+7.1}" stroke="${_n}" stroke-width="2" stroke-linecap="round"/>
  <line ${i?'class="'+i+'"':""} x1="${e-7.1}" y1="${t+7.1}" x2="${e+7.1}" y2="${t-7.1}" stroke="${_n}" stroke-width="2" stroke-linecap="round"/>`;function h0(){g0(),p0()}function g0(){const e="#5AC8FA",t="#008FD2",i="#005B84",n="#000000";OrgChart.clinkTemplates.default=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.default.defs='<marker id="defaultend" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"></marker><marker id="defaultdot" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"></marker>',OrgChart.clinkTemplates.default.link='<path marker-start="url(#defaultdot)" marker-end="url(#defaultend)" stroke="'+e+'" stroke-dasharray="15 6" stroke-linecap="round" stroke-width="2" fill="none" d="{d}" />',OrgChart.clinkTemplates.noInf=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.noInf.link='<path stroke="'+e+'" stroke-dasharray="15 6" stroke-linecap="round" stroke-width="2" fill="none" d="{d}" />',OrgChart.clinkTemplates.inf=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.inf.defs='<marker id="inf3arrow" markerWidth="10" markerHeight="10" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto"><polyline points="0,3 2,1.25 0, -.5" fill="none" stroke="'+e+'" stroke-width=".55" stroke-linecap="round" transform="matrix(1,0,0,1,0.8333333333333334,1.25)" stroke-linejoin="round"/></marker>',OrgChart.clinkTemplates.inf.link='<path marker-end="url(#inf3arrow)" stroke="'+e+'" stroke-linecap="round" stroke-width="2" fill="none" d="{d}" />',OrgChart.clinkTemplates.noInf0=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.noInf0.link='<path stroke="'+t+'" stroke-linecap="round" stroke-dasharray="15 6" stroke-width="2" fill="none" d="{d}" />',OrgChart.clinkTemplates.inf0=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.inf0.defs='<marker id="inf0arrow" markerWidth="10" markerHeight="10" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto"><polyline points="0,3 2,1.25 0, -.5" fill="none" stroke="'+t+'" stroke-width=".55" stroke-linecap="round" transform="matrix(1,0,0,1,0.8333333333333334,1.25)" stroke-linejoin="round"/></marker>',OrgChart.clinkTemplates.inf0.link='<path marker-end="url(#inf0arrow)" stroke="'+t+'" stroke-linecap="round" stroke-width="2" fill="none" d="{d}" />',OrgChart.clinkTemplates.noInf1=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.noInf1.link='<path stroke="'+i+'" stroke-dasharray="15 6" stroke-linecap="round" stroke-width="2" fill="none" d="{d}" />',OrgChart.clinkTemplates.inf1=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.inf1.defs='<marker id="inf1arrow" markerWidth="10" markerHeight="10" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto"><polyline points="0,3 2,1.25 0, -.5" fill="none" stroke="'+i+'" stroke-width=".55" stroke-linecap="round" transform="matrix(1,0,0,1,0.8333333333333334,1.25)" stroke-linejoin="round"/></marker>',OrgChart.clinkTemplates.inf1.link='<path marker-end="url(#inf1arrow)" stroke="'+i+'" stroke-linecap="round" stroke-width="2.25" fill="none" d="{d}" />',OrgChart.clinkTemplates.noInf2=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.noInf2.link='<path stroke="'+n+'" stroke-dasharray="15 6" stroke-linecap="round" stroke-width="2" fill="none" d="{d}" />',OrgChart.clinkTemplates.inf2=Object.assign({},OrgChart.clinkTemplates.blue),OrgChart.clinkTemplates.inf2.defs='<marker id="inf2arrow" markerWidth="10" markerHeight="10" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto"><polyline points="0,3 2,1.25 0, -.5" fill="none" stroke="'+n+'" stroke-width=".55" stroke-linecap="round" transform="matrix(1,0,0,1,0.8333333333333334,1.25)" stroke-linejoin="round"/></marker>',OrgChart.clinkTemplates.inf2.link='<path marker-end="url(#inf2arrow)" stroke="'+n+'" stroke-linecap="round" stroke-width="2" fill="none" d="{d}" />'}function p0(){m0(),_0(),v0(OrgChart.templates.baseNode,"unloadedChildren"),A0(OrgChart.templates.baseNode,"expandCollapse"),y0(OrgChart.templates.baseNode,"baseNodeLinked"),b0(),w0(),I0()}function m0(){OrgChart.MIXED_LAYOUT_ALL_NODES=!1,OrgChart.templates.split.link='<path stroke-linejoin="round" stroke="#8A8A8D" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',OrgChart.templates.split.node="",OrgChart.templates.split.size=[0,0]}function _0(){OrgChart.templates.baseNode=Object.assign({},OrgChart.templates.base),OrgChart.templates.baseNode.size=[300,112],OrgChart.templates.baseNode.link='<path stroke-linejoin="round" stroke="#8A8A8D" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',OrgChart.templates.baseNode.node='<rect class=main-node rx="6" ry="6" x="0" y="0" height="{h}" width="{w}" fill="#ffffff" stroke-width="1.5px" stroke="#E0E0E0"></rect>',OrgChart.templates.baseNode.field_0='<foreignObject width="200" height="30" x="78" y="10"><div class="node-title one-line">{val}</div></foreignObject>',OrgChart.templates.baseNode.field_1='<foreignObject width="200" height="30" x="78" y="31"><div class="node-subtitle one-line">{val}</div></foreignObject>',OrgChart.templates.baseNode.field_2='<foreignObject width="200" height="30" x="78" y="46"><div class="node-subtitle one-line">{val}</div></foreignObject>',OrgChart.templates.baseNode.img_0='<image preserveAspectRatio="xMidYMid slice" xlink:href="{val}" x="16" y="16" width="46" height="46" ></image>',OrgChart.templates.baseNode.nodeMenuButton="",OrgChart.templates.baseNode.plus="",OrgChart.templates.baseNode.minus="",OrgChart.templates.baseNode.numAff=`
    <foreignObject x="169" y="80" width="129" height="40">
      <div class="child-aff-count-container">`,Ae.getters.hasAccessToAffiliations&&(OrgChart.templates.baseNode.numAff+=`
        <svg height="15" width="15">
          <path class="aff-icon" fill="#CDCDCD" transform="translate(0, -1) scale(1.5, 1.4)" d="M4.81661 10.6882C5.2623 10.6882 5.55943 10.3809 5.55943 9.91982V4.23342L5.51332 3.12176L6.54302 4.31027L7.69567 5.45779C7.83399 5.59611 8.00816 5.68832 8.22845 5.68832C8.62803 5.68832 8.93028 5.39119 8.93028 4.97112C8.93028 4.77645 8.85344 4.59715 8.69975 4.43834L5.36476 1.10335C5.22644 0.959906 5.02153 0.87794 4.81661 0.87794C4.61682 0.87794 4.40678 0.959906 4.26847 1.10335L0.938596 4.43834C0.78491 4.59715 0.708067 4.77645 0.708067 4.97112C0.708067 5.39119 1.01032 5.68832 1.4099 5.68832C1.63531 5.68832 1.80949 5.59611 1.94268 5.45779L3.09533 4.31027L4.12502 3.12176L4.0738 4.23342V9.91982C4.0738 10.3809 4.37605 10.6882 4.81661 10.6882Z"/>
        </svg>
        <span class="aff-count-span" style="color:#CDCDCD;">{val}</span>`),OrgChart.templates.baseNode.numChild=`
        <svg height="15" width="15">
          <path class="child-icon" fill="#CDCDCD" transform="scale(1.5, 1.5)" fill="#005B84" d="M5.05427 4.73955C6.20691 4.73955 7.14952 3.73034 7.14952 2.4445C7.14952 1.19452 6.19667 0.195558 5.05427 0.195558C3.91187 0.195558 2.95389 1.20476 2.95901 2.44962C2.95901 3.73034 3.90162 4.73955 5.05427 4.73955ZM1.69366 9.54481H8.41487C9.03986 9.54481 9.41383 9.24256 9.41383 8.74051C9.41383 7.42906 7.70792 5.63605 5.05427 5.63605C2.39549 5.63605 0.6947 7.42906 0.6947 8.74051C0.6947 9.24256 1.06867 9.54481 1.69366 9.54481Z"/>
        </svg>
        <span class="child-count-span" style="color:#CDCDCD;">{val}</span>
      </div>
    </foreignObject>`}function A0(e,t){OrgChart.templates[t]=Object.assign({},e),OrgChart.templates[t].node+=`
    <g class="expand-collapse-button">
        ${Hn(150,102,"collapse")}${u0(150,102,"expand")}
    </g>`}function y0(e,t){OrgChart.templates[t]=Object.assign({},e),OrgChart.templates[t].node+=`
    <g transform="translate(16, 86) scale(1.4, 1.4)">
      <path 
        d="M2.723 3.58638C2.40575 3.98588 1.9945 3.83901 1.84762 3.32788L1.11325 0.78401C0.989873 0.378635 1.23662 0.0613852 1.6655 0.0790102L4.31512 0.167135C4.84387 0.18476 5.073 0.554885 4.7675 0.94851L4.24462 1.62413L4.26225 1.63588C5.34912 2.35263 6.67099 3.84488 6.98824 4.83188H7.01174C7.31724 3.85076 8.64499 2.35263 9.73187 1.63588L9.76124 1.61826L9.21487 0.872135C8.92112 0.46676 9.16787 0.10251 9.69662 0.108385L12.3462 0.0966352C12.7751 0.0966352 13.0101 0.425635 12.875 0.83101L12.0584 3.34551C11.8939 3.85076 11.4767 3.98588 11.1771 3.56876L10.6014 2.78151L10.478 2.86376C9.29712 3.61576 7.70499 5.46638 7.70499 6.81176V9.95488C7.70499 10.466 7.45237 10.7421 6.99999 10.7421C6.54174 10.7421 6.28912 10.466 6.28912 9.95488V6.81176C6.28912 5.46638 4.69112 3.61576 3.522 2.86376L3.36337 2.76388L2.723 3.58638Z" 
        fill="#004C93"
      />
    </g>`}function v0(e,t){OrgChart.templates[t]=Object.assign({},e),OrgChart.templates[t].node+=`
    <g class="load-children-button">
        ${Hn(150,102)}
    </g>`}function b0(){OrgChart.templates.loadingNode=Object.assign({},OrgChart.templates.baseNode),OrgChart.templates.loadingNode.size=[1,1],OrgChart.templates.loadingNode.node='<rect x="0" y="0" height="{h}" width="{w}" fill="#ffffff" fill-opacity="0"></rect>',OrgChart.templates.loadingNode.img_0="",OrgChart.templates.loadingNode.nodeMenuButton=""}function w0(){OrgChart.templates.loadMoreNode=Object.assign({},OrgChart.templates.baseNode),OrgChart.templates.loadMoreNode.size=[40,40],OrgChart.templates.loadMoreNode.node=`<g class="load-next-batch-button"> ${Hn(20,20)}</g>`,OrgChart.templates.loadMoreNode.img_0="",OrgChart.templates.loadMoreNode.field_0="",OrgChart.templates.loadMoreNode.field_1="",OrgChart.templates.loadMoreNode.nodeMenuButton=""}function I0(){OrgChart.templates.loadParentNode=Object.assign({},OrgChart.templates.baseNode),OrgChart.templates.loadParentNode.size=[40,40],OrgChart.templates.loadParentNode.node=`
      <g class="load-parent-button">
          ${Hn(20,20)}
      </g>`,OrgChart.templates.loadParentNode.img_0="",OrgChart.templates.loadParentNode.field_0="",OrgChart.templates.loadParentNode.field_1="",OrgChart.templates.loadParentNode.plus="",OrgChart.templates.loadParentNode.minus="",OrgChart.templates.loadParentNode.nodeMenuButton=""}const Z=new Qy,T0={name:"HierarchyView",components:{AccountDetail:ng,ActionMenu:Sm,GraphMenu:Em,AddToTerritoryModal:sl,ModifyAffiliation:ll,AffiliationDeleteModal:cl},emits:["launch-affiliation-view"],data(){return{initRootId:"",searchResult:null,showAccountDetail:!1,showAffiliationDeleteConfirmModal:!1,affiliationDeleteConfirmRequest:{},showAddToTerrModal:!1,addToTerrRequest:{},selectedAccountId:null,selectedAccount:{},availableFilterValues:{},readyToRenderActionMenu:!1,showModifyAffiliationModal:!1,lastHierarchyLoadType:null,hierarchyLoadDownTarget:null}},computed:{...oe(["isDebugMode","isPlatformReadyToRecieveMessages","getMessageService","getVeevaMessage","getAccountQueryFields","getAccountRelatedQueryFields","getAffiliationQueryFields","getFieldMetadata","getTerritoryName","getFromAccount","getIsTerritoryLoadingModalEnabled","getModifyAffiliationSelectMode","getHierarchyViewSearchTerm","hasAccessToAffiliations"]),platform(){return"salesforce"}},mounted(){this.showLoadingModal(),this.sendInitialLoadRequest()},methods:{...ds(["setVeevaMessages","setUserTerritories","setDisplayFieldOverrides","setIsTimelineEnabled","setIsTerritoryLoadingModalEnabled","setIsAddToTerritoryEnabled","setIsUpdateDeleteOOTAffiliationEnabled","setObjectMetadata","setToAccount","setModifyAffiliationSelectMode","setGraphErrorMessage","setGraphErrorDetail","setHierarchyViewSearchTerm","setHierarchyViewSelectedFilters","setHasAccessToAffiliations","setHasAccessToOOHAffiliations","setIsAffiliationViewEnabled"]),...ki(["initializeHierarchyViewController","showLoadingModal","hideLoadingModal","openErrorModalWithMessage","openErrorModalAndParsePlatformResult","setAffiliationFieldsToFilterAndQuery","launchNewAffiliationModal","launchEditAffiliationModal"]),sendInitialLoadRequest(){this.isPlatformReadyToRecieveMessages?this.getMessageService.sendInitialLoadRequest():(setTimeout(()=>{this.sendInitialLoadRequest()},100),this.getMessageService.sendPing())},initGraph(e){this.setVeevaMessages(e.veevaMessages),this.setUserTerritories(e.userTerritories),this.setDisplayFieldOverrides(e.displayFieldOverrides);const t=e.appConfigOverrides;this.setIsTimelineEnabled((t==null?void 0:t.enableTimeline)??!0),this.setIsTerritoryLoadingModalEnabled((t==null?void 0:t.enableTerritoryLoadModal)??!0),this.setIsAddToTerritoryEnabled((t==null?void 0:t.enableAddToTerritory)??!0),this.setIsUpdateDeleteOOTAffiliationEnabled((t==null?void 0:t.enableUpdateDeleteOOTAffiliation)??!0),this.setHasAccessToAffiliations((t==null?void 0:t.hasAccessToAffiliations)??!0),this.setHasAccessToOOHAffiliations((t==null?void 0:t.hasAccessToOOHAffiliations)??!0),this.setIsAffiliationViewEnabled((t==null?void 0:t.enableAffiliationView)??!1),this.initRootId=e.graphRootId,this.readyToRenderActionMenu=!0;const i={nodeClick:this.nodeClick,redrawHandler:this.redrawHandler};Z.init(i,e.keyStakeholders,e.graphRootId),h0(),this.getMessageService.sendObjectMetadataRequest()},loadObjectMetadata(e){this.setObjectMetadata(e),this.setAffiliationFieldsToFilterAndQuery(),this.getMessageService.sendInitialHierarchyRequest(this.initRootId)},loadHierarchy(e,t){this.lastHierarchyLoadType=t;let i=Z.loadHierarchy(e,t===Nt.INITIAL);if(!i||i.length===0){this.hideLoadingModal(),Z.updateNodes();return}e.queryLimitTriggered&&this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("LIMIT_EXCEEDED"),errorDetailMessage:"",hideLoading:!1}),this.isDebugMode?Ve.getBatchData(t).then(n=>this.loadAccountBatch(n.data)):this.processBatches(i)},loadAccountBatch(e){e.limitTriggered&&this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("LIMIT_EXCEEDED"),errorDetailMessage:"",hideLoading:!1}),Z.processLoadBatch(e)&&(this.availableFilterValues=Z.getAvailableFilterValues(),this.hideLoadingModal(),this.populateAccountDetail(this.selectedAccountId),this.getMessageService.sendAccountCount(Z.getAccountCount()),Z.navigateGraphFollowingBatchLoad(this.lastHierarchyLoadType,this.hierarchyLoadDownTarget))},processBatches(e){const t=this.getAccountQueryFields,i=this.getAffiliationQueryFields;e.forEach(n=>{this.getMessageService.sendAccountLoadRequest(n.batchId,this.copyArray(n.accounts),this.copyArray(t),this.copyArray(i))})},sendRedirectRequest({type:e,location:t}){this.getMessageService.sendRedirectRequest(e,t)},addToTerrClick(e){this.addToTerrRequest=Z.getNodeDataModel(e),this.platform==="ipad"?this.getMessageService.sendHasInternetConnectionRequest():this.showAddToTerrModal=!0},handleHasInternetConnectionResponse({hasInternetConnection:e}){e?this.showAddToTerrModal=!0:this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("NO_CONNECTION_ADD_TO_TERRITORY"),errorDetailMessage:"",hideLoading:!0})},createAffiliationClick(e){let t=Z.getNodeDataModel(e);this.closeAccountDetail(),this.enterNodeSelectMode(t),this.launchNewAffiliationModal({changeToAccountAction:"node-select",fromAccount:t,toAccount:{}}),this.showModifyAffiliationModal=!0},editAffiliation(e){this.launchEditAffiliationModal({fromAccount:e.FromAcct,toAccount:e.ToAcct,affiliation:e}),this.showModifyAffiliationModal=!0},enterNodeSelectMode(e){this.setModifyAffiliationSelectMode(!0),Z.enterNodeSelectMode(e.Id)},closeNodeSelectMode(){this.setModifyAffiliationSelectMode(!1),Z.leaveNodeSelectMode()},selectAffiliationToAccount(e){let t=Z.getNodeDataModel(e);t&&t.isInTerritory&&this.getFromAccount.Id!==t.Id&&(this.setToAccount(t),this.setModifyAffiliationSelectMode(!1),Z.leaveNodeSelectMode())},processAddToTerrResult(e){if(e.success===!0){this.hideLoadingModal();let t=e.terrsToAdd.map(i=>this.getTerritoryName(i));Z.setAccountInTerritory(e.accountId,t),this.populateAccountDetail(this.selectedAccountId)}else this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("GAS_ASSIGNMENT_ERROR"),errorDetailMessage:e.errorMessage,hideLoading:!0})},addToTerritory(e){this.showAddToTerrModal=!1,this.getIsTerritoryLoadingModalEnabled&&this.showLoadingModal(),this.getMessageService.sendAddToTerrRequest(e)},nodeClick(e,t){let i=Z.nodeClickHandler(e,t);if(i==="loadParent"){let n=t.node.id;this.showLoadingModal(),this.getMessageService.sendParentHierarchyRequest(n.split("-")[1])}else if(i==="detailView"){let n=t.node.id;this.getModifyAffiliationSelectMode?this.selectAffiliationToAccount(n):(Z.selectAccount(n),this.populateAccountDetail(n))}else this.populateAccountDetail(this.selectedAccountId);return!1},populateAccountDetail(e){if(e==null)return;const t=Z.getNodeCopyForAccountDetail(e);t.isVisible&&!t.isCollapsed?(this.selectedAccount=t,this.selectedAccountId=e,this.showAccountDetail=!0):this.closeAccountDetail()},closeAccountDetail(){this.showAccountDetail=!1,this.selectedAccountId=null,this.selectedAccount={},Z.deselectAccount()},redrawHandler(){Fb(".link").lower();let t=this,i=this.platform==="ipad"?"touchstart":"click",n=document.querySelectorAll(".load-children-button");for(let s of n)s.getAttribute("hasHandler")==="true"||(s.setAttribute("hasHandler","true"),s.addEventListener(i,function(a){a.preventDefault(),a.stopPropagation();let l=this.parentNode.getAttribute("data-n-id");t.loadChildren(l)},!1));let o=document.querySelectorAll(".expand-collapse-button");for(let s of o)s.getAttribute("hasHandler")==="true"||(s.setAttribute("hasHandler","true"),s.addEventListener(i,function(a){a.preventDefault(),a.stopPropagation();let l=this.parentNode.getAttribute("data-n-id");t.expandCollapse(l)},!1))},loadChildren(e){this.hierarchyLoadDownTarget=e,this.showLoadingModal(),this.getMessageService.sendHierarchyRequest(e,this.copyArray(Z.getNodesToLoad(e)))},sendAccountRelatedObjectRequest({accountId:e,isPersonType:t}){this.getMessageService.sendLoadRelatedAccountObjectsRequest(e,this.getAccountRelatedQueryFields(t))},handleAccountRelatedObjectResponse(e){Z.setAccountRelatedObjectFields(e.accountId,e.relatedObjectFields),this.populateAccountDetail(this.selectedAccountId),this.populateSearchResult()},sendOOHAccountRequest(e){const t=Z.getAccountsOOHAffiliationIds(e),i=this.getAccountQueryFields;this.getMessageService.sendLoadOutOfHierarchyAccountsRequest(e,t,i)},handleOOHAccountResponse(e){Z.setOOHAccountsAndPopulateAffiliations(e.originAccountId,e.accounts),this.populateAccountDetail(this.selectedAccountId)},expandCollapse(e){Z.expandCollapseNodes(e),this.populateAccountDetail(this.selectedAccountId),this.populateSearchResult()},toggleAccountAndParentVisibility(e){Z.toggleAccountVisibility(e),this.populateAccountDetail(this.selectedAccountId),this.populateSearchResult()},updateRecord(e){const t=e.result;t.success?e.object==="Affiliation_vod__c"&&this.updateAffiliation(e.fieldData):this.openErrorModalAndParsePlatformResult({platformErrorResult:t,hideLoading:!0})},createRecord(e){const t=e.result;t.success?e.object==="Affiliation_vod__c"&&(e.fieldData.Id=t.id,this.createAffiliation(e.fieldData)):this.openErrorModalAndParsePlatformResult({platformErrorResult:t,hideLoading:!0})},deleteRecord(e){const t=e.result;t.success?e.object==="Affiliation_vod__c"&&this.deleteAffiliation(t.id):this.openErrorModalAndParsePlatformResult({platformErrorResult:t,hideLoading:!0})},deleteAffiliationRequest(e){this.affiliationDeleteConfirmRequest=e,this.showAffiliationDeleteConfirmModal=!0},deleteAffiliationConfirm(e){this.showLoadingModal(),this.showAffiliationDeleteConfirmModal=!1,this.getMessageService.sendDeleteAffiliationRequest(e)},createAffiliationRequest(e){this.showLoadingModal(),this.getMessageService.sendCreateAffiliationRequest(e)},updateAffiliationRequest(e){this.showLoadingModal(),this.getMessageService.sendUpdateAffiliationRequest(e)},deleteAffiliation(e){this.hideLoadingModal(),Z.deleteAffiliation(e),this.populateAccountDetail(this.selectedAccountId)},updateAffiliation(e){Z.updateAffiliation(e),this.populateAccountDetail(this.selectedAccountId),this.hideLoadingModal(),this.showModifyAffiliationModal=!1},createAffiliation(e){Z.createAffiliation(e),this.populateAccountDetail(this.selectedAccountId),this.hideLoadingModal(),this.showModifyAffiliationModal=!1},fit(){Z.fit()},zoomIn(){Z.zoomIn()},zoomOut(){Z.zoomOut()},pingAccount(e){Z.pingAccount(e),this.populateAccountDetail(this.selectedAccountId),this.populateSearchResult()},applyFilter(e){this.showLoadingModal(),setTimeout(()=>{this.setHierarchyViewSelectedFilters(e),Z.processFilterRequest(e),this.populateAccountDetail(this.selectedAccountId),this.hideLoadingModal()},0)},populateSearchResult(e){e&&this.setHierarchyViewSearchTerm(e);const t=e??this.getHierarchyViewSearchTerm;t&&(this.searchResult=this.copyArray(Z.getSearchResult(t)))},copyArray(e){let t=[];return e&&e.forEach(i=>{typeof i=="object"?t.push(Object.assign({},i)):t.push(i)}),t},clearSearchResults(){this.setHierarchyViewSearchTerm(""),this.searchResult=null},toggleAffiliations(e){Z.toggleAffiliations(e),this.hideLoadingModal()},toggleShowPrimary(e){Z.toggleShowPrimary(e),this.populateAccountDetail(this.selectedAccountId),this.hideLoadingModal()}}},C0={class:"root"},S0=u("div",{id:"tree"},null,-1);function M0(e,t,i,n,o,s){const r=M("ActionMenu"),a=M("GraphMenu"),l=M("AccountDetail"),c=M("AddToTerritoryModal"),d=M("ModifyAffiliation"),f=M("AffiliationDeleteModal");return g(),A("div",C0,[S0,o.readyToRenderActionMenu?(g(),R(r,{key:0,"search-result":o.searchResult,"available-filter-values":o.availableFilterValues,onSearch:s.populateSearchResult,onClearSearch:s.clearSearchResults,onApplyFilter:s.applyFilter,onToggleAffiliations:t[0]||(t[0]=h=>s.toggleAffiliations(h)),onShowPrimary:t[1]||(t[1]=h=>s.toggleShowPrimary(h)),onRedirect:t[2]||(t[2]=h=>s.sendRedirectRequest(h)),onToggleAccounts:t[3]||(t[3]=h=>s.toggleAccountAndParentVisibility(h)),onPingAccount:t[4]||(t[4]=h=>s.pingAccount(h)),onLoadRelatedObjects:t[5]||(t[5]=h=>s.sendAccountRelatedObjectRequest(h))},null,8,["search-result","available-filter-values","onSearch","onClearSearch","onApplyFilter"])):b("",!0),I(a,{onFit:s.fit,onZoomIn:s.zoomIn,onZoomOut:s.zoomOut},null,8,["onFit","onZoomIn","onZoomOut"]),o.showAccountDetail?(g(),R(l,{key:1,account:o.selectedAccount,onCloseDetail:s.closeAccountDetail,onToggleAccounts:t[6]||(t[6]=h=>s.toggleAccountAndParentVisibility(h)),onPingAccount:t[7]||(t[7]=h=>s.pingAccount(h)),onDeleteAffiliationRequest:t[8]||(t[8]=h=>s.deleteAffiliationRequest(h)),onEditAffiliation:t[9]||(t[9]=h=>s.editAffiliation(h)),onAddAffiliation:t[10]||(t[10]=h=>s.createAffiliationClick(h)),onRedirect:t[11]||(t[11]=h=>s.sendRedirectRequest(h)),onAddToTerritory:t[12]||(t[12]=h=>s.addToTerrClick(h)),onLoadChildren:t[13]||(t[13]=h=>s.loadChildren(h)),onLoadRelatedObjects:t[14]||(t[14]=h=>s.sendAccountRelatedObjectRequest(h)),onLoadOohAccounts:t[15]||(t[15]=h=>s.sendOOHAccountRequest(h)),onLaunchAffiliationView:t[16]||(t[16]=h=>e.$emit("launch-affiliation-view",h))},null,8,["account","onCloseDetail"])):b("",!0),o.showAddToTerrModal?(g(),R(c,{key:2,account:o.addToTerrRequest,onAddToTerritory:t[17]||(t[17]=h=>s.addToTerritory(h)),onCloseModal:t[18]||(t[18]=h=>o.showAddToTerrModal=!1)},null,8,["account"])):b("",!0),o.showModifyAffiliationModal?(g(),R(d,{key:3,onEnterNodeSelection:t[19]||(t[19]=h=>s.enterNodeSelectMode(h)),onCloseNodeSelection:s.closeNodeSelectMode,onCreateAffiliation:t[20]||(t[20]=h=>s.createAffiliationRequest(h)),onUpdateAffiliation:t[21]||(t[21]=h=>s.updateAffiliationRequest(h)),onCloseModal:t[22]||(t[22]=h=>o.showModifyAffiliationModal=!1)},null,8,["onCloseNodeSelection"])):b("",!0),o.showAffiliationDeleteConfirmModal?(g(),R(f,{key:4,"affiliation-delete-request":o.affiliationDeleteConfirmRequest,onAffiliationDeleteCancel:t[23]||(t[23]=h=>o.showAffiliationDeleteConfirmModal=!1),onAffiliationDeleteConfirm:t[24]||(t[24]=h=>s.deleteAffiliationConfirm(h))},null,8,["affiliation-delete-request"])):b("",!0)])}const k0=z(T0,[["render",M0]]),O0={name:"OverflowSelect",props:{options:{type:Array,default:()=>[]}},emits:["selection","close"],mounted(){document.addEventListener("click",this.closeElementOnClickOutside)},unmounted(){document.removeEventListener("click",this.closeElementOnClickOutside)},methods:{closeElementOnClickOutside(e){var t;this.$el&&!((t=this.$el)!=null&&t.contains(e.target))&&this.$emit("close")}}},E0={class:"breadcrumb-overflow modal-drop-shadow"},F0=["onClick"],N0={class:"two-line breadcrumb-overflow-item-text"},R0={class:"two-line"};function V0(e,t,i,n,o,s){return g(),A("div",E0,[(g(!0),A(B,null,xe(i.options,(r,a)=>(g(),A("div",{key:a,class:"breadcrumb-overflow-item",onClick:l=>e.$emit("selection",a)},[u("div",N0,[u("div",R0,w(r.rootAccountName),1)])],8,F0))),128))])}const L0=z(O0,[["render",V0],["__scopeId","data-v-6cc3ba6f"]]),D0={name:"AffiliationViewHeaderButton",components:{PlatformIcon:Se},props:{iconName:{type:String,default:""},label:{type:String,default:""},isActive:{type:Boolean,default:!1},invertColors:{type:Boolean,default:!1},willLaunchModal:{type:Boolean,default:!0},platformSpecificIcon:{type:Boolean,default:!0}},emits:["toggle-modal"],computed:{actionIconColorVariant(){return this.invertColors?"white":"gray"},dropDownIconColorVariant(){return this.invertColors?"white":"black"},platform(){return"salesforce"}}},x0={id:"action-icon-with-label"},P0={id:"button-label",class:"one-line"},$0={key:0,class:"dropdown-container"};function H0(e,t,i,n,o,s){const r=M("PlatformIcon");return g(),A("button",{class:W(["aff-view-header-button",{"aff-view-header-button-selected":i.invertColors,"aff-view-header-button-active":i.isActive}]),onClick:t[0]||(t[0]=a=>e.$emit("toggle-modal"))},[u("div",x0,[I(r,{id:"action-icon","file-name":i.iconName,"is-platform-specific":i.platformSpecificIcon,variant:s.actionIconColorVariant},null,8,["file-name","is-platform-specific","variant"]),u("span",P0,w(i.label),1)]),i.willLaunchModal?(g(),A("div",$0,[I(r,{id:"dropdown-icon","file-name":"dropdown","is-platform-specific":!0,variant:s.dropDownIconColorVariant},null,8,["variant"]),s.platform==="ipad"&&i.invertColors?(g(),R(r,{key:0,class:"modal-arrow","file-name":"modal-arrow","is-platform-specific":!0})):b("",!0)])):b("",!0)],2)}const B0=z(D0,[["render",H0],["__scopeId","data-v-1bcb2b12"]]),U0={name:"AffiliationViewSearchResult",components:{PlatformIcon:Se,AffiliationInfo:Wa},props:{affiliation:{type:Object,required:!0},showInfo:{type:Boolean,default:!1},canViewNode:{type:Boolean,default:!1}},emits:["ping-affiliation","toggle-show-info"],computed:{...oe(["getVeevaMessage","getPicklistValueTranslation","getAccountIdentifierValue"]),affiliationTileCSS(){return{"not-visible":this.affiliation.isFiltered}},affiliationIconColor(){switch(this.affiliation.fields.Relationship_Strength_vod__c){case"0":return"weak";case"1":return"medium";case"2":return"strong"}return"none"},showAccountIdentifierContainer(){return this.secondaryAccountIdentifier||this.tertiaryAccountIdentifier||this.affiliation.fields.Role_vod__c},secondaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.SECONDARY,this.affiliation.toAccount)},tertiaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.TERTIARY,this.affiliation.toAccount)}},methods:{toggleAffiliationInfo(){this.$emit("toggle-show-info",this.affiliation.id)}}},j0=["src"],z0={class:"account-info-container"},q0={class:"account-name-text"},G0={key:0,class:"account-identifier-container"},W0={class:"node-identifier one-line"},K0={class:"node-identifier one-line"},Y0={class:"node-role one-line"},Q0={class:"account-child-aff-count-container"},X0={class:"account-aff-count-container"},Z0={class:"influence-text"},J0={key:0,class:"target-account-button-container"},eI={class:"target-text"},tI={key:1,class:"affiliation-tile-show-info-padding"};function iI(e,t,i,n,o,s){const r=M("PlatformIcon"),a=M("AffiliationInfo");return g(),A("div",{class:"affiliation-tile-and-rows-container",onClick:t[1]||(t[1]=(...l)=>s.toggleAffiliationInfo&&s.toggleAffiliationInfo(...l))},[u("div",{class:W(["affiliation-tile-container",s.affiliationTileCSS])},[u("img",{src:i.affiliation.toAccount.recordTypeResourceUrl,class:"account-icon"},null,8,j0),u("div",z0,[u("span",q0,w(i.affiliation.toAccount.fields.Formatted_Name_vod__c.value),1),s.showAccountIdentifierContainer?(g(),A("div",G0,[u("span",W0,w(s.secondaryAccountIdentifier),1),u("span",K0,w(s.tertiaryAccountIdentifier),1),u("span",Y0,w(e.getPicklistValueTranslation("Affiliation_vod__c","Role_vod__c",i.affiliation.fields.Role_vod__c)),1)])):b("",!0),u("div",Q0,[u("div",X0,[I(r,{"file-name":"affiliation-arrow",variant:s.affiliationIconColor,class:"influence-icon"},null,8,["variant"]),u("span",Z0,w(e.getPicklistValueTranslation("Affiliation_vod__c","Influence_vod__c",i.affiliation.fields.Influence_vod__c)),1)])])]),i.canViewNode?(g(),A("div",J0,[u("div",{class:"target-account-button",onClick:t[0]||(t[0]=ke(l=>e.$emit("ping-affiliation",i.affiliation.id),["stop"]))},[I(r,{class:"target-icon","file-name":"target","is-platform-specific":!0}),u("span",eI,w(e.getVeevaMessage("VIEW")),1)])])):b("",!0)],2),i.showInfo?(g(),R(a,{key:0,aff:i.affiliation.fields,"can-edit-affiliation":!1,"can-delete-affiliation":!1,"can-toggle-visibility":!1,"include-to-and-from-account":!1},null,8,["aff"])):b("",!0),i.showInfo?(g(),A("div",tI)):b("",!0)])}const nI=z(U0,[["render",iI],["__scopeId","data-v-2198044e"]]),oI={name:"AffiliationViewSearchModal",components:{BaseSearchModal:il,AffiliationViewSearchResult:nI,DynamicScroller:Ei,DynamicScrollerItem:Ln},props:{results:{type:Array,default:null}},emits:["ping-affiliation","search","clear-search","close-modal"],data(){return{toggledAffiliationInfo:null}},methods:{changeToggledAffiliationInfo(e){this.toggledAffiliationInfo===e?this.toggledAffiliationInfo=null:this.toggledAffiliationInfo=e}}};function sI(e,t,i,n,o,s){const r=M("AffiliationViewSearchResult"),a=M("DynamicScrollerItem"),l=M("DynamicScroller"),c=M("BaseSearchModal");return g(),R(c,{"has-searched":i.results!=null,"has-results":i.results!=null&&i.results.length!==0,onSearch:t[1]||(t[1]=d=>e.$emit("search",d)),onClearSearch:t[2]||(t[2]=d=>e.$emit("clear-search",d)),onCloseModal:t[3]||(t[3]=d=>e.$emit("close-modal",d))},{default:pe(()=>[I(l,{items:i.results,"min-item-size":54,"key-field":"id",class:"search-results-scroll-container"},{default:pe(({item:d,index:f,active:h})=>[I(a,{item:d,active:h,"data-index":f},{default:pe(()=>[I(r,{affiliation:d,"show-info":o.toggledAffiliationInfo===d.id,"can-view-node":!d.isFiltered,onPingAffiliation:t[0]||(t[0]=_=>e.$emit("ping-affiliation",_)),onToggleShowInfo:s.changeToggledAffiliationInfo},null,8,["affiliation","show-info","can-view-node","onToggleShowInfo"])]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"])]),_:1},8,["has-searched","has-results"])}const rI=z(oI,[["render",sI],["__scopeId","data-v-616139ba"]]);function Nr(e,t){if(e.accountFilters.custom.territories&&e.accountFilters.custom.territories.length>0){let i=!1;for(const n of e.accountFilters.custom.territories)if(t.toAccount.territories.includes(n)){i=!0;break}if(!i)return!1}if(e.accountFilters.custom.recordTypes&&e.accountFilters.custom.recordTypes.length>0&&!e.accountFilters.custom.recordTypes.includes(t.toAccount.recordType.Id)||e.affiliationFilters.custom.showAffWithInf&&t.fields.Influence_vod__c!=="Has influence"&&t.fields.Influence_vod__c!=="Is influenced")return!1;for(const i of Object.keys(e.affiliationFilters.fieldPicklists)){if(e.affiliationFilters.fieldPicklists[i].length===0)continue;const n=t.fields[i];if(!n||Array.isArray(n)&&n.length===0){if(!e.affiliationFilters.fieldPicklists[i].includes(null))return!1}else if(Array.isArray(n)){let o=!1;for(const s of n)if(e.affiliationFilters.fieldPicklists[i].includes(s)){o=!0;break}if(!o)return!1}else if(!e.affiliationFilters.fieldPicklists[i].includes(n))return!1}return!0}function aI(e){let t=0;e.accountFilters.custom.territories&&(t+=e.accountFilters.custom.territories.length),e.accountFilters.custom.recordTypes&&(t+=e.accountFilters.custom.recordTypes.length),e.affiliationFilters.custom.showAffWithInf&&(t+=1);for(const i of Object.keys(e.affiliationFilters.fieldPicklists))e.affiliationFilters.fieldPicklists[i]&&(t+=e.affiliationFilters.fieldPicklists[i].length);return t}const lI={name:"AffiliationViewHeader",components:{PlatformIcon:Se,OverflowSelect:L0,AffiliationViewHeaderButton:B0,AffiliationViewSearchModal:rI,FilterModal:nl,LegendModal:ol},props:{breadcrumbStack:{type:Array,default:()=>[]},selectedModal:{type:String,default:null},searchResults:{type:Array,default:null}},emits:["launch-hierarchy-view","pop-bread-crumb","pop-bread-crumb-to-index","search","clear-search","ping-affiliation","apply-filter","modal-selection"],data(){return{MAX_BREADCRUMB_NAME_LENGTH:22,showOverflowBreadcrumb:!1}},computed:{...oe(["getVeevaMessage","getAffiliationViewAvailableFilters","getAffiliationViewSelectedFilters","canCreateAffiliations"]),activeFilterCount(){return aI(this.getAffiliationViewSelectedFilters)},filterButtonLabel(){let e=this.getVeevaMessage("FILTER");return this.activeFilterCount>0&&(e+=` (${this.activeFilterCount})`),e},breadcrumbsToDisplay(){return this.breadcrumbStack.slice(-2)},platform(){return"salesforce"}}},cI={class:"header-container"},dI={class:"header-breadcrumb-container"},fI={class:"clickable-area-expander-small"},uI={class:"ellipses-container"},hI={key:1,class:"breadcrumb-active one-line"},gI={class:"clickable-area-expander-small"},pI={class:"breadcrumb-active one-line"},mI={class:"header-button-group"},_I={key:0,class:"header-button-modal-container"},AI={class:"header-button-modal-container"},yI={class:"header-button-modal-container"},vI={class:"header-button-modal-container"};function bI(e,t,i,n,o,s){var h,_,T;const r=M("PlatformIcon"),a=M("OverflowSelect"),l=M("AffiliationViewHeaderButton"),c=M("AffiliationViewSearchModal"),d=M("FilterModal"),f=M("LegendModal");return g(),A("div",cI,[u("div",dI,[u("div",fI,[u("div",{class:"breadcrumb-clickable one-line",onClick:t[0]||(t[0]=y=>e.$emit("launch-hierarchy-view"))},w(e.getVeevaMessage("BACK_TO_HIERARCHY_VIEW")),1)]),I(r,{class:"breadcrumb-caret-icon","file-name":"breadcrumb-caret"}),i.breadcrumbStack.length>2?(g(),A(B,{key:0},[u("div",uI,[u("div",{class:"ellipses breadcrumb-clickable clickable-area-expander-large noselect",onClick:t[1]||(t[1]=ke(y=>o.showOverflowBreadcrumb=!o.showOverflowBreadcrumb,["stop"]))}," ... "),o.showOverflowBreadcrumb&&s.platform==="ipad"?(g(),R(r,{key:0,class:"modal-arrow","file-name":"modal-arrow","is-platform-specific":!0})):b("",!0),o.showOverflowBreadcrumb?(g(),R(a,{key:1,class:"breadcrumb-overflow-select",options:i.breadcrumbStack.slice(0,i.breadcrumbStack.length-2),onSelection:t[2]||(t[2]=y=>e.$emit("pop-bread-crumb-to-index",y)),onClose:t[3]||(t[3]=y=>o.showOverflowBreadcrumb=!1)},null,8,["options"])):b("",!0)]),I(r,{class:"breadcrumb-caret-icon","file-name":"breadcrumb-caret"})],64)):b("",!0),s.breadcrumbsToDisplay.length===1?(g(),A("div",hI,w((h=s.breadcrumbsToDisplay[0])==null?void 0:h.rootAccountName),1)):s.breadcrumbsToDisplay.length===2?(g(),A(B,{key:2},[u("div",gI,[u("div",{class:"breadcrumb-clickable one-line",onClick:t[4]||(t[4]=y=>e.$emit("pop-bread-crumb"))},w((_=s.breadcrumbsToDisplay[0])==null?void 0:_.rootAccountName),1)]),I(r,{class:"breadcrumb-caret-icon","file-name":"breadcrumb-caret"}),u("div",pI,w((T=s.breadcrumbsToDisplay[1])==null?void 0:T.rootAccountName),1)],64)):b("",!0)]),u("div",mI,[e.canCreateAffiliations?(g(),A("div",_I,[I(l,{"icon-name":"plus",label:e.getVeevaMessage("ADD_AFFILIATION"),"will-launch-modal":!1,"platform-specific-icon":!1,onToggleModal:t[5]||(t[5]=y=>e.$emit("modal-selection","account-search"))},null,8,["label"])])):b("",!0),u("div",AI,[I(l,{"icon-name":"search",label:e.getVeevaMessage("SEARCH"),"invert-colors":i.selectedModal==="search",onToggleModal:t[6]||(t[6]=y=>e.$emit("modal-selection","search"))},null,8,["label","invert-colors"]),i.selectedModal==="search"?(g(),R(c,{key:0,class:"header-modal-placement",results:i.searchResults,onSearch:t[7]||(t[7]=y=>e.$emit("search",y)),onClearSearch:t[8]||(t[8]=y=>e.$emit("clear-search")),onPingAffiliation:t[9]||(t[9]=y=>e.$emit("ping-affiliation",y)),onCloseModal:t[10]||(t[10]=y=>e.$emit("modal-selection",null))},null,8,["results"])):b("",!0)]),u("div",yI,[I(l,{"icon-name":"filter",label:s.filterButtonLabel,"is-active":s.activeFilterCount>0,"invert-colors":i.selectedModal==="filter",onToggleModal:t[11]||(t[11]=y=>e.$emit("modal-selection","filter"))},null,8,["label","is-active","invert-colors"]),i.selectedModal==="filter"?(g(),R(d,{key:0,class:"header-modal-placement","available-filters":e.getAffiliationViewAvailableFilters,"initially-selected-filter-values":e.getAffiliationViewSelectedFilters,onApplyFilter:t[12]||(t[12]=y=>e.$emit("apply-filter",y)),onCloseModal:t[13]||(t[13]=y=>e.$emit("modal-selection",null))},null,8,["available-filters","initially-selected-filter-values"])):b("",!0)]),u("div",vI,[I(l,{"icon-name":"legend",label:e.getVeevaMessage("LEGEND"),"invert-colors":i.selectedModal==="legend",onToggleModal:t[14]||(t[14]=y=>e.$emit("modal-selection","legend"))},null,8,["label","invert-colors"]),i.selectedModal==="legend"?(g(),R(f,{key:0,class:"header-modal-placement","include-hierarchy-node-information":!1,onCloseModal:t[15]||(t[15]=y=>e.$emit("modal-selection",null))})):b("",!0)])])])}const wI=z(lI,[["render",bI],["__scopeId","data-v-bc5740ab"]]),II={name:"AffiliationViewRootNode",components:{PlatformIcon:Se},props:{rootAccountData:{type:Object,required:!0},pageConfig:{type:Object,required:!0}},emits:["page-forward","page-backward"],computed:{...oe(["getVeevaMessage","getAccountIdentifierValue"]),canPageBackward(){return this.pageConfig.currentPageNumber>0},canPageForward(){return this.pageConfig.totalAffiliationCount>this.pageConfig.PAGE_SIZE*(this.pageConfig.currentPageNumber+1)},secondaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.SECONDARY,this.rootAccountData)},tertiaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.TERTIARY,this.rootAccountData)},shouldGrayAffiliations(){return this.pageConfig.totalAffiliationCount===0},formattedPaginationMessage(){const e=this.pageConfig.totalAffiliationCount===0?0:this.pageConfig.currentPageNumber*this.pageConfig.PAGE_SIZE+1,t=Math.min(this.pageConfig.totalAffiliationCount,(this.pageConfig.currentPageNumber+1)*this.pageConfig.PAGE_SIZE);return this.getVeevaMessage("AFFILIATION_RESULTS_COUNT").replace("{0}",e).replace("{1}",t).replace("{2}",this.pageConfig.totalAffiliationCount)}}},TI=e=>(Ht("data-v-3b811387"),e=e(),Bt(),e),CI={class:"root-node-container"},SI={class:"node-content"},MI={class:"node-information-content"},kI={class:"node-icon-and-information"},OI={class:"node-information-record-type-icon-container"},EI=["src"],FI={class:"node-information-identifiers"},NI={class:"node-information-name two-line"},RI={key:0,class:"node-identifier one-line"},VI={key:1,class:"node-identifier one-line"},LI={class:"affiliation-count-container"},DI=TI(()=>u("div",{class:"silver-line"},null,-1)),xI={class:"pagination-controller"},PI={class:"formatted-pagination-message"};function $I(e,t,i,n,o,s){var a;const r=M("PlatformIcon");return g(),A("div",CI,[u("div",SI,[u("div",MI,[u("div",kI,[u("div",OI,[u("img",{class:"node-information-record-type-icon",src:i.rootAccountData.recordTypeResourceUrl},null,8,EI)]),u("div",FI,[u("div",NI,w((a=i.rootAccountData.fields.Formatted_Name_vod__c)==null?void 0:a.value),1),s.secondaryAccountIdentifier?(g(),A("div",RI,w(s.secondaryAccountIdentifier),1)):b("",!0),s.tertiaryAccountIdentifier?(g(),A("div",VI,w(s.tertiaryAccountIdentifier),1)):b("",!0)])]),u("div",LI,[I(r,{"file-name":"affiliation-arrow",variant:i.pageConfig.totalAffiliationCount>0?"black":"gray",class:"affiliation-count-icon"},null,8,["variant"]),u("div",{class:W(["affiliation-count",{"text-grayed":s.shouldGrayAffiliations}])},w(i.pageConfig.totalAffiliationCount),3)])]),DI,u("div",xI,[I(r,{class:W(["pagination-arrow-icon clickable-area-expander-large",s.canPageBackward?"pagination-possible":""]),variant:s.canPageBackward?"blue":"gray","file-name":"pagination",onClick:t[0]||(t[0]=l=>s.canPageBackward&&e.$emit("page-backward"))},null,8,["class","variant"]),u("div",PI,w(s.formattedPaginationMessage),1),I(r,{class:W(["pagination-arrow-icon forwards-arrow clickable-area-expander-large",s.canPageForward?"pagination-possible":""]),variant:s.canPageForward?"blue":"gray","file-name":"pagination",onClick:t[1]||(t[1]=l=>s.canPageForward&&e.$emit("page-forward"))},null,8,["class","variant"])])])])}const HI=z(II,[["render",$I],["__scopeId","data-v-3b811387"]]),BI={name:"AffiliationViewLeafArrow",props:{affiliation:{type:Object,required:!0}},expose:["affiliation","animateSelection"],data(){return{playAddAnimation:!1,playSearchAnimation:!1}},computed:{arrowStyle(){return{...this.styleArrowLine(this.affiliation.fields.Influence_vod__c,this.affiliation.fields.Relationship_Strength_vod__c),"add-animation":this.playAddAnimation,"search-animation":this.playSearchAnimation}}},methods:{styleMarkerStart(e,t){return e!=="Is influenced"?"none":`url(#inward-influence-${this.findColorForRelationshipStrength(t)}-arrow)`},styleMarkerEnd(e,t){return e!=="Has influence"?"none":`url(#outward-influence-${this.findColorForRelationshipStrength(t)}-arrow)`},styleArrowLine(e,t){const i=this.findColorForRelationshipStrength(t),n=!e||e==="No influence";return{[i]:!0,"no-influence-dash":n}},findColorForRelationshipStrength(e){switch(e){case null:case void 0:case"":return"light-blue";case"0":return"medium-blue";case"1":return"dark-blue";case"2":return"black";default:return"light-blue"}},animateSelection(e){switch(e){case bi.ADD:this.playAddAnimation=!0;break;case bi.SEARCH:this.playSearchAnimation=!0;break}}}},UI=["marker-start","marker-end"];function jI(e,t,i,n,o,s){return g(),A("line",{class:W(["arrow",s.arrowStyle]),"marker-start":s.styleMarkerStart(i.affiliation.fields.Influence_vod__c,i.affiliation.fields.Relationship_Strength_vod__c),"marker-end":s.styleMarkerEnd(i.affiliation.fields.Influence_vod__c,i.affiliation.fields.Relationship_Strength_vod__c),onAnimationend:t[0]||(t[0]=r=>{o.playAddAnimation=!1,o.playSearchAnimation=!1})},null,42,UI)}const zI=z(BI,[["render",jI],["__scopeId","data-v-73c570c7"]]),qI={name:"AffiliationViewLeafNode",components:{PlatformIcon:Se},props:{affiliation:{type:Object,required:!0}},expose:["affiliation","animateSelection"],data(){return{dummyImageKey:!1,playAddAnimation:!1,playSearchAnimation:!1}},computed:{...oe(["getAccountIdentifierValue","getPicklistValueTranslation"]),leafStyle(){return{"add-animation":this.playAddAnimation,"search-animation":this.playSearchAnimation}},secondaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.SECONDARY,this.affiliation.toAccount)},tertiaryAccountIdentifier(){return this.getAccountIdentifierValue(Fe.TERTIARY,this.affiliation.toAccount)},shouldGrayAffiliations(){return this.affiliation.toAccountAffiliationCount===0}},mounted(){navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")==-1&&navigator.userAgent.indexOf("FxiOS")==-1&&setTimeout(()=>{this.dummyImageKey=!this.dummyImageKey},5)},methods:{animateSelection(e){switch(e){case bi.ADD:this.playAddAnimation=!0;break;case bi.SEARCH:this.playSearchAnimation=!0;break}}}},GI={class:"node-information-container"},WI=["src"],KI={class:"node-information-identifiers"},YI={class:"node-information-name two-line"},QI={key:0,class:"node-identifier one-line"},XI={key:1,class:"node-identifier one-line"},ZI={class:"node-role one-line"},JI={class:"affiliation-count-container"};function eT(e,t,i,n,o,s){var a,l;const r=M("PlatformIcon");return g(),A("div",{class:W(["leaf-node-container leaf-node-sizing noselect",s.leafStyle]),onAnimationend:t[0]||(t[0]=c=>{o.playAddAnimation=!1,o.playSearchAnimation=!1})},[u("div",GI,[(g(),A("img",{key:o.dummyImageKey,class:"node-information-record-type-icon",src:i.affiliation.toAccount.recordTypeResourceUrl},null,8,WI)),u("div",KI,[u("div",YI,w((l=(a=i.affiliation.toAccount)==null?void 0:a.fields.Formatted_Name_vod__c)==null?void 0:l.value),1),s.secondaryAccountIdentifier?(g(),A("div",QI,w(s.secondaryAccountIdentifier),1)):b("",!0),s.tertiaryAccountIdentifier?(g(),A("div",XI,w(s.tertiaryAccountIdentifier),1)):b("",!0),u("div",ZI,w(e.getPicklistValueTranslation("Affiliation_vod__c","Role_vod__c",i.affiliation.fields.Role_vod__c)),1)])]),u("div",JI,[(g(),R(r,{key:o.dummyImageKey,"file-name":"affiliation-arrow",variant:s.shouldGrayAffiliations?"gray":"black",class:"affiliation-count-icon"},null,8,["variant"])),u("div",{class:W(["affiliation-count",{"text-grayed":s.shouldGrayAffiliations}])},w(i.affiliation.toAccountAffiliationCount),3)])],34)}const tT=z(qI,[["render",eT],["__scopeId","data-v-415d6e7a"]]),iT={name:"AffiliationViewGraph",components:{AffiliationViewRootNode:HI,AffiliationViewLeafArrow:zI,AffiliationViewLeafNode:tT},props:{rootAccountData:{type:Object,required:!0},affiliationsInCurrentPage:{type:Array,default:()=>[]},pageConfig:{type:Object,required:!0},selectedAffiliation:{type:Object,default:()=>{}}},expose:["animateLeafNodeSelection"],emits:["page-forward","page-backward","leaf-node-click"],mounted(){this.translateNodesAndArrows(),addEventListener("resize",()=>{this.translateNodesAndArrows()})},updated(){this.translateNodesAndArrows()},methods:{translateNodesAndArrows(){const e=document.querySelector(".graph-background"),t=document.querySelectorAll(".leaf-node"),i=document.querySelectorAll(".arrow"),n=e.clientWidth/2,o=e.clientHeight/2,s=.4,r=.42,a=document.querySelector(".root-node-container").getBoundingClientRect(),l=this.getCoordinatesOfBoxRelativeToOrigin(0,0,a);t.forEach((c,d)=>{const f=360/t.length*d-90,h=s*e.clientWidth*Math.cos(f*Math.PI/180),_=r*e.clientHeight*Math.sin(f*Math.PI/180),T=-_/h;c.style.transform=`translate(${h}px, ${_}px)`;const y=c.getBoundingClientRect(),V=this.getCoordinatesOfBoxRelativeToOrigin(h,-_,y),L=this.findClosestInterceptBetweenLineAndBoxOrNull(T,V,0,0),Y=this.findClosestInterceptBetweenLineAndBoxOrNull(T,l,L.xIntersection,L.yIntersection),x=n+Y.xIntersection,P=n+L.xIntersection,de=o-Y.yIntersection,Q=o-L.yIntersection;i[d].setAttribute("x1",x),i[d].setAttribute("x2",P),i[d].setAttribute("y1",de),i[d].setAttribute("y2",Q)})},getCoordinatesOfBoxRelativeToOrigin(e,t,i){const n=i.width/2,o=i.height/2,s={x:e-n,y:t+o},r={x:e+n,y:t+o},a={x:e+n,y:t-o},l={x:e-n,y:t-o};return[s,r,a,l]},findClosestInterceptBetweenLineAndBoxOrNull(e,t,i,n){let o=1/0,s=null,r=null;for(let a=0;a<4;a++){const l=t[a].x,c=t[a].y,d=t[(a+1)%4].x,f=t[(a+1)%4].y,{xIntersection:h,yIntersection:_}=this.getInterceptOfArrowLineAndBoxSide(e,l,c,d,f);if(h!=null&&_!=null&&Math.min(l,d)<=h&&h<=Math.max(l,d)&&Math.min(c,f)<=_&&_<=Math.max(c,f)){const T=Math.sqrt((h-i)**2+(_-n)**2);T<o&&(o=T,s=h,r=_)}}return{xIntersection:s,yIntersection:r}},getInterceptOfArrowLineAndBoxSide(e,t,i,n,o){const s=t===n,r=i===o;if(s){const a=t,l=e*a;return{xIntersection:a,yIntersection:l}}else if(r){const a=i;return{xIntersection:a/e,yIntersection:a}}throw new Error("getInterceptOfArrowLineAndBoxSide() is only configured to find intercepts with box sides")},animateLeafNodeSelection(e,t){this.$nextTick(()=>{const i=this.$refs.leaves.find(o=>o.affiliation.id===e),n=this.$refs.arrows.find(o=>o.affiliation.id===e);i==null||i.animateSelection(t),n==null||n.animateSelection(t)})}}},nT={class:"graph-background"},oT={class:"arrows"},sT=Fd('<defs data-v-166a6ca4><marker id="outward-influence-light-blue-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto" data-v-166a6ca4><polyline class="arrow-end light-blue" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker><marker id="outward-influence-medium-blue-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto" data-v-166a6ca4><polyline class="arrow-end medium-blue" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker><marker id="outward-influence-dark-blue-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto" data-v-166a6ca4><polyline class="arrow-end dark-blue" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker><marker id="outward-influence-black-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto" data-v-166a6ca4><polyline class="arrow-end black" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker><marker id="inward-influence-light-blue-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto-start-reverse" data-v-166a6ca4><polyline class="arrow-end light-blue" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker><marker id="inward-influence-medium-blue-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto-start-reverse" data-v-166a6ca4><polyline class="arrow-end medium-blue" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker><marker id="inward-influence-dark-blue-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto-start-reverse" data-v-166a6ca4><polyline class="arrow-end dark-blue" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker><marker id="inward-influence-black-arrow" markerWidth="5" markerHeight="8" refX="2.5" refY="2.5" viewBox="0 0 5 5" orient="auto-start-reverse" data-v-166a6ca4><polyline class="arrow-end black" points="0,3.5 2,1.25 0, -1" data-v-166a6ca4></polyline></marker></defs>',1);function rT(e,t,i,n,o,s){const r=M("AffiliationViewRootNode"),a=M("AffiliationViewLeafArrow"),l=M("AffiliationViewLeafNode");return g(),A("div",nT,[I(r,{"root-account-data":i.rootAccountData,"page-config":i.pageConfig,onPageForward:t[0]||(t[0]=c=>e.$emit("page-forward")),onPageBackward:t[1]||(t[1]=c=>e.$emit("page-backward"))},null,8,["root-account-data","page-config"]),(g(),A("svg",oT,[sT,(g(!0),A(B,null,xe(i.affiliationsInCurrentPage,c=>(g(),R(a,{ref_for:!0,ref:"arrows",key:c.id+"-"+c.fields.Influence_vod__c+"-"+c.fields.Relationship_Strength_vod__c,affiliation:c},null,8,["affiliation"]))),128))])),(g(!0),A(B,null,xe(i.affiliationsInCurrentPage,c=>{var d;return g(),R(l,{ref_for:!0,ref:"leaves",key:c.id,affiliation:c,class:W(["leaf-node",c.id===((d=i.selectedAffiliation)==null?void 0:d.id)?"selected-leaf-node":""]),onClick:f=>e.$emit("leaf-node-click",c.id)},null,8,["affiliation","class","onClick"])}),128))])}const aT=z(iT,[["render",rT],["__scopeId","data-v-166a6ca4"]]),lT=["Influence_vod__c","Relationship_Strength_vod__c","Role_vod__c","Therapeutic_Area_vod__c"],cT={name:"AffiliationViewDetailModal",components:{DetailModalHeader:Ga,AffiliationDiagram:rl,AccountInfo:gs,Button:ot},props:{rootAccountData:{type:Object,required:!0},selectedAffiliation:{type:Object,required:!0}},emits:["close-detail","edit-affiliation","delete-affiliation-request","load-related-objects","jump-into-leaf","redirect","add-to-territory"],data(){return{currentTab:"Affiliation",isLoadingFromAccountRelatedObjectInfo:!1,isLoadingToAccountRelatedObjectInfo:!1}},computed:{...oe(["getVeevaMessage","canEditAffiliation","canDeleteAffiliation","getFieldLabel","getFieldMetadata","getPicklistValueTranslation","getIsTimelineEnabled","getZvodAffiliationFields","getIsAddToTerritoryEnabled"]),getFieldsToDisplayWithData(){const e=[...lT,...this.getZvodAffiliationFields],t=[];for(let i of e){const n=this.getFieldTypeOverrideOrDisplay(i);n&&t.push({label:this.getFieldLabel("Affiliation_vod__c",i),value:n})}return t},showCommentBox(){return this.selectedAffiliation.fields.Comments_vod__c},platform(){return"salesforce"}},watch:{selectedAffiliation:{immediate:!0,handler(e,t){this.rootAccountData.shouldTriggerRelatedObjectLoad?(this.isLoadingFromAccountRelatedObjectInfo=!0,this.$emit("load-related-objects",{accountId:this.rootAccountData.id,isPersonType:this.rootAccountData.recordType.IsPersonType})):this.isLoadingFromAccountRelatedObjectInfo=!1,e.toAccount.shouldTriggerRelatedObjectLoad?(this.isLoadingToAccountRelatedObjectInfo=!0,this.$emit("load-related-objects",{accountId:e.toAccount.id,isPersonType:e.toAccount.recordType.IsPersonType})):this.isLoadingToAccountRelatedObjectInfo=!1,(e==null?void 0:e.id)!==(t==null?void 0:t.id)&&(this.currentTab="Affiliation")}}},methods:{getFieldTypeOverrideOrDisplay(e){const t=this.getFieldMetadata("Affiliation_vod__c",e);if(!t)return;let i=this.selectedAffiliation.fields[e];switch(t.dataType.toLowerCase()){case"picklist":return this.getPicklistValueTranslation("Affiliation_vod__c",e,i);case"multipicklist":return i?i.map(n=>this.getPicklistValueTranslation("Affiliation_vod__c",e,n)).join(", "):null}return i},emitDeleteAffiliationRequest(){const e=this.getVeevaMessage("DELETE_AFFILIATION_MESSAGE").replace("{0}",this.rootAccountData.fields.Formatted_Name_vod__c.value).replace("{1}",this.selectedAffiliation.toAccount.fields.Formatted_Name_vod__c.value);this.$emit("delete-affiliation-request",{affiliationIdToDelete:this.selectedAffiliation.id,deleteRequestMessage:e})}}},Is=e=>(Ht("data-v-3fa5eca6"),e=e(),Bt(),e),dT={class:"affiliation-detail-modal modal-drop-shadow"},fT={class:"affiliation-detail-body"},uT={class:"affiliation-info-row-label"},hT={class:"affiliation-info-row-value"},gT=Is(()=>u("div",{class:"section-divider top-section-divider"},null,-1)),pT={class:"affiliation-comment-container"},mT={class:"comment-box-label"},_T=Is(()=>u("div",{class:"label-divider"},null,-1)),AT={class:"comment-box-content"},yT=Is(()=>u("div",{class:"section-divider bottom-section-divider"},null,-1)),vT={class:"affiliation-info-rows"},bT={key:0,class:"affiliation-info-row"},wT={key:1,class:"affiliation-info-row"},IT={key:2,class:"affiliation-info-row"},TT={key:0,class:"affiliation-detail-footer"},CT={class:"affiliation-detail-body"},ST={key:0,class:"affiliation-detail-footer"},MT={class:"affiliation-detail-body"},kT={key:0,class:"affiliation-detail-footer"};function OT(e,t,i,n,o,s){const r=M("DetailModalHeader"),a=M("AffiliationDiagram"),l=M("Button"),c=M("AccountInfo");return g(),A("div",dT,[o.currentTab==="Affiliation"?(g(),A(B,{key:0},[I(r,{title:i.selectedAffiliation.toAccount.fields.Formatted_Name_vod__c.value,onCloseDetail:t[0]||(t[0]=d=>e.$emit("close-detail"))},null,8,["title"]),u("div",fT,[I(a,{class:"affiliation-diagram-container","from-account":i.rootAccountData,"to-account":i.selectedAffiliation.toAccount,"relationship-strength":i.selectedAffiliation.fields.Relationship_Strength_vod__c,influence:i.selectedAffiliation.fields.Influence_vod__c,"can-click-account-names":!0,onFromAccountClick:t[1]||(t[1]=d=>o.currentTab="FromAccount"),onToAccountClick:t[2]||(t[2]=d=>o.currentTab="ToAccount")},null,8,["from-account","to-account","relationship-strength","influence"]),u("div",{class:W(["affiliation-info-rows field-rows",s.showCommentBox?"bottom-field-border-with-comment":"bottom-field-border-no-comment"])},[(g(!0),A(B,null,xe(s.getFieldsToDisplayWithData,d=>(g(),A("div",{key:d,class:"affiliation-info-row"},[u("span",uT,w(d.label),1),u("span",hT,w(d.value),1)]))),128))],2),s.showCommentBox?(g(),A(B,{key:0},[gT,u("div",pT,[u("span",mT,w(e.getFieldLabel("Affiliation_vod__c","Comments_vod__c")),1),_T,u("div",AT,w(i.selectedAffiliation.fields.Comments_vod__c),1)]),yT],64)):b("",!0),u("div",vT,[i.selectedAffiliation.toAccountAffiliationCount>0?(g(),A("div",bT,[u("span",{class:"affiliation-info-row-label clickable-action-text clickable-action-positive",onClick:t[3]||(t[3]=d=>e.$emit("jump-into-leaf",i.selectedAffiliation.toAccount.id))},w(e.getVeevaMessage("VIEW_ALL_AFFILIATIONS")),1)])):b("",!0),e.canEditAffiliation(i.rootAccountData.isInTerritory,i.selectedAffiliation.toAccount.isInTerritory)?(g(),A("div",wT,[u("span",{class:"affiliation-info-row-label clickable-action-text clickable-action-positive",onClick:t[4]||(t[4]=d=>e.$emit("edit-affiliation"))},w(e.getVeevaMessage("EDIT_AFFILIATION")),1)])):b("",!0),e.canDeleteAffiliation(i.rootAccountData.isInTerritory,i.selectedAffiliation.toAccount.isInTerritory)?(g(),A("div",IT,[u("span",{class:"affiliation-info-row-label clickable-action-text clickable-action-negative",onClick:t[5]||(t[5]=(...d)=>s.emitDeleteAffiliationRequest&&s.emitDeleteAffiliationRequest(...d))},w(e.getVeevaMessage("DELETE_AFFILIATION_BUTTON")),1)])):b("",!0)])]),s.platform!=="ipad"?(g(),A("div",TT,[I(l,{label:e.getVeevaMessage("CLOSE"),onClick:t[6]||(t[6]=d=>e.$emit("close-detail"))},null,8,["label"])])):b("",!0)],64)):b("",!0),o.currentTab==="FromAccount"?(g(),A(B,{key:1},[I(r,{title:i.rootAccountData.fields.Formatted_Name_vod__c.value,"left-action-text":e.getVeevaMessage("BACK"),onCloseDetail:t[7]||(t[7]=d=>o.currentTab="Affiliation")},null,8,["title","left-action-text"]),u("div",CT,[I(c,{account:i.rootAccountData,"can-toggle-visibility":!1,"can-display-related-fields":!0,"is-loading-related-objects":o.isLoadingFromAccountRelatedObjectInfo,"can-launch-account-detail":i.rootAccountData.isInTerritory,"can-launch-account-timeline":i.rootAccountData.isInTerritory&&e.getIsTimelineEnabled,"can-add-to-territory":!i.rootAccountData.isInTerritory&&e.getIsAddToTerritoryEnabled,onRedirect:t[8]||(t[8]=d=>e.$emit("redirect",d)),onAddToTerritory:t[9]||(t[9]=d=>e.$emit("add-to-territory",d))},null,8,["account","is-loading-related-objects","can-launch-account-detail","can-launch-account-timeline","can-add-to-territory"])]),s.platform!=="ipad"?(g(),A("div",ST,[I(l,{label:e.getVeevaMessage("BACK"),onClick:t[10]||(t[10]=d=>o.currentTab="Affiliation")},null,8,["label"])])):b("",!0)],64)):b("",!0),o.currentTab==="ToAccount"?(g(),A(B,{key:2},[I(r,{title:i.selectedAffiliation.toAccount.fields.Formatted_Name_vod__c.value,"left-action-text":e.getVeevaMessage("BACK"),onCloseDetail:t[11]||(t[11]=d=>o.currentTab="Affiliation")},null,8,["title","left-action-text"]),u("div",MT,[I(c,{account:i.selectedAffiliation.toAccount,"can-toggle-visibility":!1,"can-display-related-fields":!0,"is-loading-related-objects":o.isLoadingToAccountRelatedObjectInfo,"can-launch-account-detail":i.selectedAffiliation.toAccount.isInTerritory,"can-launch-account-timeline":i.selectedAffiliation.toAccount.isInTerritory&&e.getIsTimelineEnabled,"can-add-to-territory":!i.selectedAffiliation.toAccount.isInTerritory&&e.getIsAddToTerritoryEnabled,onRedirect:t[12]||(t[12]=d=>e.$emit("redirect",d)),onAddToTerritory:t[13]||(t[13]=d=>e.$emit("add-to-territory",d))},null,8,["account","is-loading-related-objects","can-launch-account-detail","can-launch-account-timeline","can-add-to-territory"])]),s.platform!=="ipad"?(g(),A("div",kT,[I(l,{label:e.getVeevaMessage("BACK"),onClick:t[14]||(t[14]=d=>o.currentTab="Affiliation")},null,8,["label"])])):b("",!0)],64)):b("",!0)])}const ET=z(cT,[["render",OT],["__scopeId","data-v-3fa5eca6"]]);class FT{constructor(){this.accountIdToAffiliationViewData={},this.affiliationIdToMirrorId={}}getAffiliationViewForAccountOrNull(t){const i=this.accountIdToAffiliationViewData[t];return i?{...i}:null}preprocessAffiliationViewData(t){return t=this.preprocessAccountNodeData(t),t.affiliations=t.affiliations.map(i=>(i.fields=this.preprocessAffiliationNodeData(i.fields),i.toAccount=this.preprocessAccountNodeData(i.toAccount),this.cacheAffiliationIdToMirrorId(i.id,i.fields.Child_affiliation_vod__c),i)).sort((i,n)=>i.toAccount.fields.Formatted_Name_vod__c.value.localeCompare(n.toAccount.fields.Formatted_Name_vod__c.value,void 0,{sensitivity:"base"})),t}cacheAffiliationViewDataForAccountId(t,i){this.accountIdToAffiliationViewData[t]=i}preprocessAccountNodeData(t){return t.recordTypeResourceUrl=this.getRecordTypeResourceUrl(t.recordType.DeveloperName,t.recordType.IsPersonType,t.isInTerritory),t.shouldTriggerRelatedObjectLoad=t.recordType.IsPersonType?Ae.getters.getShouldPersonAccountLazyLoad:Ae.getters.getShouldBusinessAccountLazyLoad,t.isInitiallyInTerritory=t.isInTerritory,t.Id=t.id,t.UniqueId=t.id,t}preprocessAffiliationNodeData(t){let i={};for(let n of Object.keys(t))i[n]=this.getAffiliationFieldValue(n,t);return i}cacheAffiliationIdToMirrorId(t,i){t&&i&&(this.affiliationIdToMirrorId[t]=i)}clearCachedAffiliationViewData(){this.accountIdToAffiliationViewData={},this.affiliationIdToMirrorId={}}getAccountById(t,i){var o;const n=this.accountIdToAffiliationViewData[t];if(t===i){const s={...n};return s.affiliations=void 0,s}return(o=n.affiliations.find(s=>s.toAccount.id===i))==null?void 0:o.toAccount}addAccountsToTerritories(t,i){for(const n of Object.keys(this.accountIdToAffiliationViewData)){n===t&&(this.accountIdToAffiliationViewData[n]=this.addAccountToTerritory(this.accountIdToAffiliationViewData[n],i));for(const o of this.accountIdToAffiliationViewData[n].affiliations)o.toAccount.id===t&&(o.toAccount=this.addAccountToTerritory(o.toAccount,i))}}addAccountToTerritory(t,i){t.isInTerritory=!0,t.recordTypeResourceUrl=this.getRecordTypeResourceUrl(t.recordType.DeveloperName,t.recordType.IsPersonType,t.isInTerritory);const n=[...t.terriories??[],...i].sort();return t.territories=n,t}getAffiliationFieldValue(t,i){var o;const n=Ae.getters.getFieldMetadata("Affiliation_vod__c",t);if(n){const s=i[t]??"";switch((o=n.dataType)==null?void 0:o.toLowerCase()){case"multipicklist":return typeof s=="string"?s===""?[]:s.split(";"):s;default:return s}}return""}setAccountRelatedObjectFields(t,i){for(const n of Object.keys(this.accountIdToAffiliationViewData)){n===t&&(this.accountIdToAffiliationViewData[n].shouldTriggerRelatedObjectLoad=!1,this.accountIdToAffiliationViewData[n].relatedObjectFields=i);for(const o of this.accountIdToAffiliationViewData[n].affiliations)o.toAccount.id===t&&(o.toAccount.shouldTriggerRelatedObjectLoad=!1,o.toAccount.relatedObjectFields=i)}}updateAffilition(t,i){const n=this.affiliationIdToMirrorId[t];for(const o of Object.keys(this.accountIdToAffiliationViewData))for(const s of this.accountIdToAffiliationViewData[o].affiliations)if(s.id===t)for(const r of Object.keys(i))s.fields[r]=this.getAffiliationFieldValue(r,i);else s.id===n&&(s.fields=this.handleOppositeAffiliationUpdate(s.fields,i))}handleOppositeAffiliationUpdate(t,i){const n={...t};for(const o of Object.keys(i))o==="Influence_vod__c"&&i.Influence_vod__c==="Has influence"?n[o]="Is influenced":o==="Influence_vod__c"&&i.Influence_vod__c==="Is influenced"?n[o]="Has influence":n[o]=this.getAffiliationFieldValue(o,i);return n}deleteAffiliation(t){const i=this.affiliationIdToMirrorId[t];for(const n of Object.keys(this.accountIdToAffiliationViewData))this.accountIdToAffiliationViewData[n].affiliations=this.accountIdToAffiliationViewData[n].affiliations.filter(o=>o.id!==t&&o.id!==i)}createAffiliation(t,i,n,o){const s=i.toAccountAffiliationCount;i.toAccountAffiliationCount=void 0;const r=t.affiliations.length,a=o.Child_affiliation_vod__c;this.affiliationIdToMirrorId[n]=a,this.affiliationIdToMirrorId[a]=n;for(const l of Object.keys(this.accountIdToAffiliationViewData)){if(l===t.id){const c={id:n,fields:this.preprocessAffiliationNodeData(o),toAccount:i,toAccountAffiliationCount:s};this.accountIdToAffiliationViewData[l].affiliations.push(c),this.accountIdToAffiliationViewData[l].affiliations.sort((d,f)=>d.toAccount.fields.Formatted_Name_vod__c.value.localeCompare(f.toAccount.fields.Formatted_Name_vod__c.value,void 0,{sensitivity:"base"}))}else if(l===i.id){const c={...t,affiliations:void 0},d={id:a,fields:this.handleOppositeAffiliationUpdate({},o),toAccount:c,toAccountAffiliationCount:r};this.accountIdToAffiliationViewData[l].affiliations.push(d),this.accountIdToAffiliationViewData[l].affiliations.sort((f,h)=>f.toAccount.fields.Formatted_Name_vod__c.value.localeCompare(h.toAccount.fields.Formatted_Name_vod__c.value,void 0,{sensitivity:"base"}))}for(const c of this.accountIdToAffiliationViewData[l].affiliations)(i.id===c.toAccount.id||t.id===c.toAccount.id)&&(c.toAccountAffiliationCount+=1)}}getRecordTypeResourceUrl(t,i,n){let o="";switch(t){case"Business_Professional_vod":o="business_professional";break;case"Professional_vod":o="professional";break;case"MCOPlan_vod":case"MCO_vod":o="mco";break;case"Practice_vod":o="private_practice";break;case"Hospital_vod":case"HospitalDepartment_vod":o="hospital";break;case"Pharmacy_vod":o="pharmacy";break;case"Laboratory_vod":o="laboratory";break;case"Organization_vod":case"Board_vod":o="board";break;case"Employer_vod":o="employer";break;case"ExtendedCare_vod":o="ambulatory";break;case"Institution_vod":o="institution";break;case"Publication_vod":o="publication";break;case"KOL_vod":o="kol";break;case"Wholesaler_vod":o="wholesaler";break;case"Government_Agency_vod":o="government";break;case"Distributor_vod":case"Distributor_Branch_vod":o="distributor";break;case"PersonAccount":o="person";break;default:i?o="person":o="business"}return n||(o+="-oot"),"icons/common/recordTypes/"+o+".svg"}}function dt(e){return Array.isArray?Array.isArray(e):$l(e)==="[object Array]"}const NT=1/0;function RT(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-NT?"-0":t}function VT(e){return e==null?"":RT(e)}function tt(e){return typeof e=="string"}function xl(e){return typeof e=="number"}function LT(e){return e===!0||e===!1||DT(e)&&$l(e)=="[object Boolean]"}function Pl(e){return typeof e=="object"}function DT(e){return Pl(e)&&e!==null}function Le(e){return e!=null}function io(e){return!e.trim().length}function $l(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const xT="Incorrect 'index' type",PT=e=>`Invalid value for key ${e}`,$T=e=>`Pattern length exceeds max of ${e}.`,HT=e=>`Missing ${e} property in key`,BT=e=>`Property 'weight' in key '${e}' must be a positive integer`,Rr=Object.prototype.hasOwnProperty;class UT{constructor(t){this._keys=[],this._keyMap={};let i=0;t.forEach(n=>{let o=Hl(n);this._keys.push(o),this._keyMap[o.id]=o,i+=o.weight}),this._keys.forEach(n=>{n.weight/=i})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Hl(e){let t=null,i=null,n=null,o=1,s=null;if(tt(e)||dt(e))n=e,t=Vr(e),i=Fo(e);else{if(!Rr.call(e,"name"))throw new Error(HT("name"));const r=e.name;if(n=r,Rr.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(BT(r));t=Vr(r),i=Fo(r),s=e.getFn}return{path:t,id:i,weight:o,src:n,getFn:s}}function Vr(e){return dt(e)?e:e.split(".")}function Fo(e){return dt(e)?e.join("."):e}function jT(e,t){let i=[],n=!1;const o=(s,r,a)=>{if(Le(s))if(!r[a])i.push(s);else{let l=r[a];const c=s[l];if(!Le(c))return;if(a===r.length-1&&(tt(c)||xl(c)||LT(c)))i.push(VT(c));else if(dt(c)){n=!0;for(let d=0,f=c.length;d<f;d+=1)o(c[d],r,a+1)}else r.length&&o(c,r,a+1)}};return o(e,tt(t)?t.split("."):t,0),n?i:i[0]}const zT={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},qT={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},GT={location:0,threshold:.6,distance:100},WT={useExtendedSearch:!1,getFn:jT,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var U={...qT,...zT,...GT,...WT};const KT=/[^ ]+/g;function YT(e=1,t=3){const i=new Map,n=Math.pow(10,t);return{get(o){const s=o.match(KT).length;if(i.has(s))return i.get(s);const r=1/Math.pow(s,.5*e),a=parseFloat(Math.round(r*n)/n);return i.set(s,a),a},clear(){i.clear()}}}class Ts{constructor({getFn:t=U.getFn,fieldNormWeight:i=U.fieldNormWeight}={}){this.norm=YT(i,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((i,n)=>{this._keysMap[i.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,tt(this.docs[0])?this.docs.forEach((t,i)=>{this._addString(t,i)}):this.docs.forEach((t,i)=>{this._addObject(t,i)}),this.norm.clear())}add(t){const i=this.size();tt(t)?this._addString(t,i):this._addObject(t,i)}removeAt(t){this.records.splice(t,1);for(let i=t,n=this.size();i<n;i+=1)this.records[i].i-=1}getValueForItemAtKeyId(t,i){return t[this._keysMap[i]]}size(){return this.records.length}_addString(t,i){if(!Le(t)||io(t))return;let n={v:t,i,n:this.norm.get(t)};this.records.push(n)}_addObject(t,i){let n={i,$:{}};this.keys.forEach((o,s)=>{let r=o.getFn?o.getFn(t):this.getFn(t,o.path);if(Le(r)){if(dt(r)){let a=[];const l=[{nestedArrIndex:-1,value:r}];for(;l.length;){const{nestedArrIndex:c,value:d}=l.pop();if(Le(d))if(tt(d)&&!io(d)){let f={v:d,i:c,n:this.norm.get(d)};a.push(f)}else dt(d)&&d.forEach((f,h)=>{l.push({nestedArrIndex:h,value:f})})}n.$[s]=a}else if(tt(r)&&!io(r)){let a={v:r,n:this.norm.get(r)};n.$[s]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Bl(e,t,{getFn:i=U.getFn,fieldNormWeight:n=U.fieldNormWeight}={}){const o=new Ts({getFn:i,fieldNormWeight:n});return o.setKeys(e.map(Hl)),o.setSources(t),o.create(),o}function QT(e,{getFn:t=U.getFn,fieldNormWeight:i=U.fieldNormWeight}={}){const{keys:n,records:o}=e,s=new Ts({getFn:t,fieldNormWeight:i});return s.setKeys(n),s.setIndexRecords(o),s}function zi(e,{errors:t=0,currentLocation:i=0,expectedLocation:n=0,distance:o=U.distance,ignoreLocation:s=U.ignoreLocation}={}){const r=t/e.length;if(s)return r;const a=Math.abs(n-i);return o?r+a/o:a?1:r}function XT(e=[],t=U.minMatchCharLength){let i=[],n=-1,o=-1,s=0;for(let r=e.length;s<r;s+=1){let a=e[s];a&&n===-1?n=s:!a&&n!==-1&&(o=s-1,o-n+1>=t&&i.push([n,o]),n=-1)}return e[s-1]&&s-n>=t&&i.push([n,s-1]),i}const Mt=32;function ZT(e,t,i,{location:n=U.location,distance:o=U.distance,threshold:s=U.threshold,findAllMatches:r=U.findAllMatches,minMatchCharLength:a=U.minMatchCharLength,includeMatches:l=U.includeMatches,ignoreLocation:c=U.ignoreLocation}={}){if(t.length>Mt)throw new Error($T(Mt));const d=t.length,f=e.length,h=Math.max(0,Math.min(n,f));let _=s,T=h;const y=a>1||l,V=y?Array(f):[];let L;for(;(L=e.indexOf(t,T))>-1;){let te=zi(t,{currentLocation:L,expectedLocation:h,distance:o,ignoreLocation:c});if(_=Math.min(te,_),T=L+d,y){let se=0;for(;se<d;)V[L+se]=1,se+=1}}T=-1;let Y=[],x=1,P=d+f;const de=1<<d-1;for(let te=0;te<d;te+=1){let se=0,be=P;for(;se<be;)zi(t,{errors:te,currentLocation:h+be,expectedLocation:h,distance:o,ignoreLocation:c})<=_?se=be:P=be,be=Math.floor((P-se)/2+se);P=be;let G=Math.max(1,h-be+1),he=r?f:Math.min(h+be,f)+d,ie=Array(he+2);ie[he+1]=(1<<te)-1;for(let me=he;me>=G;me-=1){let Ke=me-1,ee=i[e.charAt(Ke)];if(y&&(V[Ke]=+!!ee),ie[me]=(ie[me+1]<<1|1)&ee,te&&(ie[me]|=(Y[me+1]|Y[me])<<1|1|Y[me+1]),ie[me]&de&&(x=zi(t,{errors:te,currentLocation:Ke,expectedLocation:h,distance:o,ignoreLocation:c}),x<=_)){if(_=x,T=Ke,T<=h)break;G=Math.max(1,2*h-T)}}if(zi(t,{errors:te+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:c})>_)break;Y=ie}const Q={isMatch:T>=0,score:Math.max(.001,x)};if(y){const te=XT(V,a);te.length?l&&(Q.indices=te):Q.isMatch=!1}return Q}function JT(e){let t={};for(let i=0,n=e.length;i<n;i+=1){const o=e.charAt(i);t[o]=(t[o]||0)|1<<n-i-1}return t}class Ul{constructor(t,{location:i=U.location,threshold:n=U.threshold,distance:o=U.distance,includeMatches:s=U.includeMatches,findAllMatches:r=U.findAllMatches,minMatchCharLength:a=U.minMatchCharLength,isCaseSensitive:l=U.isCaseSensitive,ignoreLocation:c=U.ignoreLocation}={}){if(this.options={location:i,threshold:n,distance:o,includeMatches:s,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(h,_)=>{this.chunks.push({pattern:h,alphabet:JT(h),startIndex:_})},f=this.pattern.length;if(f>Mt){let h=0;const _=f%Mt,T=f-_;for(;h<T;)d(this.pattern.substr(h,Mt),h),h+=Mt;if(_){const y=f-Mt;d(this.pattern.substr(y),y)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:i,includeMatches:n}=this.options;if(i||(t=t.toLowerCase()),this.pattern===t){let T={isMatch:!0,score:0};return n&&(T.indices=[[0,t.length-1]]),T}const{location:o,distance:s,threshold:r,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options;let d=[],f=0,h=!1;this.chunks.forEach(({pattern:T,alphabet:y,startIndex:V})=>{const{isMatch:L,score:Y,indices:x}=ZT(t,T,y,{location:o+V,distance:s,threshold:r,findAllMatches:a,minMatchCharLength:l,includeMatches:n,ignoreLocation:c});L&&(h=!0),f+=Y,L&&x&&(d=[...d,...x])});let _={isMatch:h,score:h?f/this.chunks.length:1};return h&&n&&(_.indices=d),_}}class bt{constructor(t){this.pattern=t}static isMultiMatch(t){return Lr(t,this.multiRegex)}static isSingleMatch(t){return Lr(t,this.singleRegex)}search(){}}function Lr(e,t){const i=e.match(t);return i?i[1]:null}class e1 extends bt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const i=t===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class t1 extends bt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class i1 extends bt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const i=t.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class n1 extends bt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const i=!t.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class o1 extends bt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const i=t.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class s1 extends bt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const i=!t.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class jl extends bt{constructor(t,{location:i=U.location,threshold:n=U.threshold,distance:o=U.distance,includeMatches:s=U.includeMatches,findAllMatches:r=U.findAllMatches,minMatchCharLength:a=U.minMatchCharLength,isCaseSensitive:l=U.isCaseSensitive,ignoreLocation:c=U.ignoreLocation}={}){super(t),this._bitapSearch=new Ul(t,{location:i,threshold:n,distance:o,includeMatches:s,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class zl extends bt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let i=0,n;const o=[],s=this.pattern.length;for(;(n=t.indexOf(this.pattern,i))>-1;)i=n+s,o.push([n,i-1]);const r=!!o.length;return{isMatch:r,score:r?0:1,indices:o}}}const No=[e1,zl,i1,n1,s1,o1,t1,jl],Dr=No.length,r1=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,a1="|";function l1(e,t={}){return e.split(a1).map(i=>{let n=i.trim().split(r1).filter(s=>s&&!!s.trim()),o=[];for(let s=0,r=n.length;s<r;s+=1){const a=n[s];let l=!1,c=-1;for(;!l&&++c<Dr;){const d=No[c];let f=d.isMultiMatch(a);f&&(o.push(new d(f,t)),l=!0)}if(!l)for(c=-1;++c<Dr;){const d=No[c];let f=d.isSingleMatch(a);if(f){o.push(new d(f,t));break}}}return o})}const c1=new Set([jl.type,zl.type]);class d1{constructor(t,{isCaseSensitive:i=U.isCaseSensitive,includeMatches:n=U.includeMatches,minMatchCharLength:o=U.minMatchCharLength,ignoreLocation:s=U.ignoreLocation,findAllMatches:r=U.findAllMatches,location:a=U.location,threshold:l=U.threshold,distance:c=U.distance}={}){this.query=null,this.options={isCaseSensitive:i,includeMatches:n,minMatchCharLength:o,findAllMatches:r,ignoreLocation:s,location:a,threshold:l,distance:c},this.pattern=i?t:t.toLowerCase(),this.query=l1(this.pattern,this.options)}static condition(t,i){return i.useExtendedSearch}searchIn(t){const i=this.query;if(!i)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:o}=this.options;t=o?t:t.toLowerCase();let s=0,r=[],a=0;for(let l=0,c=i.length;l<c;l+=1){const d=i[l];r.length=0,s=0;for(let f=0,h=d.length;f<h;f+=1){const _=d[f],{isMatch:T,indices:y,score:V}=_.search(t);if(T){if(s+=1,a+=V,n){const L=_.constructor.type;c1.has(L)?r=[...r,...y]:r.push(y)}}else{a=0,s=0,r.length=0;break}}if(s){let f={isMatch:!0,score:a/s};return n&&(f.indices=r),f}}return{isMatch:!1,score:1}}}const Ro=[];function f1(...e){Ro.push(...e)}function Vo(e,t){for(let i=0,n=Ro.length;i<n;i+=1){let o=Ro[i];if(o.condition(e,t))return new o(e,t)}return new Ul(e,t)}const An={AND:"$and",OR:"$or"},Lo={PATH:"$path",PATTERN:"$val"},Do=e=>!!(e[An.AND]||e[An.OR]),u1=e=>!!e[Lo.PATH],h1=e=>!dt(e)&&Pl(e)&&!Do(e),xr=e=>({[An.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ql(e,t,{auto:i=!0}={}){const n=o=>{let s=Object.keys(o);const r=u1(o);if(!r&&s.length>1&&!Do(o))return n(xr(o));if(h1(o)){const l=r?o[Lo.PATH]:s[0],c=r?o[Lo.PATTERN]:o[l];if(!tt(c))throw new Error(PT(l));const d={keyId:Fo(l),pattern:c};return i&&(d.searcher=Vo(c,t)),d}let a={children:[],operator:s[0]};return s.forEach(l=>{const c=o[l];dt(c)&&c.forEach(d=>{a.children.push(n(d))})}),a};return Do(e)||(e=xr(e)),n(e)}function g1(e,{ignoreFieldNorm:t=U.ignoreFieldNorm}){e.forEach(i=>{let n=1;i.matches.forEach(({key:o,norm:s,score:r})=>{const a=o?o.weight:null;n*=Math.pow(r===0&&a?Number.EPSILON:r,(a||1)*(t?1:s))}),i.score=n})}function p1(e,t){const i=e.matches;t.matches=[],Le(i)&&i.forEach(n=>{if(!Le(n.indices)||!n.indices.length)return;const{indices:o,value:s}=n;let r={indices:o,value:s};n.key&&(r.key=n.key.src),n.idx>-1&&(r.refIndex=n.idx),t.matches.push(r)})}function m1(e,t){t.score=e.score}function _1(e,t,{includeMatches:i=U.includeMatches,includeScore:n=U.includeScore}={}){const o=[];return i&&o.push(p1),n&&o.push(m1),e.map(s=>{const{idx:r}=s,a={item:t[r],refIndex:r};return o.length&&o.forEach(l=>{l(s,a)}),a})}class oi{constructor(t,i={},n){this.options={...U,...i},this.options.useExtendedSearch,this._keyStore=new UT(this.options.keys),this.setCollection(t,n)}setCollection(t,i){if(this._docs=t,i&&!(i instanceof Ts))throw new Error(xT);this._myIndex=i||Bl(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Le(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const i=[];for(let n=0,o=this._docs.length;n<o;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,o-=1,i.push(s))}return i}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:i=-1}={}){const{includeMatches:n,includeScore:o,shouldSort:s,sortFn:r,ignoreFieldNorm:a}=this.options;let l=tt(t)?tt(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return g1(l,{ignoreFieldNorm:a}),s&&l.sort(r),xl(i)&&i>-1&&(l=l.slice(0,i)),_1(l,this._docs,{includeMatches:n,includeScore:o})}_searchStringList(t){const i=Vo(t,this.options),{records:n}=this._myIndex,o=[];return n.forEach(({v:s,i:r,n:a})=>{if(!Le(s))return;const{isMatch:l,score:c,indices:d}=i.searchIn(s);l&&o.push({item:s,idx:r,matches:[{score:c,value:s,norm:a,indices:d}]})}),o}_searchLogical(t){const i=ql(t,this.options),n=(a,l,c)=>{if(!a.children){const{keyId:f,searcher:h}=a,_=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:h});return _&&_.length?[{idx:c,item:l,matches:_}]:[]}const d=[];for(let f=0,h=a.children.length;f<h;f+=1){const _=a.children[f],T=n(_,l,c);if(T.length)d.push(...T);else if(a.operator===An.AND)return[]}return d},o=this._myIndex.records,s={},r=[];return o.forEach(({$:a,i:l})=>{if(Le(a)){let c=n(i,a,l);c.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},r.push(s[l])),c.forEach(({matches:d})=>{s[l].matches.push(...d)}))}}),r}_searchObjectList(t){const i=Vo(t,this.options),{keys:n,records:o}=this._myIndex,s=[];return o.forEach(({$:r,i:a})=>{if(!Le(r))return;let l=[];n.forEach((c,d)=>{l.push(...this._findMatches({key:c,value:r[d],searcher:i}))}),l.length&&s.push({idx:a,item:r,matches:l})}),s}_findMatches({key:t,value:i,searcher:n}){if(!Le(i))return[];let o=[];if(dt(i))i.forEach(({v:s,i:r,n:a})=>{if(!Le(s))return;const{isMatch:l,score:c,indices:d}=n.searchIn(s);l&&o.push({score:c,key:t,value:s,idx:r,norm:a,indices:d})});else{const{v:s,n:r}=i,{isMatch:a,score:l,indices:c}=n.searchIn(s);a&&o.push({score:l,key:t,value:s,norm:r,indices:c})}return o}}oi.version="7.0.0";oi.createIndex=Bl;oi.parseIndex=QT;oi.config=U;oi.parseQuery=ql;f1(d1);const A1={threshold:.225,distance:300,keys:[{name:"name",weight:1},{name:"secondary_identifier",weight:.5},{name:"tertiary_identifier",weight:.5}]};function y1(e,t){const i=v1(t),n=b1(t);return new oi(n,A1).search(e).map(r=>i[r.item.id])}function v1(e){const t={};for(const i of e)t[i.id]=i;return t}function b1(e){return e.map(t=>{const i=Ae.getters.getAccountIdentifierValue(Fe.SECONDARY,t.toAccount),n=Ae.getters.getAccountIdentifierValue(Fe.TERTIARY,t.toAccount);return{id:t.id,name:t.toAccount.fields.Formatted_Name_vod__c.value,secondary_identifier:i,tertiary_identifier:n}})}const $e=new FT,w1={name:"AffiliationView",components:{AffiliationViewHeader:wI,AffiliationViewGraph:aT,AffiliationViewDetailModal:ET,ModifyAffiliation:ll,AffiliationDeleteModal:cl,AddToTerritoryModal:sl},props:{rootAccountId:{type:String,default:null}},emits:["launch-hierarchy-view"],data(){return{rootAccountData:null,breadcrumbStack:[],currentPageNumber:0,PAGE_SIZE:12,selectedModal:null,selectedAffiliationId:null,affiliationDeleteConfirmRequest:null,showAddToTerrModal:!1,addToTerrRequest:{},showModifyAffiliationModal:!1,searchResults:null}},computed:{...oe(["getMessageService","getVeevaMessage","getAccountQueryFields","getAccountRelatedQueryFields","getAffiliationQueryFields","getAffiliationViewSelectedFilters","getTerritoryName","getIsTerritoryLoadingModalEnabled","getAccountQueryFields","getFromAccount","getToAccount","getAffiliationViewSearchTerm"]),currentRootId(){return this.breadcrumbStack[this.breadcrumbStack.length-1].rootAccountId},currentAffiliationsPage(){return this.filteredAffiliations.slice(this.currentPageNumber*this.PAGE_SIZE,(this.currentPageNumber+1)*this.PAGE_SIZE)},filteredAffiliations(){const e=this.getAffiliationViewSelectedFilters;return this.rootAccountData.affiliations.filter(t=>Nr(e,t))},selectedAffiliation(){var t;const e=(t=this.rootAccountData)==null?void 0:t.affiliations.find(i=>i.id===this.selectedAffiliationId);return e?{...e}:null}},mounted(){this.getAffiliationViewDataFromCacheOrQuery(this.rootAccountId,!0)},unmounted(){$e.clearCachedAffiliationViewData(),this.resetAffiliationViewFilters()},methods:{...ds(["setAffiliationViewSelectedFilters","setAffiliationViewSearchTerm"]),...ki(["showLoadingModal","hideLoadingModal","launchEditAffiliationModal","launchNewAffiliationModal","closeModifyAffiliationModal","openErrorModalAndParsePlatformResult","openErrorModalWithMessage","addToAffiliationViewFilters","resetAffiliationViewFilters"]),getAffiliationViewDataFromCacheOrQuery(e,t){const i=$e.getAffiliationViewForAccountOrNull(e);i?(this.rootAccountData=i,this.initializePage(t)):(this.showLoadingModal(),this.emitQueryForAffiliationData(e))},initializePage(e){this.closeAffiliationModalIfOpen(),this.currentPageNumber=0,e&&(this.addToAffiliationViewFilters(this.rootAccountData.affiliations),this.pushCurrentAccountOntoBreadcrumb())},emitQueryForAffiliationData(e){const t=this.getAccountQueryFields,i=this.getAffiliationQueryFields;this.getMessageService.sendAffiliationViewDataRequest(e,[...t],[...i])},handleQueryResponseForViewDataRequest(e){const t=$e.preprocessAffiliationViewData(e.account);this.rootAccountData=t,this.initializePage(!0),this.hideLoadingModal(),$e.cacheAffiliationViewDataForAccountId(e.account.id,t)},pageForward(){this.closeAffiliationModalIfOpen(),this.currentPageNumber+=1},pageBackward(){this.closeAffiliationModalIfOpen(),this.currentPageNumber-=1},pushCurrentAccountOntoBreadcrumb(){this.breadcrumbStack.push({rootAccountId:this.rootAccountData.id,rootAccountName:this.rootAccountData.fields.Formatted_Name_vod__c.value})},onPopBreadCrumb(){this.breadcrumbStack.pop();const e=this.breadcrumbStack[this.breadcrumbStack.length-1].rootAccountId;this.getAffiliationViewDataFromCacheOrQuery(e,!1)},onPopBreadCrumbToIndex(e){const t=e+1;for(;this.breadcrumbStack.length>t;)this.breadcrumbStack.pop();const i=this.breadcrumbStack[this.breadcrumbStack.length-1].rootAccountId;this.getAffiliationViewDataFromCacheOrQuery(i,!1)},handleModalSelection(e){if(e==="account-search"){this.selectedModal=null,this.sendAccountSearchRequest();return}this.selectedModal==="search"&&this.selection!=="search"&&(this.searchResults=null),this.selectedModal==="affiliation"&&this.selection!=="affiliation"&&(this.selectedAffiliationId=null),this.selectedModal===e?this.selectedModal=null:this.selectedModal=e},closeAffiliationModalIfOpen(){this.selectedModal==="affiliation"&&(this.selectedModal=null,this.selectedAffiliationId=null)},handleAffiliationSelection(e){this.selectedAffiliationId===e?this.closeAffiliationModalIfOpen():(this.selectedModal="affiliation",this.selectedAffiliationId=e)},refreshRootAccountDataProp(){this.rootAccountData=$e.getAffiliationViewForAccountOrNull(this.currentRootId)},sendAccountRelatedObjectRequest({accountId:e,isPersonType:t}){this.getMessageService.sendLoadRelatedAccountObjectsRequest(e,this.getAccountRelatedQueryFields(t))},handleAccountRelatedObjectResponse(e){$e.setAccountRelatedObjectFields(e.accountId,e.relatedObjectFields),this.refreshRootAccountDataProp()},openEditAffiliationModal(){const e={...this.selectedAffiliation,...this.selectedAffiliation.fields,Id:this.selectedAffiliation.id};this.launchEditAffiliationModal({fromAccount:this.rootAccountData,toAccount:this.selectedAffiliation.toAccount,affiliation:e}),this.showModifyAffiliationModal=!0},sendUpdateAffiliationRequest(e){this.showLoadingModal(),this.getMessageService.sendUpdateAffiliationRequest(e)},handleUpdateRecordResponse(e){const t=e.result;if(t.success)switch(e.object){case"Affiliation_vod__c":this.handleUpdateAffiliationResponse(e.fieldData);break}else this.openErrorModalAndParsePlatformResult({platformErrorResult:t,hideLoading:!0})},handleUpdateAffiliationResponse(e){$e.updateAffilition(e.Id,e),this.refreshRootAccountDataProp(),this.addToAffiliationViewFilters(this.rootAccountData.affiliations),this.hideLoadingModal(),this.showModifyAffiliationModal=!1},sendDeleteAffiliationRequest(e){this.showLoadingModal(),this.getMessageService.sendDeleteAffiliationRequest(e)},handleDeleteRecordResponse(e){const t=e.result;if(t.success)switch(e.object){case"Affiliation_vod__c":this.handleDeleteAffiliationResponse(t.id);break}else this.openErrorModalAndParsePlatformResult({platformErrorResult:t,hideLoading:!0})},handleDeleteAffiliationResponse(e){$e.deleteAffiliation(e),this.closeAffiliationModalIfOpen(),this.refreshRootAccountDataProp(),this.checkIfWeNeedToPageBack(),this.hideLoadingModal(),this.affiliationDeleteConfirmRequest=null},checkIfWeNeedToPageBack(){this.currentPageNumber===this.rootAccountData.affiliations.length/this.PAGE_SIZE&&this.currentPageNumber!==0&&(this.currentPageNumber-=1)},sendRedirectRequest({type:e,location:t}){this.getMessageService.sendRedirectRequest(e,t)},applyFilterAndGoToFirstPage(e){this.setAffiliationViewSelectedFilters(e),this.currentPageNumber=0},launchAddToTerrModal(e){this.addToTerrRequest=$e.getAccountById(this.currentRootId,e),this.showAddToTerrModal=!0},handleHasInternetConnectionResponse({hasInternetConnection:e}){e?this.showAddToTerrModal=!0:this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("NO_CONNECTION_ADD_TO_TERRITORY"),errorDetailMessage:"",hideLoading:!0})},sendAddToTerritoryRequest(e){this.showAddToTerrModal=!1,this.getIsTerritoryLoadingModalEnabled&&this.showLoadingModal(),this.getMessageService.sendAddToTerrRequest(e)},handleAddToTerritoryResponse(e){if(e.success===!0){this.hideLoadingModal();const t=e.terrsToAdd.map(i=>this.getTerritoryName(i));$e.addAccountsToTerritories(e.accountId,t),this.refreshRootAccountDataProp()}else this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("GAS_ASSIGNMENT_ERROR"),errorDetailMessage:e.errorMessage,hideLoading:!0})},sendAccountSearchRequest(){this.getMessageService.performAccountSearch(this.currentRootId,[...this.getAccountQueryFields])},handleAccountSearchResponse({toAccount:e,toAccountAffiliationCount:t}){const i=$e.preprocessAccountNodeData(e);i.toAccountAffiliationCount=t,this.launchNewAffiliationModal({changeToAccountAction:"account-search",fromAccount:this.rootAccountData,toAccount:i}),this.showModifyAffiliationModal=!0},sendCreateAffiliationRequest(e){this.showLoadingModal(),this.getMessageService.sendCreateAffiliationRequest(e)},handleCreateRecordResponse(e){const t=e.result;if(t.success)switch(e.object){case"Affiliation_vod__c":this.handleCreateAffiliationResponse(e.result.id,e.fieldData);break}else this.openErrorModalAndParsePlatformResult({platformErrorResult:t,hideLoading:!0})},handleCreateAffiliationResponse(e,t){$e.createAffiliation(this.getFromAccount,this.getToAccount,e,t),this.refreshRootAccountDataProp(),this.addToAffiliationViewFilters(this.rootAccountData.affiliations),this.hideLoadingModal(),this.showModifyAffiliationModal=!1,this.navigateToAffiliationIfAvailable(e,bi.ADD)},navigateToAffiliationIfAvailable(e,t){var n;const i=this.filteredAffiliations.findIndex(o=>o.id===e);if(i>=0){const o=Math.floor(i/this.PAGE_SIZE);this.currentPageNumber=o,(n=this.$refs.graph)==null||n.animateLeafNodeSelection(e,t)}},populateSearchResult(e){e&&this.setAffiliationViewSearchTerm(e);const t=e??this.getAffiliationViewSearchTerm;this.searchResults=y1(t,this.rootAccountData.affiliations).map(i=>(i.isFiltered=!Nr(this.getAffiliationViewSelectedFilters,i),i))}}},I1={id:"affiliation-view"};function T1(e,t,i,n,o,s){const r=M("AffiliationViewHeader"),a=M("AffiliationViewGraph"),l=M("AffiliationViewDetailModal"),c=M("ModifyAffiliation"),d=M("AffiliationDeleteModal"),f=M("AddToTerritoryModal");return g(),A("div",I1,[I(r,{"breadcrumb-stack":o.breadcrumbStack,"selected-modal":o.selectedModal,"search-results":o.searchResults,onLaunchHierarchyView:t[0]||(t[0]=h=>e.$emit("launch-hierarchy-view")),onPopBreadCrumb:s.onPopBreadCrumb,onPopBreadCrumbToIndex:s.onPopBreadCrumbToIndex,onModalSelection:s.handleModalSelection,onSearch:s.populateSearchResult,onClearSearch:t[1]||(t[1]=h=>o.searchResults=null),onPingAffiliation:t[2]||(t[2]=h=>s.navigateToAffiliationIfAvailable(h,"search")),onApplyFilter:s.applyFilterAndGoToFirstPage},null,8,["breadcrumb-stack","selected-modal","search-results","onPopBreadCrumb","onPopBreadCrumbToIndex","onModalSelection","onSearch","onApplyFilter"]),o.rootAccountData?(g(),R(a,{key:0,ref:"graph","root-account-data":o.rootAccountData,"affiliations-in-current-page":s.currentAffiliationsPage,"selected-affiliation":s.selectedAffiliation,"page-config":{totalAffiliationCount:s.filteredAffiliations.length,currentPageNumber:o.currentPageNumber,PAGE_SIZE:o.PAGE_SIZE},onPageForward:s.pageForward,onPageBackward:s.pageBackward,onLeafNodeClick:s.handleAffiliationSelection},null,8,["root-account-data","affiliations-in-current-page","selected-affiliation","page-config","onPageForward","onPageBackward","onLeafNodeClick"])):b("",!0),o.selectedModal==="affiliation"?(g(),R(l,{key:1,"selected-affiliation":s.selectedAffiliation,"root-account-data":o.rootAccountData,onCloseDetail:s.closeAffiliationModalIfOpen,onEditAffiliation:s.openEditAffiliationModal,onDeleteAffiliationRequest:t[3]||(t[3]=h=>o.affiliationDeleteConfirmRequest=h),onLoadRelatedObjects:s.sendAccountRelatedObjectRequest,onJumpIntoLeaf:t[4]||(t[4]=h=>s.getAffiliationViewDataFromCacheOrQuery(h,!0)),onRedirect:s.sendRedirectRequest,onAddToTerritory:s.launchAddToTerrModal},null,8,["selected-affiliation","root-account-data","onCloseDetail","onEditAffiliation","onLoadRelatedObjects","onRedirect","onAddToTerritory"])):b("",!0),o.showModifyAffiliationModal?(g(),R(c,{key:2,onCreateAffiliation:s.sendCreateAffiliationRequest,onUpdateAffiliation:s.sendUpdateAffiliationRequest,onAccountSearch:s.sendAccountSearchRequest,onCloseModal:t[5]||(t[5]=h=>o.showModifyAffiliationModal=!1)},null,8,["onCreateAffiliation","onUpdateAffiliation","onAccountSearch"])):b("",!0),o.affiliationDeleteConfirmRequest?(g(),R(d,{key:3,"affiliation-delete-request":o.affiliationDeleteConfirmRequest,onAffiliationDeleteCancel:t[6]||(t[6]=h=>o.affiliationDeleteConfirmRequest=null),onAffiliationDeleteConfirm:s.sendDeleteAffiliationRequest},null,8,["affiliation-delete-request","onAffiliationDeleteConfirm"])):b("",!0),o.showAddToTerrModal?(g(),R(f,{key:4,account:o.addToTerrRequest,"use-hierarchy-specific-information":!1,onAddToTerritory:s.sendAddToTerritoryRequest,onCloseModal:t[7]||(t[7]=h=>o.showAddToTerrModal=!1)},null,8,["account","onAddToTerritory"])):b("",!0)])}const C1=z(w1,[["render",T1]]),S1={name:"LoadingModal",components:{Spinner:Ya},data(){return{publicPath:"./".substr(0,this.length-1)}}},M1={class:"loading-modal"};function k1(e,t,i,n,o,s){const r=M("Spinner");return g(),A("div",M1,[I(r,{color:"blue",size:"medium",class:"spinner"})])}const O1=z(S1,[["render",k1],["__scopeId","data-v-b64d5502"]]),E1={name:"ErrorModal",components:{BaseModal:Dn,Button:ot},computed:{...oe(["getVeevaMessage","getGraphErrorMessage","getGraphErrorDetail"]),platform(){return"salesforce"}},methods:{...ki(["closeErrorModal"])}},F1={key:0,class:"error-modal-body"},N1={key:1,class:"overlay highest-z-index"},R1={class:"ios-error-modal"},V1={class:"ios-error-modal-body"};function L1(e,t,i,n,o,s){const r=M("BaseModal"),a=M("Button");return g(),A(B,null,[s.platform!=="ipad"?(g(),R(r,{key:0,title:e.getGraphErrorMessage??e.getVeevaMessage("LOADING_ERROR_GENERIC"),"remove-title-line-clamp":!0,"cancel-btn-message":e.getVeevaMessage("CLOSE"),"only-cancel":!0,class:"highest-z-index",onCancel:e.closeErrorModal},{default:pe(()=>[e.getGraphErrorDetail?(g(),A("div",F1,w(e.getGraphErrorDetail),1)):b("",!0)]),_:1},8,["title","cancel-btn-message","onCancel"])):b("",!0),s.platform==="ipad"?(g(),A("div",N1,[u("div",R1,[u("div",V1,w(e.getGraphErrorMessage??e.getVeevaMessage("LOADING_ERROR_GENERIC")),1),u("div",{class:"ios-error-modal-footer",onClick:t[0]||(t[0]=(...l)=>e.closeErrorModal&&e.closeErrorModal(...l))},[I(a,{label:e.getVeevaMessage("CLOSE")},null,8,["label"])])])])):b("",!0)],64)}const D1=z(E1,[["render",L1],["__scopeId","data-v-02c77f51"]]),x1={name:"App",components:{HierarchyView:k0,AffiliationView:C1,LoadingModal:O1,ErrorModal:D1},data(){return{currentView:"Hierarchy",affiliationViewRootId:null}},computed:{...oe(["getMessageService","isGraphLoading","getGraphErrorState","getVeevaMessage"]),platform(){return"salesforce"}},created(){this.initializeMessageService(),this.getMessageService.addMessageHandler(this.handleMessage)},methods:{...ds(["setIsPlatformReadyToRecieveMessages","setPlatformContainerUUID"]),...ki(["initializeMessageService","openErrorModalWithMessage"]),handleMessage(e){var n,o,s,r,a,l,c,d;const t=this.platform==="salesforce"?e.data:e,{command:i}=t;try{switch(i){case"ping":this.setIsPlatformReadyToRecieveMessages(!0),this.setPlatformContainerUUID(t.uuid);break;case"initGraph":this.$refs.hierarchyView.initGraph(t.data);break;case"objectMetadata":this.$refs.hierarchyView.loadObjectMetadata(t.data);break;case"loadInitialHierarchy":this.$refs.hierarchyView.loadHierarchy(t.data,Nt.INITIAL);break;case"loadHierarchy":this.$refs.hierarchyView.loadHierarchy(t.data,Nt.DOWN);break;case"loadParentHierarchy":this.$refs.hierarchyView.loadHierarchy(t.data,Nt.UP);break;case"loadAccountBatch":this.$refs.hierarchyView.loadAccountBatch(t.data);break;case"createRecord":this.$refs.hierarchyView.createRecord(t),(n=this.$refs.affiliationView)==null||n.handleCreateRecordResponse(t);break;case"updateRecord":this.$refs.hierarchyView.updateRecord(t),(o=this.$refs.affiliationView)==null||o.handleUpdateRecordResponse(t);break;case"deleteRecord":this.$refs.hierarchyView.deleteRecord(t),(s=this.$refs.affiliationView)==null||s.handleDeleteRecordResponse(t);break;case"addAccountToTerritories":this.$refs.hierarchyView.processAddToTerrResult(t.data),(r=this.$refs.affiliationView)==null||r.handleAddToTerritoryResponse(t.data);break;case"hasInternetConnection":this.currentView==="Hierarchy"?this.$refs.hierarchyView.handleHasInternetConnectionResponse(t.data):this.currentView==="Affiliation"&&((a=this.$refs.affiliationView)==null||a.handleHasInternetConnectionResponse(t.data));break;case"loadAccountRelatedObjectFields":this.$refs.hierarchyView.handleAccountRelatedObjectResponse(t.data),(l=this.$refs.affiliationView)==null||l.handleAccountRelatedObjectResponse(t.data);break;case"loadOutOfHierarchyAccounts":this.$refs.hierarchyView.handleOOHAccountResponse(t.data);break;case"loadAffiliationViewData":(c=this.$refs.affiliationView)==null||c.handleQueryResponseForViewDataRequest(t.data);break;case"performAccountSearch":(d=this.$refs.affiliationView)==null||d.handleAccountSearchResponse(t.data);break;case"error":this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("LOADING_ERROR_GENERIC"),errorDetailMessage:t.data,hideLoading:!0});break;default:console.log(`Unrecognized command ${i} recieved from platform. With content ${t}`);break}}catch(f){console.log(`Exception occurred with command ${i}: `,f),this.openErrorModalWithMessage({errorMessage:this.getVeevaMessage("LOADING_ERROR_GENERIC"),errorDetailMessage:f,hideLoading:!0})}},transitionToAffiliationView(e){this.affiliationViewRootId=e,this.currentView="Affiliation",this.getMessageService.showAccountCount(!1)},transitionToHierarchyView(){this.currentView="Hierarchy",this.getMessageService.showAccountCount(!0)}}};function P1(e,t,i,n,o,s){const r=M("HierarchyView"),a=M("AffiliationView"),l=M("LoadingModal"),c=M("ErrorModal");return g(),A(B,null,[yt(I(r,{ref:"hierarchyView",onLaunchAffiliationView:s.transitionToAffiliationView},null,8,["onLaunchAffiliationView"]),[[rs,o.currentView==="Hierarchy"]]),o.currentView==="Affiliation"?(g(),R(a,{key:0,ref:"affiliationView","root-account-id":o.affiliationViewRootId,onLaunchHierarchyView:s.transitionToHierarchyView},null,8,["root-account-id","onLaunchHierarchyView"])):b("",!0),e.isGraphLoading?(g(),R(l,{key:1})):b("",!0),e.getGraphErrorState?(g(),R(c,{key:2})):b("",!0)],64)}const $1=z(x1,[["render",P1]]),Gl=pf($1);Gl.use(Ae);Gl.mount("#app");
