!function(){var a=angular.module("app",["ngRoute","ngResource","ngCookies","ngSanitize","ngTouch","ui.bootstrap","ngGrid","templates-main"]).config(function(a){a.when("/",{templateUrl:"partials/home.html",controller:"HomeCtrl"}).when("/detail",{templateUrl:"partials/detail.html",controller:"DetailCtrl"}).when("/survey-target-list",{templateUrl:"partials/survey-target-list.html",controller:"SurveyTargetListCtrl"}).when("/survey-target-detail/:surveyTargetId",{templateUrl:"partials/survey-target-detail.html",controller:"SurveyTargetDetailCtrl"}).otherwise({redirectTo:"/"})});a.controller("HomeCtrl",["$scope","$location",function(a,b){b.path("survey-target-list")}]),a.controller("SurveyTargetListCtrl",["$rootScope","$scope","$http","$location",function(a,b,c,d){b.detailFilter="Summary",b.fields=[{name:"SurveyName",display:"Survey"},{name:"AccountName",display:"Account"},{name:"OwnerName",display:"Owner"},{name:"Status",display:"Status"}];for(var e=0;25>e;e++){var f=e+1;b.fields.push({name:"Q"+f,display:"Q"+f}),b.fields.push({name:"A"+f,display:"A"+f})}if(b.visibleItemCount=function(){return angular.element(".item-row").size()},b.reverseSort=!1,b.sortField="SurveyName",b.orderBy=function(a){b.sortField===a.name?b.reverseSort=!b.reverseSort:(b.reverseSort=!1,b.sortField=a.name)},b.detail=function(a){console.log("detail clicked"),d.path("/survey-target-detail/"+a.Survey_Target_vod__c)},!a.items){var g={host:"test.salesforce.com",username:"brian.pfeil@merck.com.hhusd1",password:"ji7shmyt3"};$.post("https://salesforce-rest-api-proxy.herokuapp.com/api.php/login",g,function(b){console.log(b);var c="https://salesforce-rest-api-proxy.herokuapp.com/proxy.php",d=new forcetk.Client(null,null,c),e=b.serverUrl.substring(0,b.serverUrl.indexOf(".salesforce.com")+".salesforce.com".length);console.log("instanceUrl: "+e),d.setSessionToken(b.sessionId,"v29.0",e),d.useCache();var f=function(a){console.log(a)},g="005U0000000XMVTIA4";d.surveyTargetsFlattenedForAllUsersAccounts(g,function(b){console.log(b),console.log("result.length: "+b.length),a.items=b,a.$apply()},f)})}b.myOptions={data:"items"}}]),a.controller("SurveyTargetDetailCtrl",["$rootScope","$scope","$routeParams",function(a,b,c){angular.forEach(a.items,function(a){a.Survey_Target_vod__c==c.surveyTargetId&&(b.item=a)})}]),a.controller("DetailCtrl",["$scope",function(a){a.message="All details all the time"}]),angular.element(document).ready(function(){console.log("bootstrapping v11"),$appContainer=$($("#app-frame").get(0).contentDocument).find("body").append("<div></div>").attr("ng-app","").attr("ng-view",""),setTimeout(function(){angular.bootstrap($appContainer.get(0),["app"])},500)})}();
//# sourceMappingURL=app.min.map